function Vf(e,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in e)){const f=Object.getOwnPropertyDescriptor(a,u);f&&Object.defineProperty(e,u,f.get?f:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();var Fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yf={exports:{}},hl={},Xf={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=Symbol.for("react.element"),up=Symbol.for("react.portal"),fp=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),pp=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),yp=Symbol.for("react.memo"),wp=Symbol.for("react.lazy"),s0=Symbol.iterator;function Cp(e){return e===null||typeof e!="object"?null:(e=s0&&e[s0]||e["@@iterator"],typeof e=="function"?e:null)}var Qf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zf=Object.assign,Kf={};function ys(e,t,i){this.props=e,this.context=t,this.refs=Kf,this.updater=i||Qf}ys.prototype.isReactComponent={};ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qf(){}qf.prototype=ys.prototype;function ku(e,t,i){this.props=e,this.context=t,this.refs=Kf,this.updater=i||Qf}var Bu=ku.prototype=new qf;Bu.constructor=ku;Zf(Bu,ys.prototype);Bu.isPureReactComponent=!0;var o0=Array.isArray,$f=Object.prototype.hasOwnProperty,Pu={current:null},Jf={key:!0,ref:!0,__self:!0,__source:!0};function ed(e,t,i){var a,u={},f=null,g=null;if(t!=null)for(a in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(f=""+t.key),t)$f.call(t,a)&&!Jf.hasOwnProperty(a)&&(u[a]=t[a]);var x=arguments.length-2;if(x===1)u.children=i;else if(1<x){for(var w=Array(x),m=0;m<x;m++)w[m]=arguments[m+2];u.children=w}if(e&&e.defaultProps)for(a in x=e.defaultProps,x)u[a]===void 0&&(u[a]=x[a]);return{$$typeof:Oo,type:e,key:f,ref:g,props:u,_owner:Pu.current}}function Ep(e,t){return{$$typeof:Oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oo}function Ap(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var a0=/\/+/g;function Jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ap(""+e.key):t.toString(36)}function Ea(e,t,i,a,u){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case Oo:case up:g=!0}}if(g)return g=e,u=u(g),e=a===""?"."+Jl(g,0):a,o0(u)?(i="",e!=null&&(i=e.replace(a0,"$&/")+"/"),Ea(u,t,i,"",function(m){return m})):u!=null&&(Fu(u)&&(u=Ep(u,i+(!u.key||g&&g.key===u.key?"":(""+u.key).replace(a0,"$&/")+"/")+e)),t.push(u)),1;if(g=0,a=a===""?".":a+":",o0(e))for(var x=0;x<e.length;x++){f=e[x];var w=a+Jl(f,x);g+=Ea(f,t,i,w,u)}else if(w=Cp(e),typeof w=="function")for(e=w.call(e),x=0;!(f=e.next()).done;)f=f.value,w=a+Jl(f,x++),g+=Ea(f,t,i,w,u);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function Zo(e,t,i){if(e==null)return e;var a=[],u=0;return Ea(e,a,"","",function(f){return t.call(i,f,u++)}),a}function vp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kt={current:null},Aa={transition:null},Sp={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Aa,ReactCurrentOwner:Pu};Te.Children={map:Zo,forEach:function(e,t,i){Zo(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Zo(e,function(){t++}),t},toArray:function(e){return Zo(e,function(t){return t})||[]},only:function(e){if(!Fu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=ys;Te.Fragment=fp;Te.Profiler=hp;Te.PureComponent=ku;Te.StrictMode=dp;Te.Suspense=xp;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;Te.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Zf({},e.props),u=e.key,f=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,g=Pu.current),t.key!==void 0&&(u=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(w in t)$f.call(t,w)&&!Jf.hasOwnProperty(w)&&(a[w]=t[w]===void 0&&x!==void 0?x[w]:t[w])}var w=arguments.length-2;if(w===1)a.children=i;else if(1<w){x=Array(w);for(var m=0;m<w;m++)x[m]=arguments[m+2];a.children=x}return{$$typeof:Oo,type:e.type,key:u,ref:f,props:a,_owner:g}};Te.createContext=function(e){return e={$$typeof:pp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gp,_context:e},e.Consumer=e};Te.createElement=ed;Te.createFactory=function(e){var t=ed.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:mp,render:e}};Te.isValidElement=Fu;Te.lazy=function(e){return{$$typeof:wp,_payload:{_status:-1,_result:e},_init:vp}};Te.memo=function(e,t){return{$$typeof:yp,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Aa.transition;Aa.transition={};try{e()}finally{Aa.transition=t}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(e,t){return Kt.current.useCallback(e,t)};Te.useContext=function(e){return Kt.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Kt.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Kt.current.useEffect(e,t)};Te.useId=function(){return Kt.current.useId()};Te.useImperativeHandle=function(e,t,i){return Kt.current.useImperativeHandle(e,t,i)};Te.useInsertionEffect=function(e,t){return Kt.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Kt.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Kt.current.useMemo(e,t)};Te.useReducer=function(e,t,i){return Kt.current.useReducer(e,t,i)};Te.useRef=function(e){return Kt.current.useRef(e)};Te.useState=function(e){return Kt.current.useState(e)};Te.useSyncExternalStore=function(e,t,i){return Kt.current.useSyncExternalStore(e,t,i)};Te.useTransition=function(){return Kt.current.useTransition()};Te.version="18.2.0";Xf.exports=Te;var F=Xf.exports;const Ve=Gf(F),Ip=Vf({__proto__:null,default:Ve},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=F,Tp=Symbol.for("react.element"),Np=Symbol.for("react.fragment"),bp=Object.prototype.hasOwnProperty,Mp=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Op={key:!0,ref:!0,__self:!0,__source:!0};function td(e,t,i){var a,u={},f=null,g=null;i!==void 0&&(f=""+i),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(g=t.ref);for(a in t)bp.call(t,a)&&!Op.hasOwnProperty(a)&&(u[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)u[a]===void 0&&(u[a]=t[a]);return{$$typeof:Tp,type:e,key:f,ref:g,props:u,_owner:Mp.current}}hl.Fragment=Np;hl.jsx=td;hl.jsxs=td;Yf.exports=hl;var C=Yf.exports,Bc={},nd={exports:{}},Cn={},rd={exports:{}},id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,ee){var re=H.length;H.push(ee);e:for(;0<re;){var he=re-1>>>1,we=H[he];if(0<u(we,ee))H[he]=ee,H[re]=we,re=he;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ee=H[0],re=H.pop();if(re!==ee){H[0]=re;e:for(var he=0,we=H.length,vt=we>>>1;he<vt;){var je=2*(he+1)-1,Xn=H[je],ue=je+1,_r=H[ue];if(0>u(Xn,re))ue<we&&0>u(_r,Xn)?(H[he]=_r,H[ue]=re,he=ue):(H[he]=Xn,H[je]=re,he=je);else if(ue<we&&0>u(_r,re))H[he]=_r,H[ue]=re,he=ue;else break e}}return ee}function u(H,ee){var re=H.sortIndex-ee.sortIndex;return re!==0?re:H.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,x=g.now();e.unstable_now=function(){return g.now()-x}}var w=[],m=[],I=1,v=null,M=3,R=!1,U=!1,k=!1,W=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(H){for(var ee=i(m);ee!==null;){if(ee.callback===null)a(m);else if(ee.startTime<=H)a(m),ee.sortIndex=ee.expirationTime,t(w,ee);else break;ee=i(m)}}function B(H){if(k=!1,O(H),!U)if(i(w)!==null)U=!0,ve(Q);else{var ee=i(m);ee!==null&&fe(B,ee.startTime-H)}}function Q(H,ee){U=!1,k&&(k=!1,N(K),K=-1),R=!0;var re=M;try{for(O(ee),v=i(w);v!==null&&(!(v.expirationTime>ee)||H&&!Ie());){var he=v.callback;if(typeof he=="function"){v.callback=null,M=v.priorityLevel;var we=he(v.expirationTime<=ee);ee=e.unstable_now(),typeof we=="function"?v.callback=we:v===i(w)&&a(w),O(ee)}else a(w);v=i(w)}if(v!==null)var vt=!0;else{var je=i(m);je!==null&&fe(B,je.startTime-ee),vt=!1}return vt}finally{v=null,M=re,R=!1}}var q=!1,z=null,K=-1,X=5,pe=-1;function Ie(){return!(e.unstable_now()-pe<X)}function oe(){if(z!==null){var H=e.unstable_now();pe=H;var ee=!0;try{ee=z(!0,H)}finally{ee?ye():(q=!1,z=null)}}else q=!1}var ye;if(typeof _=="function")ye=function(){_(oe)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Y=Se.port2;Se.port1.onmessage=oe,ye=function(){Y.postMessage(null)}}else ye=function(){W(oe,0)};function ve(H){z=H,q||(q=!0,ye())}function fe(H,ee){K=W(function(){H(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){U||R||(U=!0,ve(Q))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return i(w)},e.unstable_next=function(H){switch(M){case 1:case 2:case 3:var ee=3;break;default:ee=M}var re=M;M=ee;try{return H()}finally{M=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=M;M=H;try{return ee()}finally{M=re}},e.unstable_scheduleCallback=function(H,ee,re){var he=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?he+re:he):re=he,H){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=re+we,H={id:I++,callback:ee,priorityLevel:H,startTime:re,expirationTime:we,sortIndex:-1},re>he?(H.sortIndex=re,t(m,H),i(w)===null&&H===i(m)&&(k?(N(K),K=-1):k=!0,fe(B,re-he))):(H.sortIndex=we,t(w,H),U||R||(U=!0,ve(Q))),H},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(H){var ee=M;return function(){var re=M;M=ee;try{return H.apply(this,arguments)}finally{M=re}}}})(id);rd.exports=id;var Rp=rd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=F,wn=Rp;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var od=new Set,fo={};function Ri(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(fo[e]=t,e=0;e<t.length;e++)od.add(t[e])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=Object.prototype.hasOwnProperty,Dp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l0={},c0={};function Lp(e){return Pc.call(c0,e)?!0:Pc.call(l0,e)?!1:Dp.test(e)?c0[e]=!0:(l0[e]=!0,!1)}function kp(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bp(e,t,i,a){if(t===null||typeof t>"u"||kp(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(e,t,i,a,u,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bt[e]=new qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bt[t]=new qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bt[e]=new qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bt[e]=new qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bt[e]=new qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bt[e]=new qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bt[e]=new qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bt[e]=new qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bt[e]=new qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ju=/[\-:]([a-z])/g;function Uu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ju,Uu);Bt[t]=new qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ju,Uu);Bt[t]=new qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ju,Uu);Bt[t]=new qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bt[e]=new qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bt[e]=new qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function zu(e,t,i,a){var u=Bt.hasOwnProperty(t)?Bt[t]:null;(u!==null?u.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bp(t,i,u,a)&&(i=null),a||u===null?Lp(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(t=u.attributeName,a=u.attributeNamespace,i===null?e.removeAttribute(t):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var Sr=sd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ko=Symbol.for("react.element"),Yi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),Wu=Symbol.for("react.strict_mode"),Fc=Symbol.for("react.profiler"),ad=Symbol.for("react.provider"),ld=Symbol.for("react.context"),Hu=Symbol.for("react.forward_ref"),jc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),Vu=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),cd=Symbol.for("react.offscreen"),u0=Symbol.iterator;function js(e){return e===null||typeof e!="object"?null:(e=u0&&e[u0]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,ec;function Zs(e){if(ec===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ec=t&&t[1]||""}return`
`+ec+e}var tc=!1;function nc(e,t){if(!e||tc)return"";tc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var a=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){a=m}e.call(t.prototype)}else{try{throw Error()}catch(m){a=m}e()}}catch(m){if(m&&a&&typeof m.stack=="string"){for(var u=m.stack.split(`
`),f=a.stack.split(`
`),g=u.length-1,x=f.length-1;1<=g&&0<=x&&u[g]!==f[x];)x--;for(;1<=g&&0<=x;g--,x--)if(u[g]!==f[x]){if(g!==1||x!==1)do if(g--,x--,0>x||u[g]!==f[x]){var w=`
`+u[g].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=g&&0<=x);break}}}finally{tc=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Zs(e):""}function Pp(e){switch(e.tag){case 5:return Zs(e.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return e=nc(e.type,!1),e;case 11:return e=nc(e.type.render,!1),e;case 1:return e=nc(e.type,!0),e;default:return""}}function zc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xi:return"Fragment";case Yi:return"Portal";case Fc:return"Profiler";case Wu:return"StrictMode";case jc:return"Suspense";case Uc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ld:return(e.displayName||"Context")+".Consumer";case ad:return(e._context.displayName||"Context")+".Provider";case Hu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vu:return t=e.displayName||null,t!==null?t:zc(e.type)||"Memo";case jr:t=e._payload,e=e._init;try{return zc(e(t))}catch{}}return null}function Fp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zc(t);case 8:return t===Wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ni(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ud(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jp(e){var t=ud(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qo(e){e._valueTracker||(e._valueTracker=jp(e))}function fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=ud(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wc(e,t){var i=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function f0(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=ni(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dd(e,t){t=t.checked,t!=null&&zu(e,"checked",t,!1)}function Hc(e,t){dd(e,t);var i=ni(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vc(e,t.type,i):t.hasOwnProperty("defaultValue")&&Vc(e,t.type,ni(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function d0(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Vc(e,t,i){(t!=="number"||Ba(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Ks=Array.isArray;function ss(e,t,i,a){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+ni(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Gc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function h0(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(J(92));if(Ks(i)){if(1<i.length)throw Error(J(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ni(i)}}function hd(e,t){var i=ni(t.value),a=ni(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function g0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $o,pd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,u){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$o.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ho(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Up=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(e){Up.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eo[t]=eo[e]})});function md(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||eo.hasOwnProperty(e)&&eo[e]?(""+t).trim():t+"px"}function xd(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,u=md(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,u):e[i]=u}}var zp=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xc(e,t){if(t){if(zp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Qc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=null;function Gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kc=null,os=null,as=null;function p0(e){if(e=Lo(e)){if(typeof Kc!="function")throw Error(J(280));var t=e.stateNode;t&&(t=yl(t),Kc(e.stateNode,e.type,t))}}function yd(e){os?as?as.push(e):as=[e]:os=e}function wd(){if(os){var e=os,t=as;if(as=os=null,p0(e),t)for(e=0;e<t.length;e++)p0(t[e])}}function Cd(e,t){return e(t)}function Ed(){}var rc=!1;function Ad(e,t,i){if(rc)return e(t,i);rc=!0;try{return Cd(e,t,i)}finally{rc=!1,(os!==null||as!==null)&&(Ed(),wd())}}function go(e,t){var i=e.stateNode;if(i===null)return null;var a=yl(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(J(231,t,typeof i));return i}var qc=!1;if(wr)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){qc=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{qc=!1}function Wp(e,t,i,a,u,f,g,x,w){var m=Array.prototype.slice.call(arguments,3);try{t.apply(i,m)}catch(I){this.onError(I)}}var to=!1,Pa=null,Fa=!1,$c=null,Hp={onError:function(e){to=!0,Pa=e}};function Vp(e,t,i,a,u,f,g,x,w){to=!1,Pa=null,Wp.apply(Hp,arguments)}function Gp(e,t,i,a,u,f,g,x,w){if(Vp.apply(this,arguments),to){if(to){var m=Pa;to=!1,Pa=null}else throw Error(J(198));Fa||(Fa=!0,$c=m)}}function Di(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function vd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m0(e){if(Di(e)!==e)throw Error(J(188))}function Yp(e){var t=e.alternate;if(!t){if(t=Di(e),t===null)throw Error(J(188));return t!==e?null:e}for(var i=e,a=t;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return m0(u),e;if(f===a)return m0(u),t;f=f.sibling}throw Error(J(188))}if(i.return!==a.return)i=u,a=f;else{for(var g=!1,x=u.child;x;){if(x===i){g=!0,i=u,a=f;break}if(x===a){g=!0,a=u,i=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===i){g=!0,i=f,a=u;break}if(x===a){g=!0,a=f,i=u;break}x=x.sibling}if(!g)throw Error(J(189))}}if(i.alternate!==a)throw Error(J(190))}if(i.tag!==3)throw Error(J(188));return i.stateNode.current===i?e:t}function Sd(e){return e=Yp(e),e!==null?Id(e):null}function Id(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Id(e);if(t!==null)return t;e=e.sibling}return null}var _d=wn.unstable_scheduleCallback,x0=wn.unstable_cancelCallback,Xp=wn.unstable_shouldYield,Qp=wn.unstable_requestPaint,ft=wn.unstable_now,Zp=wn.unstable_getCurrentPriorityLevel,Yu=wn.unstable_ImmediatePriority,Td=wn.unstable_UserBlockingPriority,ja=wn.unstable_NormalPriority,Kp=wn.unstable_LowPriority,Nd=wn.unstable_IdlePriority,gl=null,or=null;function qp(e){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(gl,e,void 0,(e.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:e2,$p=Math.log,Jp=Math.LN2;function e2(e){return e>>>=0,e===0?32:31-($p(e)/Jp|0)|0}var Jo=64,ea=4194304;function qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ua(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,u=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var x=g&~u;x!==0?a=qs(x):(f&=g,f!==0&&(a=qs(f)))}else g=i&~u,g!==0?a=qs(g):f!==0&&(a=qs(f));if(a===0)return 0;if(t!==0&&t!==a&&!(t&u)&&(u=a&-a,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if(a&4&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-Vn(t),u=1<<i,a|=e[i],t&=~u;return a}function t2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n2(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Vn(f),x=1<<g,w=u[g];w===-1?(!(x&i)||x&a)&&(u[g]=t2(x,t)):w<=t&&(e.expiredLanes|=x),f&=~x}}function Jc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bd(){var e=Jo;return Jo<<=1,!(Jo&4194240)&&(Jo=64),e}function ic(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ro(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vn(t),e[t]=i}function r2(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-Vn(i),f=1<<u;t[u]=0,a[u]=-1,e[u]=-1,i&=~f}}function Xu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Vn(i),u=1<<a;u&t|e[a]&t&&(e[a]|=t),i&=~u}}var Fe=0;function Md(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Od,Qu,Rd,Dd,Ld,eu=!1,ta=[],Xr=null,Qr=null,Zr=null,po=new Map,mo=new Map,zr=[],i2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y0(e,t){switch(e){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(t.pointerId)}}function zs(e,t,i,a,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Lo(t),t!==null&&Qu(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function s2(e,t,i,a,u){switch(t){case"focusin":return Xr=zs(Xr,e,t,i,a,u),!0;case"dragenter":return Qr=zs(Qr,e,t,i,a,u),!0;case"mouseover":return Zr=zs(Zr,e,t,i,a,u),!0;case"pointerover":var f=u.pointerId;return po.set(f,zs(po.get(f)||null,e,t,i,a,u)),!0;case"gotpointercapture":return f=u.pointerId,mo.set(f,zs(mo.get(f)||null,e,t,i,a,u)),!0}return!1}function kd(e){var t=Ei(e.target);if(t!==null){var i=Di(t);if(i!==null){if(t=i.tag,t===13){if(t=vd(i),t!==null){e.blockedOn=t,Ld(e.priority,function(){Rd(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Zc=a,i.target.dispatchEvent(a),Zc=null}else return t=Lo(i),t!==null&&Qu(t),e.blockedOn=i,!1;t.shift()}return!0}function w0(e,t,i){va(e)&&i.delete(t)}function o2(){eu=!1,Xr!==null&&va(Xr)&&(Xr=null),Qr!==null&&va(Qr)&&(Qr=null),Zr!==null&&va(Zr)&&(Zr=null),po.forEach(w0),mo.forEach(w0)}function Ws(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,o2)))}function xo(e){function t(u){return Ws(u,e)}if(0<ta.length){Ws(ta[0],e);for(var i=1;i<ta.length;i++){var a=ta[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Xr!==null&&Ws(Xr,e),Qr!==null&&Ws(Qr,e),Zr!==null&&Ws(Zr,e),po.forEach(t),mo.forEach(t),i=0;i<zr.length;i++)a=zr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<zr.length&&(i=zr[0],i.blockedOn===null);)kd(i),i.blockedOn===null&&zr.shift()}var ls=Sr.ReactCurrentBatchConfig,za=!0;function a2(e,t,i,a){var u=Fe,f=ls.transition;ls.transition=null;try{Fe=1,Zu(e,t,i,a)}finally{Fe=u,ls.transition=f}}function l2(e,t,i,a){var u=Fe,f=ls.transition;ls.transition=null;try{Fe=4,Zu(e,t,i,a)}finally{Fe=u,ls.transition=f}}function Zu(e,t,i,a){if(za){var u=tu(e,t,i,a);if(u===null)gc(e,t,a,Wa,i),y0(e,a);else if(s2(u,e,t,i,a))a.stopPropagation();else if(y0(e,a),t&4&&-1<i2.indexOf(e)){for(;u!==null;){var f=Lo(u);if(f!==null&&Od(f),f=tu(e,t,i,a),f===null&&gc(e,t,a,Wa,i),f===u)break;u=f}u!==null&&a.stopPropagation()}else gc(e,t,a,null,i)}}var Wa=null;function tu(e,t,i,a){if(Wa=null,e=Gu(a),e=Ei(e),e!==null)if(t=Di(e),t===null)e=null;else if(i=t.tag,i===13){if(e=vd(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wa=e,null}function Bd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zp()){case Yu:return 1;case Td:return 4;case ja:case Kp:return 16;case Nd:return 536870912;default:return 16}default:return 16}}var Hr=null,Ku=null,Sa=null;function Pd(){if(Sa)return Sa;var e,t=Ku,i=t.length,a,u="value"in Hr?Hr.value:Hr.textContent,f=u.length;for(e=0;e<i&&t[e]===u[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===u[f-a];a++);return Sa=u.slice(e,1<a?1-a:void 0)}function Ia(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function na(){return!0}function C0(){return!1}function En(e){function t(i,a,u,f,g){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?na:C0,this.isPropagationStopped=C0,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),t}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=En(ws),Do=rt({},ws,{view:0,detail:0}),c2=En(Do),sc,oc,Hs,pl=rt({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hs&&(Hs&&e.type==="mousemove"?(sc=e.screenX-Hs.screenX,oc=e.screenY-Hs.screenY):oc=sc=0,Hs=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:oc}}),E0=En(pl),u2=rt({},pl,{dataTransfer:0}),f2=En(u2),d2=rt({},Do,{relatedTarget:0}),ac=En(d2),h2=rt({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),g2=En(h2),p2=rt({},ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m2=En(p2),x2=rt({},ws,{data:0}),A0=En(x2),y2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C2[e])?!!t[e]:!1}function $u(){return E2}var A2=rt({},Do,{key:function(e){if(e.key){var t=y2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$u,charCode:function(e){return e.type==="keypress"?Ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v2=En(A2),S2=rt({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v0=En(S2),I2=rt({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$u}),_2=En(I2),T2=rt({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),N2=En(T2),b2=rt({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M2=En(b2),O2=[9,13,27,32],Ju=wr&&"CompositionEvent"in window,no=null;wr&&"documentMode"in document&&(no=document.documentMode);var R2=wr&&"TextEvent"in window&&!no,Fd=wr&&(!Ju||no&&8<no&&11>=no),S0=String.fromCharCode(32),I0=!1;function jd(e,t){switch(e){case"keyup":return O2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qi=!1;function D2(e,t){switch(e){case"compositionend":return Ud(t);case"keypress":return t.which!==32?null:(I0=!0,S0);case"textInput":return e=t.data,e===S0&&I0?null:e;default:return null}}function L2(e,t){if(Qi)return e==="compositionend"||!Ju&&jd(e,t)?(e=Pd(),Sa=Ku=Hr=null,Qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fd&&t.locale!=="ko"?null:t.data;default:return null}}var k2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!k2[e.type]:t==="textarea"}function zd(e,t,i,a){yd(a),t=Ha(t,"onChange"),0<t.length&&(i=new qu("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var ro=null,yo=null;function B2(e){$d(e,0)}function ml(e){var t=qi(e);if(fd(t))return e}function P2(e,t){if(e==="change")return t}var Wd=!1;if(wr){var lc;if(wr){var cc="oninput"in document;if(!cc){var T0=document.createElement("div");T0.setAttribute("oninput","return;"),cc=typeof T0.oninput=="function"}lc=cc}else lc=!1;Wd=lc&&(!document.documentMode||9<document.documentMode)}function N0(){ro&&(ro.detachEvent("onpropertychange",Hd),yo=ro=null)}function Hd(e){if(e.propertyName==="value"&&ml(yo)){var t=[];zd(t,yo,e,Gu(e)),Ad(B2,t)}}function F2(e,t,i){e==="focusin"?(N0(),ro=t,yo=i,ro.attachEvent("onpropertychange",Hd)):e==="focusout"&&N0()}function j2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(yo)}function U2(e,t){if(e==="click")return ml(t)}function z2(e,t){if(e==="input"||e==="change")return ml(t)}function W2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:W2;function wo(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!Pc.call(t,u)||!Yn(e[u],t[u]))return!1}return!0}function b0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function M0(e,t){var i=b0(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=b0(i)}}function Vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gd(){for(var e=window,t=Ba();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ba(e.document)}return t}function e1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function H2(e){var t=Gd(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Vd(i.ownerDocument.documentElement,i)){if(a!==null&&e1(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,f=Math.min(a.start,u);a=a.end===void 0?f:Math.min(a.end,u),!e.extend&&f>a&&(u=a,a=f,f=u),u=M0(i,f);var g=M0(i,a);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V2=wr&&"documentMode"in document&&11>=document.documentMode,Zi=null,nu=null,io=null,ru=!1;function O0(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ru||Zi==null||Zi!==Ba(a)||(a=Zi,"selectionStart"in a&&e1(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),io&&wo(io,a)||(io=a,a=Ha(nu,"onSelect"),0<a.length&&(t=new qu("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Zi)))}function ra(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ki={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionend:ra("Transition","TransitionEnd")},uc={},Yd={};wr&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function xl(e){if(uc[e])return uc[e];if(!Ki[e])return e;var t=Ki[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Yd)return uc[e]=t[i];return e}var Xd=xl("animationend"),Qd=xl("animationiteration"),Zd=xl("animationstart"),Kd=xl("transitionend"),qd=new Map,R0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(e,t){qd.set(e,t),Ri(t,[e])}for(var fc=0;fc<R0.length;fc++){var dc=R0[fc],G2=dc.toLowerCase(),Y2=dc[0].toUpperCase()+dc.slice(1);ii(G2,"on"+Y2)}ii(Xd,"onAnimationEnd");ii(Qd,"onAnimationIteration");ii(Zd,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(Kd,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X2=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function D0(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Gp(a,t,void 0,e),e.currentTarget=null}function $d(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var g=a.length-1;0<=g;g--){var x=a[g],w=x.instance,m=x.currentTarget;if(x=x.listener,w!==f&&u.isPropagationStopped())break e;D0(u,x,m),f=w}else for(g=0;g<a.length;g++){if(x=a[g],w=x.instance,m=x.currentTarget,x=x.listener,w!==f&&u.isPropagationStopped())break e;D0(u,x,m),f=w}}}if(Fa)throw e=$c,Fa=!1,$c=null,e}function Ze(e,t){var i=t[lu];i===void 0&&(i=t[lu]=new Set);var a=e+"__bubble";i.has(a)||(Jd(t,e,2,!1),i.add(a))}function hc(e,t,i){var a=0;t&&(a|=4),Jd(i,e,a,t)}var ia="_reactListening"+Math.random().toString(36).slice(2);function Co(e){if(!e[ia]){e[ia]=!0,od.forEach(function(i){i!=="selectionchange"&&(X2.has(i)||hc(i,!1,e),hc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ia]||(t[ia]=!0,hc("selectionchange",!1,t))}}function Jd(e,t,i,a){switch(Bd(t)){case 1:var u=a2;break;case 4:u=l2;break;default:u=Zu}i=u.bind(null,t,i,e),u=void 0,!qc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function gc(e,t,i,a,u){var f=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var x=a.stateNode.containerInfo;if(x===u||x.nodeType===8&&x.parentNode===u)break;if(g===4)for(g=a.return;g!==null;){var w=g.tag;if((w===3||w===4)&&(w=g.stateNode.containerInfo,w===u||w.nodeType===8&&w.parentNode===u))return;g=g.return}for(;x!==null;){if(g=Ei(x),g===null)return;if(w=g.tag,w===5||w===6){a=f=g;continue e}x=x.parentNode}}a=a.return}Ad(function(){var m=f,I=Gu(i),v=[];e:{var M=qd.get(e);if(M!==void 0){var R=qu,U=e;switch(e){case"keypress":if(Ia(i)===0)break e;case"keydown":case"keyup":R=v2;break;case"focusin":U="focus",R=ac;break;case"focusout":U="blur",R=ac;break;case"beforeblur":case"afterblur":R=ac;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=E0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=f2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=_2;break;case Xd:case Qd:case Zd:R=g2;break;case Kd:R=N2;break;case"scroll":R=c2;break;case"wheel":R=M2;break;case"copy":case"cut":case"paste":R=m2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=v0}var k=(t&4)!==0,W=!k&&e==="scroll",N=k?M!==null?M+"Capture":null:M;k=[];for(var _=m,O;_!==null;){O=_;var B=O.stateNode;if(O.tag===5&&B!==null&&(O=B,N!==null&&(B=go(_,N),B!=null&&k.push(Eo(_,B,O)))),W)break;_=_.return}0<k.length&&(M=new R(M,U,null,i,I),v.push({event:M,listeners:k}))}}if(!(t&7)){e:{if(M=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",M&&i!==Zc&&(U=i.relatedTarget||i.fromElement)&&(Ei(U)||U[Cr]))break e;if((R||M)&&(M=I.window===I?I:(M=I.ownerDocument)?M.defaultView||M.parentWindow:window,R?(U=i.relatedTarget||i.toElement,R=m,U=U?Ei(U):null,U!==null&&(W=Di(U),U!==W||U.tag!==5&&U.tag!==6)&&(U=null)):(R=null,U=m),R!==U)){if(k=E0,B="onMouseLeave",N="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(k=v0,B="onPointerLeave",N="onPointerEnter",_="pointer"),W=R==null?M:qi(R),O=U==null?M:qi(U),M=new k(B,_+"leave",R,i,I),M.target=W,M.relatedTarget=O,B=null,Ei(I)===m&&(k=new k(N,_+"enter",U,i,I),k.target=O,k.relatedTarget=W,B=k),W=B,R&&U)t:{for(k=R,N=U,_=0,O=k;O;O=Vi(O))_++;for(O=0,B=N;B;B=Vi(B))O++;for(;0<_-O;)k=Vi(k),_--;for(;0<O-_;)N=Vi(N),O--;for(;_--;){if(k===N||N!==null&&k===N.alternate)break t;k=Vi(k),N=Vi(N)}k=null}else k=null;R!==null&&L0(v,M,R,k,!1),U!==null&&W!==null&&L0(v,W,U,k,!0)}}e:{if(M=m?qi(m):window,R=M.nodeName&&M.nodeName.toLowerCase(),R==="select"||R==="input"&&M.type==="file")var Q=P2;else if(_0(M))if(Wd)Q=z2;else{Q=j2;var q=F2}else(R=M.nodeName)&&R.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(Q=U2);if(Q&&(Q=Q(e,m))){zd(v,Q,i,I);break e}q&&q(e,M,m),e==="focusout"&&(q=M._wrapperState)&&q.controlled&&M.type==="number"&&Vc(M,"number",M.value)}switch(q=m?qi(m):window,e){case"focusin":(_0(q)||q.contentEditable==="true")&&(Zi=q,nu=m,io=null);break;case"focusout":io=nu=Zi=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,O0(v,i,I);break;case"selectionchange":if(V2)break;case"keydown":case"keyup":O0(v,i,I)}var z;if(Ju)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Qi?jd(e,i)&&(K="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(K="onCompositionStart");K&&(Fd&&i.locale!=="ko"&&(Qi||K!=="onCompositionStart"?K==="onCompositionEnd"&&Qi&&(z=Pd()):(Hr=I,Ku="value"in Hr?Hr.value:Hr.textContent,Qi=!0)),q=Ha(m,K),0<q.length&&(K=new A0(K,e,null,i,I),v.push({event:K,listeners:q}),z?K.data=z:(z=Ud(i),z!==null&&(K.data=z)))),(z=R2?D2(e,i):L2(e,i))&&(m=Ha(m,"onBeforeInput"),0<m.length&&(I=new A0("onBeforeInput","beforeinput",null,i,I),v.push({event:I,listeners:m}),I.data=z))}$d(v,t)})}function Eo(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ha(e,t){for(var i=t+"Capture",a=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=go(e,i),f!=null&&a.unshift(Eo(e,f,u)),f=go(e,t),f!=null&&a.push(Eo(e,f,u))),e=e.return}return a}function Vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function L0(e,t,i,a,u){for(var f=t._reactName,g=[];i!==null&&i!==a;){var x=i,w=x.alternate,m=x.stateNode;if(w!==null&&w===a)break;x.tag===5&&m!==null&&(x=m,u?(w=go(i,f),w!=null&&g.unshift(Eo(i,w,x))):u||(w=go(i,f),w!=null&&g.push(Eo(i,w,x)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Q2=/\r\n?/g,Z2=/\u0000|\uFFFD/g;function k0(e){return(typeof e=="string"?e:""+e).replace(Q2,`
`).replace(Z2,"")}function sa(e,t,i){if(t=k0(t),k0(e)!==t&&i)throw Error(J(425))}function Va(){}var iu=null,su=null;function ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(e){return B0.resolve(null).then(e).catch($2)}:au;function $2(e){setTimeout(function(){throw e})}function pc(e,t){var i=t,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(a===0){e.removeChild(u),xo(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=u}while(i);xo(t)}function Kr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function P0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Cs=Math.random().toString(36).slice(2),sr="__reactFiber$"+Cs,Ao="__reactProps$"+Cs,Cr="__reactContainer$"+Cs,lu="__reactEvents$"+Cs,J2="__reactListeners$"+Cs,em="__reactHandles$"+Cs;function Ei(e){var t=e[sr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Cr]||i[sr]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=P0(e);e!==null;){if(i=e[sr])return i;e=P0(e)}return t}e=i,i=e.parentNode}return null}function Lo(e){return e=e[sr]||e[Cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function yl(e){return e[Ao]||null}var cu=[],$i=-1;function si(e){return{current:e}}function qe(e){0>$i||(e.current=cu[$i],cu[$i]=null,$i--)}function Xe(e,t){$i++,cu[$i]=e.current,e.current=t}var ri={},Wt=si(ri),ln=si(!1),_i=ri;function ds(e,t){var i=e.type.contextTypes;if(!i)return ri;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in i)u[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function cn(e){return e=e.childContextTypes,e!=null}function Ga(){qe(ln),qe(Wt)}function F0(e,t,i){if(Wt.current!==ri)throw Error(J(168));Xe(Wt,t),Xe(ln,i)}function eh(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var u in a)if(!(u in t))throw Error(J(108,Fp(e)||"Unknown",u));return rt({},i,a)}function Ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ri,_i=Wt.current,Xe(Wt,e),Xe(ln,ln.current),!0}function j0(e,t,i){var a=e.stateNode;if(!a)throw Error(J(169));i?(e=eh(e,t,_i),a.__reactInternalMemoizedMergedChildContext=e,qe(ln),qe(Wt),Xe(Wt,e)):qe(ln),Xe(ln,i)}var gr=null,wl=!1,mc=!1;function th(e){gr===null?gr=[e]:gr.push(e)}function tm(e){wl=!0,th(e)}function oi(){if(!mc&&gr!==null){mc=!0;var e=0,t=Fe;try{var i=gr;for(Fe=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}gr=null,wl=!1}catch(u){throw gr!==null&&(gr=gr.slice(e+1)),_d(Yu,oi),u}finally{Fe=t,mc=!1}}return null}var Ji=[],es=0,Xa=null,Qa=0,bn=[],Mn=0,Ti=null,pr=1,mr="";function xi(e,t){Ji[es++]=Qa,Ji[es++]=Xa,Xa=e,Qa=t}function nh(e,t,i){bn[Mn++]=pr,bn[Mn++]=mr,bn[Mn++]=Ti,Ti=e;var a=pr;e=mr;var u=32-Vn(a)-1;a&=~(1<<u),i+=1;var f=32-Vn(t)+u;if(30<f){var g=u-u%5;f=(a&(1<<g)-1).toString(32),a>>=g,u-=g,pr=1<<32-Vn(t)+u|i<<u|a,mr=f+e}else pr=1<<f|i<<u|a,mr=e}function t1(e){e.return!==null&&(xi(e,1),nh(e,1,0))}function n1(e){for(;e===Xa;)Xa=Ji[--es],Ji[es]=null,Qa=Ji[--es],Ji[es]=null;for(;e===Ti;)Ti=bn[--Mn],bn[Mn]=null,mr=bn[--Mn],bn[Mn]=null,pr=bn[--Mn],bn[Mn]=null}var yn=null,xn=null,Je=!1,Hn=null;function rh(e,t){var i=On(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function U0(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yn=e,xn=Kr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yn=e,xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Ti!==null?{id:pr,overflow:mr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=On(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,yn=e,xn=null,!0):!1;default:return!1}}function uu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fu(e){if(Je){var t=xn;if(t){var i=t;if(!U0(e,t)){if(uu(e))throw Error(J(418));t=Kr(i.nextSibling);var a=yn;t&&U0(e,t)?rh(a,i):(e.flags=e.flags&-4097|2,Je=!1,yn=e)}}else{if(uu(e))throw Error(J(418));e.flags=e.flags&-4097|2,Je=!1,yn=e}}}function z0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function oa(e){if(e!==yn)return!1;if(!Je)return z0(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ou(e.type,e.memoizedProps)),t&&(t=xn)){if(uu(e))throw ih(),Error(J(418));for(;t;)rh(e,t),t=Kr(t.nextSibling)}if(z0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){xn=Kr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}xn=null}}else xn=yn?Kr(e.stateNode.nextSibling):null;return!0}function ih(){for(var e=xn;e;)e=Kr(e.nextSibling)}function hs(){xn=yn=null,Je=!1}function r1(e){Hn===null?Hn=[e]:Hn.push(e)}var nm=Sr.ReactCurrentBatchConfig;function Un(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var Za=si(null),Ka=null,ts=null,i1=null;function s1(){i1=ts=Ka=null}function o1(e){var t=Za.current;qe(Za),e._currentValue=t}function du(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function cs(e,t){Ka=e,i1=ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function Dn(e){var t=e._currentValue;if(i1!==e)if(e={context:e,memoizedValue:t,next:null},ts===null){if(Ka===null)throw Error(J(308));ts=e,Ka.dependencies={lanes:0,firstContext:e}}else ts=ts.next=e;return t}var Ai=null;function a1(e){Ai===null?Ai=[e]:Ai.push(e)}function sh(e,t,i,a){var u=t.interleaved;return u===null?(i.next=i,a1(t)):(i.next=u.next,u.next=i),t.interleaved=i,Er(e,a)}function Er(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Ur=!1;function l1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qr(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Oe&2){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,Er(e,i)}return u=a.interleaved,u===null?(t.next=t,a1(a)):(t.next=u.next,u.next=t),a.interleaved=t,Er(e,i)}function _a(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Xu(e,i)}}function W0(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?u=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?u=f=t:f=f.next=t}else u=f=t;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function qa(e,t,i,a){var u=e.updateQueue;Ur=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,x=u.shared.pending;if(x!==null){u.shared.pending=null;var w=x,m=w.next;w.next=null,g===null?f=m:g.next=m,g=w;var I=e.alternate;I!==null&&(I=I.updateQueue,x=I.lastBaseUpdate,x!==g&&(x===null?I.firstBaseUpdate=m:x.next=m,I.lastBaseUpdate=w))}if(f!==null){var v=u.baseState;g=0,I=m=w=null,x=f;do{var M=x.lane,R=x.eventTime;if((a&M)===M){I!==null&&(I=I.next={eventTime:R,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var U=e,k=x;switch(M=t,R=i,k.tag){case 1:if(U=k.payload,typeof U=="function"){v=U.call(R,v,M);break e}v=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=k.payload,M=typeof U=="function"?U.call(R,v,M):U,M==null)break e;v=rt({},v,M);break e;case 2:Ur=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,M=u.effects,M===null?u.effects=[x]:M.push(x))}else R={eventTime:R,lane:M,tag:x.tag,payload:x.payload,callback:x.callback,next:null},I===null?(m=I=R,w=v):I=I.next=R,g|=M;if(x=x.next,x===null){if(x=u.shared.pending,x===null)break;M=x,x=M.next,M.next=null,u.lastBaseUpdate=M,u.shared.pending=null}}while(1);if(I===null&&(w=v),u.baseState=w,u.firstBaseUpdate=m,u.lastBaseUpdate=I,t=u.shared.interleaved,t!==null){u=t;do g|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);bi|=g,e.lanes=g,e.memoizedState=v}}function H0(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],u=a.callback;if(u!==null){if(a.callback=null,a=i,typeof u!="function")throw Error(J(191,u));u.call(a)}}}var ah=new sd.Component().refs;function hu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:rt({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Cl={isMounted:function(e){return(e=e._reactInternals)?Di(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Zt(),u=Jr(e),f=yr(a,u);f.payload=t,i!=null&&(f.callback=i),t=qr(e,f,u),t!==null&&(Gn(t,e,u,a),_a(t,e,u))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Zt(),u=Jr(e),f=yr(a,u);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=qr(e,f,u),t!==null&&(Gn(t,e,u,a),_a(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Zt(),a=Jr(e),u=yr(i,a);u.tag=2,t!=null&&(u.callback=t),t=qr(e,u,a),t!==null&&(Gn(t,e,a,i),_a(t,e,a))}};function V0(e,t,i,a,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):t.prototype&&t.prototype.isPureReactComponent?!wo(i,a)||!wo(u,f):!0}function lh(e,t,i){var a=!1,u=ri,f=t.contextType;return typeof f=="object"&&f!==null?f=Dn(f):(u=cn(t)?_i:Wt.current,a=t.contextTypes,f=(a=a!=null)?ds(e,u):ri),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cl,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function G0(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Cl.enqueueReplaceState(t,t.state,null)}function gu(e,t,i,a){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs=ah,l1(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=Dn(f):(f=cn(t)?_i:Wt.current,u.context=ds(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(hu(e,t,f,i),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Cl.enqueueReplaceState(u,u.state,null),qa(e,i,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Vs(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(J(309));var a=i.stateNode}if(!a)throw Error(J(147,e));var u=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var x=u.refs;x===ah&&(x=u.refs={}),g===null?delete x[f]:x[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(J(284));if(!i._owner)throw Error(J(290,e))}return e}function aa(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Y0(e){var t=e._init;return t(e._payload)}function ch(e){function t(N,_){if(e){var O=N.deletions;O===null?(N.deletions=[_],N.flags|=16):O.push(_)}}function i(N,_){if(!e)return null;for(;_!==null;)t(N,_),_=_.sibling;return null}function a(N,_){for(N=new Map;_!==null;)_.key!==null?N.set(_.key,_):N.set(_.index,_),_=_.sibling;return N}function u(N,_){return N=ei(N,_),N.index=0,N.sibling=null,N}function f(N,_,O){return N.index=O,e?(O=N.alternate,O!==null?(O=O.index,O<_?(N.flags|=2,_):O):(N.flags|=2,_)):(N.flags|=1048576,_)}function g(N){return e&&N.alternate===null&&(N.flags|=2),N}function x(N,_,O,B){return _===null||_.tag!==6?(_=vc(O,N.mode,B),_.return=N,_):(_=u(_,O),_.return=N,_)}function w(N,_,O,B){var Q=O.type;return Q===Xi?I(N,_,O.props.children,B,O.key):_!==null&&(_.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===jr&&Y0(Q)===_.type)?(B=u(_,O.props),B.ref=Vs(N,_,O),B.return=N,B):(B=Ra(O.type,O.key,O.props,null,N.mode,B),B.ref=Vs(N,_,O),B.return=N,B)}function m(N,_,O,B){return _===null||_.tag!==4||_.stateNode.containerInfo!==O.containerInfo||_.stateNode.implementation!==O.implementation?(_=Sc(O,N.mode,B),_.return=N,_):(_=u(_,O.children||[]),_.return=N,_)}function I(N,_,O,B,Q){return _===null||_.tag!==7?(_=Ii(O,N.mode,B,Q),_.return=N,_):(_=u(_,O),_.return=N,_)}function v(N,_,O){if(typeof _=="string"&&_!==""||typeof _=="number")return _=vc(""+_,N.mode,O),_.return=N,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ko:return O=Ra(_.type,_.key,_.props,null,N.mode,O),O.ref=Vs(N,null,_),O.return=N,O;case Yi:return _=Sc(_,N.mode,O),_.return=N,_;case jr:var B=_._init;return v(N,B(_._payload),O)}if(Ks(_)||js(_))return _=Ii(_,N.mode,O,null),_.return=N,_;aa(N,_)}return null}function M(N,_,O,B){var Q=_!==null?_.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Q!==null?null:x(N,_,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ko:return O.key===Q?w(N,_,O,B):null;case Yi:return O.key===Q?m(N,_,O,B):null;case jr:return Q=O._init,M(N,_,Q(O._payload),B)}if(Ks(O)||js(O))return Q!==null?null:I(N,_,O,B,null);aa(N,O)}return null}function R(N,_,O,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return N=N.get(O)||null,x(_,N,""+B,Q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ko:return N=N.get(B.key===null?O:B.key)||null,w(_,N,B,Q);case Yi:return N=N.get(B.key===null?O:B.key)||null,m(_,N,B,Q);case jr:var q=B._init;return R(N,_,O,q(B._payload),Q)}if(Ks(B)||js(B))return N=N.get(O)||null,I(_,N,B,Q,null);aa(_,B)}return null}function U(N,_,O,B){for(var Q=null,q=null,z=_,K=_=0,X=null;z!==null&&K<O.length;K++){z.index>K?(X=z,z=null):X=z.sibling;var pe=M(N,z,O[K],B);if(pe===null){z===null&&(z=X);break}e&&z&&pe.alternate===null&&t(N,z),_=f(pe,_,K),q===null?Q=pe:q.sibling=pe,q=pe,z=X}if(K===O.length)return i(N,z),Je&&xi(N,K),Q;if(z===null){for(;K<O.length;K++)z=v(N,O[K],B),z!==null&&(_=f(z,_,K),q===null?Q=z:q.sibling=z,q=z);return Je&&xi(N,K),Q}for(z=a(N,z);K<O.length;K++)X=R(z,N,K,O[K],B),X!==null&&(e&&X.alternate!==null&&z.delete(X.key===null?K:X.key),_=f(X,_,K),q===null?Q=X:q.sibling=X,q=X);return e&&z.forEach(function(Ie){return t(N,Ie)}),Je&&xi(N,K),Q}function k(N,_,O,B){var Q=js(O);if(typeof Q!="function")throw Error(J(150));if(O=Q.call(O),O==null)throw Error(J(151));for(var q=Q=null,z=_,K=_=0,X=null,pe=O.next();z!==null&&!pe.done;K++,pe=O.next()){z.index>K?(X=z,z=null):X=z.sibling;var Ie=M(N,z,pe.value,B);if(Ie===null){z===null&&(z=X);break}e&&z&&Ie.alternate===null&&t(N,z),_=f(Ie,_,K),q===null?Q=Ie:q.sibling=Ie,q=Ie,z=X}if(pe.done)return i(N,z),Je&&xi(N,K),Q;if(z===null){for(;!pe.done;K++,pe=O.next())pe=v(N,pe.value,B),pe!==null&&(_=f(pe,_,K),q===null?Q=pe:q.sibling=pe,q=pe);return Je&&xi(N,K),Q}for(z=a(N,z);!pe.done;K++,pe=O.next())pe=R(z,N,K,pe.value,B),pe!==null&&(e&&pe.alternate!==null&&z.delete(pe.key===null?K:pe.key),_=f(pe,_,K),q===null?Q=pe:q.sibling=pe,q=pe);return e&&z.forEach(function(oe){return t(N,oe)}),Je&&xi(N,K),Q}function W(N,_,O,B){if(typeof O=="object"&&O!==null&&O.type===Xi&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Ko:e:{for(var Q=O.key,q=_;q!==null;){if(q.key===Q){if(Q=O.type,Q===Xi){if(q.tag===7){i(N,q.sibling),_=u(q,O.props.children),_.return=N,N=_;break e}}else if(q.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===jr&&Y0(Q)===q.type){i(N,q.sibling),_=u(q,O.props),_.ref=Vs(N,q,O),_.return=N,N=_;break e}i(N,q);break}else t(N,q);q=q.sibling}O.type===Xi?(_=Ii(O.props.children,N.mode,B,O.key),_.return=N,N=_):(B=Ra(O.type,O.key,O.props,null,N.mode,B),B.ref=Vs(N,_,O),B.return=N,N=B)}return g(N);case Yi:e:{for(q=O.key;_!==null;){if(_.key===q)if(_.tag===4&&_.stateNode.containerInfo===O.containerInfo&&_.stateNode.implementation===O.implementation){i(N,_.sibling),_=u(_,O.children||[]),_.return=N,N=_;break e}else{i(N,_);break}else t(N,_);_=_.sibling}_=Sc(O,N.mode,B),_.return=N,N=_}return g(N);case jr:return q=O._init,W(N,_,q(O._payload),B)}if(Ks(O))return U(N,_,O,B);if(js(O))return k(N,_,O,B);aa(N,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,_!==null&&_.tag===6?(i(N,_.sibling),_=u(_,O),_.return=N,N=_):(i(N,_),_=vc(O,N.mode,B),_.return=N,N=_),g(N)):i(N,_)}return W}var gs=ch(!0),uh=ch(!1),ko={},ar=si(ko),vo=si(ko),So=si(ko);function vi(e){if(e===ko)throw Error(J(174));return e}function c1(e,t){switch(Xe(So,t),Xe(vo,e),Xe(ar,ko),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yc(t,e)}qe(ar),Xe(ar,t)}function ps(){qe(ar),qe(vo),qe(So)}function fh(e){vi(So.current);var t=vi(ar.current),i=Yc(t,e.type);t!==i&&(Xe(vo,e),Xe(ar,i))}function u1(e){vo.current===e&&(qe(ar),qe(vo))}var tt=si(0);function $a(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xc=[];function f1(){for(var e=0;e<xc.length;e++)xc[e]._workInProgressVersionPrimary=null;xc.length=0}var Ta=Sr.ReactCurrentDispatcher,yc=Sr.ReactCurrentBatchConfig,Ni=0,nt=null,Ct=null,Tt=null,Ja=!1,so=!1,Io=0,rm=0;function jt(){throw Error(J(321))}function d1(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Yn(e[i],t[i]))return!1;return!0}function h1(e,t,i,a,u,f){if(Ni=f,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ta.current=e===null||e.memoizedState===null?am:lm,e=i(a,u),so){f=0;do{if(so=!1,Io=0,25<=f)throw Error(J(301));f+=1,Tt=Ct=null,t.updateQueue=null,Ta.current=cm,e=i(a,u)}while(so)}if(Ta.current=el,t=Ct!==null&&Ct.next!==null,Ni=0,Tt=Ct=nt=null,Ja=!1,t)throw Error(J(300));return e}function g1(){var e=Io!==0;return Io=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?nt.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function Ln(){if(Ct===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var t=Tt===null?nt.memoizedState:Tt.next;if(t!==null)Tt=t,Ct=e;else{if(e===null)throw Error(J(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Tt===null?nt.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function _o(e,t){return typeof t=="function"?t(e):t}function wc(e){var t=Ln(),i=t.queue;if(i===null)throw Error(J(311));i.lastRenderedReducer=e;var a=Ct,u=a.baseQueue,f=i.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}a.baseQueue=u=f,i.pending=null}if(u!==null){f=u.next,a=a.baseState;var x=g=null,w=null,m=f;do{var I=m.lane;if((Ni&I)===I)w!==null&&(w=w.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),a=m.hasEagerState?m.eagerState:e(a,m.action);else{var v={lane:I,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};w===null?(x=w=v,g=a):w=w.next=v,nt.lanes|=I,bi|=I}m=m.next}while(m!==null&&m!==f);w===null?g=a:w.next=x,Yn(a,t.memoizedState)||(on=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=w,i.lastRenderedState=a}if(e=i.interleaved,e!==null){u=e;do f=u.lane,nt.lanes|=f,bi|=f,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Cc(e){var t=Ln(),i=t.queue;if(i===null)throw Error(J(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,f=t.memoizedState;if(u!==null){i.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);Yn(f,t.memoizedState)||(on=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,a]}function dh(){}function hh(e,t){var i=nt,a=Ln(),u=t(),f=!Yn(a.memoizedState,u);if(f&&(a.memoizedState=u,on=!0),a=a.queue,p1(mh.bind(null,i,a,e),[e]),a.getSnapshot!==t||f||Tt!==null&&Tt.memoizedState.tag&1){if(i.flags|=2048,To(9,ph.bind(null,i,a,u,t),void 0,null),Nt===null)throw Error(J(349));Ni&30||gh(i,t,u)}return u}function gh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function ph(e,t,i,a){t.value=i,t.getSnapshot=a,xh(t)&&yh(e)}function mh(e,t,i){return i(function(){xh(t)&&yh(e)})}function xh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Yn(e,i)}catch{return!0}}function yh(e){var t=Er(e,1);t!==null&&Gn(t,e,1,-1)}function X0(e){var t=rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=om.bind(null,nt,e),[t.memoizedState,e]}function To(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function wh(){return Ln().memoizedState}function Na(e,t,i,a){var u=rr();nt.flags|=e,u.memoizedState=To(1|t,i,void 0,a===void 0?null:a)}function El(e,t,i,a){var u=Ln();a=a===void 0?null:a;var f=void 0;if(Ct!==null){var g=Ct.memoizedState;if(f=g.destroy,a!==null&&d1(a,g.deps)){u.memoizedState=To(t,i,f,a);return}}nt.flags|=e,u.memoizedState=To(1|t,i,f,a)}function Q0(e,t){return Na(8390656,8,e,t)}function p1(e,t){return El(2048,8,e,t)}function Ch(e,t){return El(4,2,e,t)}function Eh(e,t){return El(4,4,e,t)}function Ah(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vh(e,t,i){return i=i!=null?i.concat([e]):null,El(4,4,Ah.bind(null,t,e),i)}function m1(){}function Sh(e,t){var i=Ln();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&d1(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Ih(e,t){var i=Ln();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&d1(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function _h(e,t,i){return Ni&21?(Yn(i,t)||(i=bd(),nt.lanes|=i,bi|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=i)}function im(e,t){var i=Fe;Fe=i!==0&&4>i?i:4,e(!0);var a=yc.transition;yc.transition={};try{e(!1),t()}finally{Fe=i,yc.transition=a}}function Th(){return Ln().memoizedState}function sm(e,t,i){var a=Jr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Nh(e))bh(t,i);else if(i=sh(e,t,i,a),i!==null){var u=Zt();Gn(i,e,a,u),Mh(i,t,a)}}function om(e,t,i){var a=Jr(e),u={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Nh(e))bh(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,x=f(g,i);if(u.hasEagerState=!0,u.eagerState=x,Yn(x,g)){var w=t.interleaved;w===null?(u.next=u,a1(t)):(u.next=w.next,w.next=u),t.interleaved=u;return}}catch{}finally{}i=sh(e,t,u,a),i!==null&&(u=Zt(),Gn(i,e,a,u),Mh(i,t,a))}}function Nh(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function bh(e,t){so=Ja=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Mh(e,t,i){if(i&4194240){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Xu(e,i)}}var el={readContext:Dn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},am={readContext:Dn,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:Dn,useEffect:Q0,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Na(4194308,4,Ah.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var i=rr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=rr();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=sm.bind(null,nt,e),[a.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:X0,useDebugValue:m1,useDeferredValue:function(e){return rr().memoizedState=e},useTransition:function(){var e=X0(!1),t=e[0];return e=im.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=nt,u=rr();if(Je){if(i===void 0)throw Error(J(407));i=i()}else{if(i=t(),Nt===null)throw Error(J(349));Ni&30||gh(a,t,i)}u.memoizedState=i;var f={value:i,getSnapshot:t};return u.queue=f,Q0(mh.bind(null,a,f,e),[e]),a.flags|=2048,To(9,ph.bind(null,a,f,i,t),void 0,null),i},useId:function(){var e=rr(),t=Nt.identifierPrefix;if(Je){var i=mr,a=pr;i=(a&~(1<<32-Vn(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=Io++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=rm++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lm={readContext:Dn,useCallback:Sh,useContext:Dn,useEffect:p1,useImperativeHandle:vh,useInsertionEffect:Ch,useLayoutEffect:Eh,useMemo:Ih,useReducer:wc,useRef:wh,useState:function(){return wc(_o)},useDebugValue:m1,useDeferredValue:function(e){var t=Ln();return _h(t,Ct.memoizedState,e)},useTransition:function(){var e=wc(_o)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:hh,useId:Th,unstable_isNewReconciler:!1},cm={readContext:Dn,useCallback:Sh,useContext:Dn,useEffect:p1,useImperativeHandle:vh,useInsertionEffect:Ch,useLayoutEffect:Eh,useMemo:Ih,useReducer:Cc,useRef:wh,useState:function(){return Cc(_o)},useDebugValue:m1,useDeferredValue:function(e){var t=Ln();return Ct===null?t.memoizedState=e:_h(t,Ct.memoizedState,e)},useTransition:function(){var e=Cc(_o)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:hh,useId:Th,unstable_isNewReconciler:!1};function ms(e,t){try{var i="",a=t;do i+=Pp(a),a=a.return;while(a);var u=i}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function Ec(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function pu(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var um=typeof WeakMap=="function"?WeakMap:Map;function Oh(e,t,i){i=yr(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){nl||(nl=!0,Iu=a),pu(e,t)},i}function Rh(e,t,i){i=yr(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=t.value;i.payload=function(){return a(u)},i.callback=function(){pu(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){pu(e,t),typeof a!="function"&&($r===null?$r=new Set([this]):$r.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function Z0(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new um;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(i)||(u.add(i),e=Sm.bind(null,e,t,i),t.then(e,e))}function K0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function q0(e,t,i,a,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=yr(-1,1),t.tag=2,qr(i,t,1))),i.lanes|=1),e)}var fm=Sr.ReactCurrentOwner,on=!1;function Xt(e,t,i,a){t.child=e===null?uh(t,null,i,a):gs(t,e.child,i,a)}function $0(e,t,i,a,u){i=i.render;var f=t.ref;return cs(t,u),a=h1(e,t,i,a,f,u),i=g1(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Ar(e,t,u)):(Je&&i&&t1(t),t.flags|=1,Xt(e,t,a,u),t.child)}function J0(e,t,i,a,u){if(e===null){var f=i.type;return typeof f=="function"&&!S1(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,Dh(e,t,f,a,u)):(e=Ra(i.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&u)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:wo,i(g,a)&&e.ref===t.ref)return Ar(e,t,u)}return t.flags|=1,e=ei(f,a),e.ref=t.ref,e.return=t,t.child=e}function Dh(e,t,i,a,u){if(e!==null){var f=e.memoizedProps;if(wo(f,a)&&e.ref===t.ref)if(on=!1,t.pendingProps=a=f,(e.lanes&u)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,Ar(e,t,u)}return mu(e,t,i,a,u)}function Lh(e,t,i){var a=t.pendingProps,u=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(rs,pn),pn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(rs,pn),pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,Xe(rs,pn),pn|=a}else f!==null?(a=f.baseLanes|i,t.memoizedState=null):a=i,Xe(rs,pn),pn|=a;return Xt(e,t,u,i),t.child}function kh(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function mu(e,t,i,a,u){var f=cn(i)?_i:Wt.current;return f=ds(t,f),cs(t,u),i=h1(e,t,i,a,f,u),a=g1(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Ar(e,t,u)):(Je&&a&&t1(t),t.flags|=1,Xt(e,t,i,u),t.child)}function ef(e,t,i,a,u){if(cn(i)){var f=!0;Ya(t)}else f=!1;if(cs(t,u),t.stateNode===null)ba(e,t),lh(t,i,a),gu(t,i,a,u),a=!0;else if(e===null){var g=t.stateNode,x=t.memoizedProps;g.props=x;var w=g.context,m=i.contextType;typeof m=="object"&&m!==null?m=Dn(m):(m=cn(i)?_i:Wt.current,m=ds(t,m));var I=i.getDerivedStateFromProps,v=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function";v||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==a||w!==m)&&G0(t,g,a,m),Ur=!1;var M=t.memoizedState;g.state=M,qa(t,a,g,u),w=t.memoizedState,x!==a||M!==w||ln.current||Ur?(typeof I=="function"&&(hu(t,i,I,a),w=t.memoizedState),(x=Ur||V0(t,i,x,a,M,w,m))?(v||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=w),g.props=a,g.state=w,g.context=m,a=x):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,oh(e,t),x=t.memoizedProps,m=t.type===t.elementType?x:Un(t.type,x),g.props=m,v=t.pendingProps,M=g.context,w=i.contextType,typeof w=="object"&&w!==null?w=Dn(w):(w=cn(i)?_i:Wt.current,w=ds(t,w));var R=i.getDerivedStateFromProps;(I=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==v||M!==w)&&G0(t,g,a,w),Ur=!1,M=t.memoizedState,g.state=M,qa(t,a,g,u);var U=t.memoizedState;x!==v||M!==U||ln.current||Ur?(typeof R=="function"&&(hu(t,i,R,a),U=t.memoizedState),(m=Ur||V0(t,i,m,a,M,U,w)||!1)?(I||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,U,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,U,w)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=U),g.props=a,g.state=U,g.context=w,a=m):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),a=!1)}return xu(e,t,i,a,f,u)}function xu(e,t,i,a,u,f){kh(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return u&&j0(t,i,!1),Ar(e,t,f);a=t.stateNode,fm.current=t;var x=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=gs(t,e.child,null,f),t.child=gs(t,null,x,f)):Xt(e,t,x,f),t.memoizedState=a.state,u&&j0(t,i,!0),t.child}function Bh(e){var t=e.stateNode;t.pendingContext?F0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&F0(e,t.context,!1),c1(e,t.containerInfo)}function tf(e,t,i,a,u){return hs(),r1(u),t.flags|=256,Xt(e,t,i,a),t.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ph(e,t,i){var a=t.pendingProps,u=tt.current,f=!1,g=(t.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(u&2)!==0),x?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Xe(tt,u&1),e===null)return fu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=a.children,e=a.fallback,f?(a=t.mode,f=t.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Sl(g,a,0,null),e=Ii(e,a,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=wu(i),t.memoizedState=yu,e):x1(t,g));if(u=e.memoizedState,u!==null&&(x=u.dehydrated,x!==null))return dm(e,t,g,a,x,u,i);if(f){f=a.fallback,g=t.mode,u=e.child,x=u.sibling;var w={mode:"hidden",children:a.children};return!(g&1)&&t.child!==u?(a=t.child,a.childLanes=0,a.pendingProps=w,t.deletions=null):(a=ei(u,w),a.subtreeFlags=u.subtreeFlags&14680064),x!==null?f=ei(x,f):(f=Ii(f,g,i,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,g=e.child.memoizedState,g=g===null?wu(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=yu,a}return f=e.child,e=f.sibling,a=ei(f,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function x1(e,t){return t=Sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function la(e,t,i,a){return a!==null&&r1(a),gs(t,e.child,null,i),e=x1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dm(e,t,i,a,u,f,g){if(i)return t.flags&256?(t.flags&=-257,a=Ec(Error(J(422))),la(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,u=t.mode,a=Sl({mode:"visible",children:a.children},u,0,null),f=Ii(f,u,g,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,t.mode&1&&gs(t,e.child,null,g),t.child.memoizedState=wu(g),t.memoizedState=yu,f);if(!(t.mode&1))return la(e,t,g,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var x=a.dgst;return a=x,f=Error(J(419)),a=Ec(f,a,void 0),la(e,t,g,a)}if(x=(g&e.childLanes)!==0,on||x){if(a=Nt,a!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(a.suspendedLanes|g)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,Er(e,u),Gn(a,e,u,-1))}return v1(),a=Ec(Error(J(421))),la(e,t,g,a)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Im.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,xn=Kr(u.nextSibling),yn=t,Je=!0,Hn=null,e!==null&&(bn[Mn++]=pr,bn[Mn++]=mr,bn[Mn++]=Ti,pr=e.id,mr=e.overflow,Ti=t),t=x1(t,a.children),t.flags|=4096,t)}function nf(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),du(e.return,t,i)}function Ac(e,t,i,a,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=u)}function Fh(e,t,i){var a=t.pendingProps,u=a.revealOrder,f=a.tail;if(Xt(e,t,a.children,i),a=tt.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nf(e,i,t);else if(e.tag===19)nf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Xe(tt,a),!(t.mode&1))t.memoizedState=null;else switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&$a(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Ac(t,!1,u,i,f);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&$a(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Ac(t,!0,i,null,f);break;case"together":Ac(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ba(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ar(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),bi|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,i=ei(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ei(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function hm(e,t,i){switch(t.tag){case 3:Bh(t),hs();break;case 5:fh(t);break;case 1:cn(t.type)&&Ya(t);break;case 4:c1(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,u=t.memoizedProps.value;Xe(Za,a._currentValue),a._currentValue=u;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Xe(tt,tt.current&1),t.flags|=128,null):i&t.child.childLanes?Ph(e,t,i):(Xe(tt,tt.current&1),e=Ar(e,t,i),e!==null?e.sibling:null);Xe(tt,tt.current&1);break;case 19:if(a=(i&t.childLanes)!==0,e.flags&128){if(a)return Fh(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Xe(tt,tt.current),a)break;return null;case 22:case 23:return t.lanes=0,Lh(e,t,i)}return Ar(e,t,i)}var jh,Cu,Uh,zh;jh=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Cu=function(){};Uh=function(e,t,i,a){var u=e.memoizedProps;if(u!==a){e=t.stateNode,vi(ar.current);var f=null;switch(i){case"input":u=Wc(e,u),a=Wc(e,a),f=[];break;case"select":u=rt({},u,{value:void 0}),a=rt({},a,{value:void 0}),f=[];break;case"textarea":u=Gc(e,u),a=Gc(e,a),f=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Va)}Xc(i,a);var g;i=null;for(m in u)if(!a.hasOwnProperty(m)&&u.hasOwnProperty(m)&&u[m]!=null)if(m==="style"){var x=u[m];for(g in x)x.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(fo.hasOwnProperty(m)?f||(f=[]):(f=f||[]).push(m,null));for(m in a){var w=a[m];if(x=u!=null?u[m]:void 0,a.hasOwnProperty(m)&&w!==x&&(w!=null||x!=null))if(m==="style")if(x){for(g in x)!x.hasOwnProperty(g)||w&&w.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in w)w.hasOwnProperty(g)&&x[g]!==w[g]&&(i||(i={}),i[g]=w[g])}else i||(f||(f=[]),f.push(m,i)),i=w;else m==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,x=x?x.__html:void 0,w!=null&&x!==w&&(f=f||[]).push(m,w)):m==="children"?typeof w!="string"&&typeof w!="number"||(f=f||[]).push(m,""+w):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(fo.hasOwnProperty(m)?(w!=null&&m==="onScroll"&&Ze("scroll",e),f||x===w||(f=[])):(f=f||[]).push(m,w))}i&&(f=f||[]).push("style",i);var m=f;(t.updateQueue=m)&&(t.flags|=4)}};zh=function(e,t,i,a){i!==a&&(t.flags|=4)};function Gs(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function gm(e,t,i){var a=t.pendingProps;switch(n1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(t),null;case 1:return cn(t.type)&&Ga(),Ut(t),null;case 3:return a=t.stateNode,ps(),qe(ln),qe(Wt),f1(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hn!==null&&(Nu(Hn),Hn=null))),Cu(e,t),Ut(t),null;case 5:u1(t);var u=vi(So.current);if(i=t.type,e!==null&&t.stateNode!=null)Uh(e,t,i,a,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(J(166));return Ut(t),null}if(e=vi(ar.current),oa(t)){a=t.stateNode,i=t.type;var f=t.memoizedProps;switch(a[sr]=t,a[Ao]=f,e=(t.mode&1)!==0,i){case"dialog":Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":case"embed":Ze("load",a);break;case"video":case"audio":for(u=0;u<$s.length;u++)Ze($s[u],a);break;case"source":Ze("error",a);break;case"img":case"image":case"link":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"input":f0(a,f),Ze("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ze("invalid",a);break;case"textarea":h0(a,f),Ze("invalid",a)}Xc(i,f),u=null;for(var g in f)if(f.hasOwnProperty(g)){var x=f[g];g==="children"?typeof x=="string"?a.textContent!==x&&(f.suppressHydrationWarning!==!0&&sa(a.textContent,x,e),u=["children",x]):typeof x=="number"&&a.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&sa(a.textContent,x,e),u=["children",""+x]):fo.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&Ze("scroll",a)}switch(i){case"input":qo(a),d0(a,f,!0);break;case"textarea":qo(a),g0(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=Va)}a=u,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[sr]=t,e[Ao]=a,jh(e,t,!1,!1),t.stateNode=e;e:{switch(g=Qc(i,a),i){case"dialog":Ze("cancel",e),Ze("close",e),u=a;break;case"iframe":case"object":case"embed":Ze("load",e),u=a;break;case"video":case"audio":for(u=0;u<$s.length;u++)Ze($s[u],e);u=a;break;case"source":Ze("error",e),u=a;break;case"img":case"image":case"link":Ze("error",e),Ze("load",e),u=a;break;case"details":Ze("toggle",e),u=a;break;case"input":f0(e,a),u=Wc(e,a),Ze("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=rt({},a,{value:void 0}),Ze("invalid",e);break;case"textarea":h0(e,a),u=Gc(e,a),Ze("invalid",e);break;default:u=a}Xc(i,u),x=u;for(f in x)if(x.hasOwnProperty(f)){var w=x[f];f==="style"?xd(e,w):f==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&pd(e,w)):f==="children"?typeof w=="string"?(i!=="textarea"||w!=="")&&ho(e,w):typeof w=="number"&&ho(e,""+w):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(fo.hasOwnProperty(f)?w!=null&&f==="onScroll"&&Ze("scroll",e):w!=null&&zu(e,f,w,g))}switch(i){case"input":qo(e),d0(e,a,!1);break;case"textarea":qo(e),g0(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ni(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?ss(e,!!a.multiple,f,!1):a.defaultValue!=null&&ss(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Va)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ut(t),null;case 6:if(e&&t.stateNode!=null)zh(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(J(166));if(i=vi(So.current),vi(ar.current),oa(t)){if(a=t.stateNode,i=t.memoizedProps,a[sr]=t,(f=a.nodeValue!==i)&&(e=yn,e!==null))switch(e.tag){case 3:sa(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sa(a.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[sr]=t,t.stateNode=a}return Ut(t),null;case 13:if(qe(tt),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&xn!==null&&t.mode&1&&!(t.flags&128))ih(),hs(),t.flags|=98560,f=!1;else if(f=oa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(J(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(J(317));f[sr]=t}else hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ut(t),f=!1}else Hn!==null&&(Nu(Hn),Hn=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?Et===0&&(Et=3):v1())),t.updateQueue!==null&&(t.flags|=4),Ut(t),null);case 4:return ps(),Cu(e,t),e===null&&Co(t.stateNode.containerInfo),Ut(t),null;case 10:return o1(t.type._context),Ut(t),null;case 17:return cn(t.type)&&Ga(),Ut(t),null;case 19:if(qe(tt),f=t.memoizedState,f===null)return Ut(t),null;if(a=(t.flags&128)!==0,g=f.rendering,g===null)if(a)Gs(f,!1);else{if(Et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=$a(e),g!==null){for(t.flags|=128,Gs(f,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Xe(tt,tt.current&1|2),t.child}e=e.sibling}f.tail!==null&&ft()>xs&&(t.flags|=128,a=!0,Gs(f,!1),t.lanes=4194304)}else{if(!a)if(e=$a(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Gs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Je)return Ut(t),null}else 2*ft()-f.renderingStartTime>xs&&i!==1073741824&&(t.flags|=128,a=!0,Gs(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=ft(),t.sibling=null,i=tt.current,Xe(tt,a?i&1|2:i&1),t):(Ut(t),null);case 22:case 23:return A1(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?pn&1073741824&&(Ut(t),t.subtreeFlags&6&&(t.flags|=8192)):Ut(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function pm(e,t){switch(n1(t),t.tag){case 1:return cn(t.type)&&Ga(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ps(),qe(ln),qe(Wt),f1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return u1(t),null;case 13:if(qe(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(tt),null;case 4:return ps(),null;case 10:return o1(t.type._context),null;case 22:case 23:return A1(),null;case 24:return null;default:return null}}var ca=!1,zt=!1,mm=typeof WeakSet=="function"?WeakSet:Set,le=null;function ns(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){lt(e,t,a)}else i.current=null}function Eu(e,t,i){try{i()}catch(a){lt(e,t,a)}}var rf=!1;function xm(e,t){if(iu=za,e=Gd(),e1(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,x=-1,w=-1,m=0,I=0,v=e,M=null;t:for(;;){for(var R;v!==i||u!==0&&v.nodeType!==3||(x=g+u),v!==f||a!==0&&v.nodeType!==3||(w=g+a),v.nodeType===3&&(g+=v.nodeValue.length),(R=v.firstChild)!==null;)M=v,v=R;for(;;){if(v===e)break t;if(M===i&&++m===u&&(x=g),M===f&&++I===a&&(w=g),(R=v.nextSibling)!==null)break;v=M,M=v.parentNode}v=R}i=x===-1||w===-1?null:{start:x,end:w}}else i=null}i=i||{start:0,end:0}}else i=null;for(su={focusedElem:e,selectionRange:i},za=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var U=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var k=U.memoizedProps,W=U.memoizedState,N=t.stateNode,_=N.getSnapshotBeforeUpdate(t.elementType===t.type?k:Un(t.type,k),W);N.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(B){lt(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return U=rf,rf=!1,U}function oo(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&Eu(t,i,f)}u=u.next}while(u!==a)}}function Al(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Au(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Wh(e){var t=e.alternate;t!==null&&(e.alternate=null,Wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sr],delete t[Ao],delete t[lu],delete t[J2],delete t[em])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hh(e){return e.tag===5||e.tag===3||e.tag===4}function sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Va));else if(a!==4&&(e=e.child,e!==null))for(vu(e,t,i),e=e.sibling;e!==null;)vu(e,t,i),e=e.sibling}function Su(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Su(e,t,i),e=e.sibling;e!==null;)Su(e,t,i),e=e.sibling}var Lt=null,zn=!1;function Lr(e,t,i){for(i=i.child;i!==null;)Vh(e,t,i),i=i.sibling}function Vh(e,t,i){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(gl,i)}catch{}switch(i.tag){case 5:zt||ns(i,t);case 6:var a=Lt,u=zn;Lt=null,Lr(e,t,i),Lt=a,zn=u,Lt!==null&&(zn?(e=Lt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Lt.removeChild(i.stateNode));break;case 18:Lt!==null&&(zn?(e=Lt,i=i.stateNode,e.nodeType===8?pc(e.parentNode,i):e.nodeType===1&&pc(e,i),xo(e)):pc(Lt,i.stateNode));break;case 4:a=Lt,u=zn,Lt=i.stateNode.containerInfo,zn=!0,Lr(e,t,i),Lt=a,zn=u;break;case 0:case 11:case 14:case 15:if(!zt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var f=u,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&Eu(i,t,g),u=u.next}while(u!==a)}Lr(e,t,i);break;case 1:if(!zt&&(ns(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(x){lt(i,t,x)}Lr(e,t,i);break;case 21:Lr(e,t,i);break;case 22:i.mode&1?(zt=(a=zt)||i.memoizedState!==null,Lr(e,t,i),zt=a):Lr(e,t,i);break;default:Lr(e,t,i)}}function of(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new mm),t.forEach(function(a){var u=_m.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}}function Fn(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];try{var f=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 5:Lt=x.stateNode,zn=!1;break e;case 3:Lt=x.stateNode.containerInfo,zn=!0;break e;case 4:Lt=x.stateNode.containerInfo,zn=!0;break e}x=x.return}if(Lt===null)throw Error(J(160));Vh(f,g,u),Lt=null,zn=!1;var w=u.alternate;w!==null&&(w.return=null),u.return=null}catch(m){lt(u,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gh(t,e),t=t.sibling}function Gh(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fn(t,e),tr(e),a&4){try{oo(3,e,e.return),Al(3,e)}catch(k){lt(e,e.return,k)}try{oo(5,e,e.return)}catch(k){lt(e,e.return,k)}}break;case 1:Fn(t,e),tr(e),a&512&&i!==null&&ns(i,i.return);break;case 5:if(Fn(t,e),tr(e),a&512&&i!==null&&ns(i,i.return),e.flags&32){var u=e.stateNode;try{ho(u,"")}catch(k){lt(e,e.return,k)}}if(a&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,x=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&dd(u,f),Qc(x,g);var m=Qc(x,f);for(g=0;g<w.length;g+=2){var I=w[g],v=w[g+1];I==="style"?xd(u,v):I==="dangerouslySetInnerHTML"?pd(u,v):I==="children"?ho(u,v):zu(u,I,v,m)}switch(x){case"input":Hc(u,f);break;case"textarea":hd(u,f);break;case"select":var M=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var R=f.value;R!=null?ss(u,!!f.multiple,R,!1):M!==!!f.multiple&&(f.defaultValue!=null?ss(u,!!f.multiple,f.defaultValue,!0):ss(u,!!f.multiple,f.multiple?[]:"",!1))}u[Ao]=f}catch(k){lt(e,e.return,k)}}break;case 6:if(Fn(t,e),tr(e),a&4){if(e.stateNode===null)throw Error(J(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(k){lt(e,e.return,k)}}break;case 3:if(Fn(t,e),tr(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(k){lt(e,e.return,k)}break;case 4:Fn(t,e),tr(e);break;case 13:Fn(t,e),tr(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(C1=ft())),a&4&&of(e);break;case 22:if(I=i!==null&&i.memoizedState!==null,e.mode&1?(zt=(m=zt)||I,Fn(t,e),zt=m):Fn(t,e),tr(e),a&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!I&&e.mode&1)for(le=e,I=e.child;I!==null;){for(v=le=I;le!==null;){switch(M=le,R=M.child,M.tag){case 0:case 11:case 14:case 15:oo(4,M,M.return);break;case 1:ns(M,M.return);var U=M.stateNode;if(typeof U.componentWillUnmount=="function"){a=M,i=M.return;try{t=a,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch(k){lt(a,i,k)}}break;case 5:ns(M,M.return);break;case 22:if(M.memoizedState!==null){lf(v);continue}}R!==null?(R.return=M,le=R):lf(v)}I=I.sibling}e:for(I=null,v=e;;){if(v.tag===5){if(I===null){I=v;try{u=v.stateNode,m?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=v.stateNode,w=v.memoizedProps.style,g=w!=null&&w.hasOwnProperty("display")?w.display:null,x.style.display=md("display",g))}catch(k){lt(e,e.return,k)}}}else if(v.tag===6){if(I===null)try{v.stateNode.nodeValue=m?"":v.memoizedProps}catch(k){lt(e,e.return,k)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;I===v&&(I=null),v=v.return}I===v&&(I=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Fn(t,e),tr(e),a&4&&of(e);break;case 21:break;default:Fn(t,e),tr(e)}}function tr(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Hh(i)){var a=i;break e}i=i.return}throw Error(J(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(ho(u,""),a.flags&=-33);var f=sf(e);Su(e,f,u);break;case 3:case 4:var g=a.stateNode.containerInfo,x=sf(e);vu(e,x,g);break;default:throw Error(J(161))}}catch(w){lt(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ym(e,t,i){le=e,Yh(e)}function Yh(e,t,i){for(var a=(e.mode&1)!==0;le!==null;){var u=le,f=u.child;if(u.tag===22&&a){var g=u.memoizedState!==null||ca;if(!g){var x=u.alternate,w=x!==null&&x.memoizedState!==null||zt;x=ca;var m=zt;if(ca=g,(zt=w)&&!m)for(le=u;le!==null;)g=le,w=g.child,g.tag===22&&g.memoizedState!==null?cf(u):w!==null?(w.return=g,le=w):cf(u);for(;f!==null;)le=f,Yh(f),f=f.sibling;le=u,ca=x,zt=m}af(e)}else u.subtreeFlags&8772&&f!==null?(f.return=u,le=f):af(e)}}function af(e){for(;le!==null;){var t=le;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zt||Al(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!zt)if(i===null)a.componentDidMount();else{var u=t.elementType===t.type?i.memoizedProps:Un(t.type,i.memoizedProps);a.componentDidUpdate(u,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&H0(t,f,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}H0(t,g,i)}break;case 5:var x=t.stateNode;if(i===null&&t.flags&4){i=x;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&i.focus();break;case"img":w.src&&(i.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var I=m.memoizedState;if(I!==null){var v=I.dehydrated;v!==null&&xo(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}zt||t.flags&512&&Au(t)}catch(M){lt(t,t.return,M)}}if(t===e){le=null;break}if(i=t.sibling,i!==null){i.return=t.return,le=i;break}le=t.return}}function lf(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var i=t.sibling;if(i!==null){i.return=t.return,le=i;break}le=t.return}}function cf(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Al(4,t)}catch(w){lt(t,i,w)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var u=t.return;try{a.componentDidMount()}catch(w){lt(t,u,w)}}var f=t.return;try{Au(t)}catch(w){lt(t,f,w)}break;case 5:var g=t.return;try{Au(t)}catch(w){lt(t,g,w)}}}catch(w){lt(t,t.return,w)}if(t===e){le=null;break}var x=t.sibling;if(x!==null){x.return=t.return,le=x;break}le=t.return}}var wm=Math.ceil,tl=Sr.ReactCurrentDispatcher,y1=Sr.ReactCurrentOwner,Rn=Sr.ReactCurrentBatchConfig,Oe=0,Nt=null,pt=null,kt=0,pn=0,rs=si(0),Et=0,No=null,bi=0,vl=0,w1=0,ao=null,sn=null,C1=0,xs=1/0,hr=null,nl=!1,Iu=null,$r=null,ua=!1,Vr=null,rl=0,lo=0,_u=null,Ma=-1,Oa=0;function Zt(){return Oe&6?ft():Ma!==-1?Ma:Ma=ft()}function Jr(e){return e.mode&1?Oe&2&&kt!==0?kt&-kt:nm.transition!==null?(Oa===0&&(Oa=bd()),Oa):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:Bd(e.type)),e):1}function Gn(e,t,i,a){if(50<lo)throw lo=0,_u=null,Error(J(185));Ro(e,i,a),(!(Oe&2)||e!==Nt)&&(e===Nt&&(!(Oe&2)&&(vl|=i),Et===4&&Wr(e,kt)),un(e,a),i===1&&Oe===0&&!(t.mode&1)&&(xs=ft()+500,wl&&oi()))}function un(e,t){var i=e.callbackNode;n2(e,t);var a=Ua(e,e===Nt?kt:0);if(a===0)i!==null&&x0(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&x0(i),t===1)e.tag===0?tm(uf.bind(null,e)):th(uf.bind(null,e)),q2(function(){!(Oe&6)&&oi()}),i=null;else{switch(Md(a)){case 1:i=Yu;break;case 4:i=Td;break;case 16:i=ja;break;case 536870912:i=Nd;break;default:i=ja}i=eg(i,Xh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Xh(e,t){if(Ma=-1,Oa=0,Oe&6)throw Error(J(327));var i=e.callbackNode;if(us()&&e.callbackNode!==i)return null;var a=Ua(e,e===Nt?kt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=il(e,a);else{t=a;var u=Oe;Oe|=2;var f=Zh();(Nt!==e||kt!==t)&&(hr=null,xs=ft()+500,Si(e,t));do try{Am();break}catch(x){Qh(e,x)}while(1);s1(),tl.current=f,Oe=u,pt!==null?t=0:(Nt=null,kt=0,t=Et)}if(t!==0){if(t===2&&(u=Jc(e),u!==0&&(a=u,t=Tu(e,u))),t===1)throw i=No,Si(e,0),Wr(e,a),un(e,ft()),i;if(t===6)Wr(e,a);else{if(u=e.current.alternate,!(a&30)&&!Cm(u)&&(t=il(e,a),t===2&&(f=Jc(e),f!==0&&(a=f,t=Tu(e,f))),t===1))throw i=No,Si(e,0),Wr(e,a),un(e,ft()),i;switch(e.finishedWork=u,e.finishedLanes=a,t){case 0:case 1:throw Error(J(345));case 2:yi(e,sn,hr);break;case 3:if(Wr(e,a),(a&130023424)===a&&(t=C1+500-ft(),10<t)){if(Ua(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Zt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=au(yi.bind(null,e,sn,hr),t);break}yi(e,sn,hr);break;case 4:if(Wr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,u=-1;0<a;){var g=31-Vn(a);f=1<<g,g=t[g],g>u&&(u=g),a&=~f}if(a=u,a=ft()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*wm(a/1960))-a,10<a){e.timeoutHandle=au(yi.bind(null,e,sn,hr),a);break}yi(e,sn,hr);break;case 5:yi(e,sn,hr);break;default:throw Error(J(329))}}}return un(e,ft()),e.callbackNode===i?Xh.bind(null,e):null}function Tu(e,t){var i=ao;return e.current.memoizedState.isDehydrated&&(Si(e,t).flags|=256),e=il(e,t),e!==2&&(t=sn,sn=i,t!==null&&Nu(t)),e}function Nu(e){sn===null?sn=e:sn.push.apply(sn,e)}function Cm(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var u=i[a],f=u.getSnapshot;u=u.value;try{if(!Yn(f(),u))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wr(e,t){for(t&=~w1,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Vn(t),a=1<<i;e[i]=-1,t&=~a}}function uf(e){if(Oe&6)throw Error(J(327));us();var t=Ua(e,0);if(!(t&1))return un(e,ft()),null;var i=il(e,t);if(e.tag!==0&&i===2){var a=Jc(e);a!==0&&(t=a,i=Tu(e,a))}if(i===1)throw i=No,Si(e,0),Wr(e,t),un(e,ft()),i;if(i===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yi(e,sn,hr),un(e,ft()),null}function E1(e,t){var i=Oe;Oe|=1;try{return e(t)}finally{Oe=i,Oe===0&&(xs=ft()+500,wl&&oi())}}function Mi(e){Vr!==null&&Vr.tag===0&&!(Oe&6)&&us();var t=Oe;Oe|=1;var i=Rn.transition,a=Fe;try{if(Rn.transition=null,Fe=1,e)return e()}finally{Fe=a,Rn.transition=i,Oe=t,!(Oe&6)&&oi()}}function A1(){pn=rs.current,qe(rs)}function Si(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,K2(i)),pt!==null)for(i=pt.return;i!==null;){var a=i;switch(n1(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Ga();break;case 3:ps(),qe(ln),qe(Wt),f1();break;case 5:u1(a);break;case 4:ps();break;case 13:qe(tt);break;case 19:qe(tt);break;case 10:o1(a.type._context);break;case 22:case 23:A1()}i=i.return}if(Nt=e,pt=e=ei(e.current,null),kt=pn=t,Et=0,No=null,w1=vl=bi=0,sn=ao=null,Ai!==null){for(t=0;t<Ai.length;t++)if(i=Ai[t],a=i.interleaved,a!==null){i.interleaved=null;var u=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=u,a.next=g}i.pending=a}Ai=null}return e}function Qh(e,t){do{var i=pt;try{if(s1(),Ta.current=el,Ja){for(var a=nt.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Ja=!1}if(Ni=0,Tt=Ct=nt=null,so=!1,Io=0,y1.current=null,i===null||i.return===null){Et=1,No=t,pt=null;break}e:{var f=e,g=i.return,x=i,w=t;if(t=kt,x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var m=w,I=x,v=I.tag;if(!(I.mode&1)&&(v===0||v===11||v===15)){var M=I.alternate;M?(I.updateQueue=M.updateQueue,I.memoizedState=M.memoizedState,I.lanes=M.lanes):(I.updateQueue=null,I.memoizedState=null)}var R=K0(g);if(R!==null){R.flags&=-257,q0(R,g,x,f,t),R.mode&1&&Z0(f,m,t),t=R,w=m;var U=t.updateQueue;if(U===null){var k=new Set;k.add(w),t.updateQueue=k}else U.add(w);break e}else{if(!(t&1)){Z0(f,m,t),v1();break e}w=Error(J(426))}}else if(Je&&x.mode&1){var W=K0(g);if(W!==null){!(W.flags&65536)&&(W.flags|=256),q0(W,g,x,f,t),r1(ms(w,x));break e}}f=w=ms(w,x),Et!==4&&(Et=2),ao===null?ao=[f]:ao.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var N=Oh(f,w,t);W0(f,N);break e;case 1:x=w;var _=f.type,O=f.stateNode;if(!(f.flags&128)&&(typeof _.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&($r===null||!$r.has(O)))){f.flags|=65536,t&=-t,f.lanes|=t;var B=Rh(f,x,t);W0(f,B);break e}}f=f.return}while(f!==null)}qh(i)}catch(Q){t=Q,pt===i&&i!==null&&(pt=i=i.return);continue}break}while(1)}function Zh(){var e=tl.current;return tl.current=el,e===null?el:e}function v1(){(Et===0||Et===3||Et===2)&&(Et=4),Nt===null||!(bi&268435455)&&!(vl&268435455)||Wr(Nt,kt)}function il(e,t){var i=Oe;Oe|=2;var a=Zh();(Nt!==e||kt!==t)&&(hr=null,Si(e,t));do try{Em();break}catch(u){Qh(e,u)}while(1);if(s1(),Oe=i,tl.current=a,pt!==null)throw Error(J(261));return Nt=null,kt=0,Et}function Em(){for(;pt!==null;)Kh(pt)}function Am(){for(;pt!==null&&!Xp();)Kh(pt)}function Kh(e){var t=Jh(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?qh(e):pt=t,y1.current=null}function qh(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=pm(i,t),i!==null){i.flags&=32767,pt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Et=6,pt=null;return}}else if(i=gm(i,t,pn),i!==null){pt=i;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);Et===0&&(Et=5)}function yi(e,t,i){var a=Fe,u=Rn.transition;try{Rn.transition=null,Fe=1,vm(e,t,i,a)}finally{Rn.transition=u,Fe=a}return null}function vm(e,t,i,a){do us();while(Vr!==null);if(Oe&6)throw Error(J(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(r2(e,f),e===Nt&&(pt=Nt=null,kt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||ua||(ua=!0,eg(ja,function(){return us(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=Rn.transition,Rn.transition=null;var g=Fe;Fe=1;var x=Oe;Oe|=4,y1.current=null,xm(e,i),Gh(i,e),H2(su),za=!!iu,su=iu=null,e.current=i,ym(i),Qp(),Oe=x,Fe=g,Rn.transition=f}else e.current=i;if(ua&&(ua=!1,Vr=e,rl=u),f=e.pendingLanes,f===0&&($r=null),qp(i.stateNode),un(e,ft()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)u=t[i],a(u.value,{componentStack:u.stack,digest:u.digest});if(nl)throw nl=!1,e=Iu,Iu=null,e;return rl&1&&e.tag!==0&&us(),f=e.pendingLanes,f&1?e===_u?lo++:(lo=0,_u=e):lo=0,oi(),null}function us(){if(Vr!==null){var e=Md(rl),t=Rn.transition,i=Fe;try{if(Rn.transition=null,Fe=16>e?16:e,Vr===null)var a=!1;else{if(e=Vr,Vr=null,rl=0,Oe&6)throw Error(J(331));var u=Oe;for(Oe|=4,le=e.current;le!==null;){var f=le,g=f.child;if(le.flags&16){var x=f.deletions;if(x!==null){for(var w=0;w<x.length;w++){var m=x[w];for(le=m;le!==null;){var I=le;switch(I.tag){case 0:case 11:case 15:oo(8,I,f)}var v=I.child;if(v!==null)v.return=I,le=v;else for(;le!==null;){I=le;var M=I.sibling,R=I.return;if(Wh(I),I===m){le=null;break}if(M!==null){M.return=R,le=M;break}le=R}}}var U=f.alternate;if(U!==null){var k=U.child;if(k!==null){U.child=null;do{var W=k.sibling;k.sibling=null,k=W}while(k!==null)}}le=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,le=g;else e:for(;le!==null;){if(f=le,f.flags&2048)switch(f.tag){case 0:case 11:case 15:oo(9,f,f.return)}var N=f.sibling;if(N!==null){N.return=f.return,le=N;break e}le=f.return}}var _=e.current;for(le=_;le!==null;){g=le;var O=g.child;if(g.subtreeFlags&2064&&O!==null)O.return=g,le=O;else e:for(g=_;le!==null;){if(x=le,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Al(9,x)}}catch(Q){lt(x,x.return,Q)}if(x===g){le=null;break e}var B=x.sibling;if(B!==null){B.return=x.return,le=B;break e}le=x.return}}if(Oe=u,oi(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(gl,e)}catch{}a=!0}return a}finally{Fe=i,Rn.transition=t}}return!1}function ff(e,t,i){t=ms(i,t),t=Oh(e,t,1),e=qr(e,t,1),t=Zt(),e!==null&&(Ro(e,1,t),un(e,t))}function lt(e,t,i){if(e.tag===3)ff(e,e,i);else for(;t!==null;){if(t.tag===3){ff(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&($r===null||!$r.has(a))){e=ms(i,e),e=Rh(t,e,1),t=qr(t,e,1),e=Zt(),t!==null&&(Ro(t,1,e),un(t,e));break}}t=t.return}}function Sm(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=Zt(),e.pingedLanes|=e.suspendedLanes&i,Nt===e&&(kt&i)===i&&(Et===4||Et===3&&(kt&130023424)===kt&&500>ft()-C1?Si(e,0):w1|=i),un(e,t)}function $h(e,t){t===0&&(e.mode&1?(t=ea,ea<<=1,!(ea&130023424)&&(ea=4194304)):t=1);var i=Zt();e=Er(e,t),e!==null&&(Ro(e,t,i),un(e,i))}function Im(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),$h(e,i)}function _m(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(J(314))}a!==null&&a.delete(t),$h(e,i)}var Jh;Jh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)on=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return on=!1,hm(e,t,i);on=!!(e.flags&131072)}else on=!1,Je&&t.flags&1048576&&nh(t,Qa,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ba(e,t),e=t.pendingProps;var u=ds(t,Wt.current);cs(t,i),u=h1(null,t,a,e,u,i);var f=g1();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(a)?(f=!0,Ya(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,l1(t),u.updater=Cl,t.stateNode=u,u._reactInternals=t,gu(t,a,e,i),t=xu(null,t,a,!0,f,i)):(t.tag=0,Je&&f&&t1(t),Xt(null,t,u,i),t=t.child),t;case 16:a=t.elementType;e:{switch(ba(e,t),e=t.pendingProps,u=a._init,a=u(a._payload),t.type=a,u=t.tag=Nm(a),e=Un(a,e),u){case 0:t=mu(null,t,a,e,i);break e;case 1:t=ef(null,t,a,e,i);break e;case 11:t=$0(null,t,a,e,i);break e;case 14:t=J0(null,t,a,Un(a.type,e),i);break e}throw Error(J(306,a,""))}return t;case 0:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Un(a,u),mu(e,t,a,u,i);case 1:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Un(a,u),ef(e,t,a,u,i);case 3:e:{if(Bh(t),e===null)throw Error(J(387));a=t.pendingProps,f=t.memoizedState,u=f.element,oh(e,t),qa(t,a,null,i);var g=t.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=ms(Error(J(423)),t),t=tf(e,t,a,i,u);break e}else if(a!==u){u=ms(Error(J(424)),t),t=tf(e,t,a,i,u);break e}else for(xn=Kr(t.stateNode.containerInfo.firstChild),yn=t,Je=!0,Hn=null,i=uh(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(hs(),a===u){t=Ar(e,t,i);break e}Xt(e,t,a,i)}t=t.child}return t;case 5:return fh(t),e===null&&fu(t),a=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,g=u.children,ou(a,u)?g=null:f!==null&&ou(a,f)&&(t.flags|=32),kh(e,t),Xt(e,t,g,i),t.child;case 6:return e===null&&fu(t),null;case 13:return Ph(e,t,i);case 4:return c1(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=gs(t,null,a,i):Xt(e,t,a,i),t.child;case 11:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Un(a,u),$0(e,t,a,u,i);case 7:return Xt(e,t,t.pendingProps,i),t.child;case 8:return Xt(e,t,t.pendingProps.children,i),t.child;case 12:return Xt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,u=t.pendingProps,f=t.memoizedProps,g=u.value,Xe(Za,a._currentValue),a._currentValue=g,f!==null)if(Yn(f.value,g)){if(f.children===u.children&&!ln.current){t=Ar(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var x=f.dependencies;if(x!==null){g=f.child;for(var w=x.firstContext;w!==null;){if(w.context===a){if(f.tag===1){w=yr(-1,i&-i),w.tag=2;var m=f.updateQueue;if(m!==null){m=m.shared;var I=m.pending;I===null?w.next=w:(w.next=I.next,I.next=w),m.pending=w}}f.lanes|=i,w=f.alternate,w!==null&&(w.lanes|=i),du(f.return,i,t),x.lanes|=i;break}w=w.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(J(341));g.lanes|=i,x=g.alternate,x!==null&&(x.lanes|=i),du(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Xt(e,t,u.children,i),t=t.child}return t;case 9:return u=t.type,a=t.pendingProps.children,cs(t,i),u=Dn(u),a=a(u),t.flags|=1,Xt(e,t,a,i),t.child;case 14:return a=t.type,u=Un(a,t.pendingProps),u=Un(a.type,u),J0(e,t,a,u,i);case 15:return Dh(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Un(a,u),ba(e,t),t.tag=1,cn(a)?(e=!0,Ya(t)):e=!1,cs(t,i),lh(t,a,u),gu(t,a,u,i),xu(null,t,a,!0,e,i);case 19:return Fh(e,t,i);case 22:return Lh(e,t,i)}throw Error(J(156,t.tag))};function eg(e,t){return _d(e,t)}function Tm(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,i,a){return new Tm(e,t,i,a)}function S1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nm(e){if(typeof e=="function")return S1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hu)return 11;if(e===Vu)return 14}return 2}function ei(e,t){var i=e.alternate;return i===null?(i=On(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ra(e,t,i,a,u,f){var g=2;if(a=e,typeof e=="function")S1(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Xi:return Ii(i.children,u,f,t);case Wu:g=8,u|=8;break;case Fc:return e=On(12,i,t,u|2),e.elementType=Fc,e.lanes=f,e;case jc:return e=On(13,i,t,u),e.elementType=jc,e.lanes=f,e;case Uc:return e=On(19,i,t,u),e.elementType=Uc,e.lanes=f,e;case cd:return Sl(i,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ad:g=10;break e;case ld:g=9;break e;case Hu:g=11;break e;case Vu:g=14;break e;case jr:g=16,a=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=On(g,i,t,u),t.elementType=e,t.type=a,t.lanes=f,t}function Ii(e,t,i,a){return e=On(7,e,a,t),e.lanes=i,e}function Sl(e,t,i,a){return e=On(22,e,a,t),e.elementType=cd,e.lanes=i,e.stateNode={isHidden:!1},e}function vc(e,t,i){return e=On(6,e,null,t),e.lanes=i,e}function Sc(e,t,i){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bm(e,t,i,a,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ic(0),this.expirationTimes=ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function I1(e,t,i,a,u,f,g,x,w){return e=new bm(e,t,i,x,w),t===1?(t=1,f===!0&&(t|=8)):t=0,f=On(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},l1(f),e}function Mm(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yi,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function tg(e){if(!e)return ri;e=e._reactInternals;e:{if(Di(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var i=e.type;if(cn(i))return eh(e,i,t)}return t}function ng(e,t,i,a,u,f,g,x,w){return e=I1(i,a,!0,e,u,f,g,x,w),e.context=tg(null),i=e.current,a=Zt(),u=Jr(i),f=yr(a,u),f.callback=t??null,qr(i,f,u),e.current.lanes=u,Ro(e,u,a),un(e,a),e}function Il(e,t,i,a){var u=t.current,f=Zt(),g=Jr(u);return i=tg(i),t.context===null?t.context=i:t.pendingContext=i,t=yr(f,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=qr(u,t,g),e!==null&&(Gn(e,u,g,f),_a(e,u,g)),g}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function df(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function _1(e,t){df(e,t),(e=e.alternate)&&df(e,t)}function Om(){return null}var rg=typeof reportError=="function"?reportError:function(e){console.error(e)};function T1(e){this._internalRoot=e}_l.prototype.render=T1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Il(e,t,null,null)};_l.prototype.unmount=T1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mi(function(){Il(null,e,null,null)}),t[Cr]=null}};function _l(e){this._internalRoot=e}_l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<zr.length&&t!==0&&t<zr[i].priority;i++);zr.splice(i,0,e),i===0&&kd(e)}};function N1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hf(){}function Rm(e,t,i,a,u){if(u){if(typeof a=="function"){var f=a;a=function(){var m=sl(g);f.call(m)}}var g=ng(t,a,e,0,null,!1,!1,"",hf);return e._reactRootContainer=g,e[Cr]=g.current,Co(e.nodeType===8?e.parentNode:e),Mi(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var x=a;a=function(){var m=sl(w);x.call(m)}}var w=I1(e,0,!1,null,null,!1,!1,"",hf);return e._reactRootContainer=w,e[Cr]=w.current,Co(e.nodeType===8?e.parentNode:e),Mi(function(){Il(t,w,i,a)}),w}function Nl(e,t,i,a,u){var f=i._reactRootContainer;if(f){var g=f;if(typeof u=="function"){var x=u;u=function(){var w=sl(g);x.call(w)}}Il(t,g,e,u)}else g=Rm(i,t,e,u,a);return sl(g)}Od=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=qs(t.pendingLanes);i!==0&&(Xu(t,i|1),un(t,ft()),!(Oe&6)&&(xs=ft()+500,oi()))}break;case 13:Mi(function(){var a=Er(e,1);if(a!==null){var u=Zt();Gn(a,e,1,u)}}),_1(e,1)}};Qu=function(e){if(e.tag===13){var t=Er(e,134217728);if(t!==null){var i=Zt();Gn(t,e,134217728,i)}_1(e,134217728)}};Rd=function(e){if(e.tag===13){var t=Jr(e),i=Er(e,t);if(i!==null){var a=Zt();Gn(i,e,t,a)}_1(e,t)}};Dd=function(){return Fe};Ld=function(e,t){var i=Fe;try{return Fe=e,t()}finally{Fe=i}};Kc=function(e,t,i){switch(t){case"input":if(Hc(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var u=yl(a);if(!u)throw Error(J(90));fd(a),Hc(a,u)}}}break;case"textarea":hd(e,i);break;case"select":t=i.value,t!=null&&ss(e,!!i.multiple,t,!1)}};Cd=E1;Ed=Mi;var Dm={usingClientEntryPoint:!1,Events:[Lo,qi,yl,yd,wd,E1]},Ys={findFiberByHostInstance:Ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Lm={bundleType:Ys.bundleType,version:Ys.version,rendererPackageName:Ys.rendererPackageName,rendererConfig:Ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sd(e),e===null?null:e.stateNode},findFiberByHostInstance:Ys.findFiberByHostInstance||Om,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fa.isDisabled&&fa.supportsFiber)try{gl=fa.inject(Lm),or=fa}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dm;Cn.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N1(t))throw Error(J(200));return Mm(e,t,null,i)};Cn.createRoot=function(e,t){if(!N1(e))throw Error(J(299));var i=!1,a="",u=rg;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=I1(e,1,!1,null,null,i,!1,a,u),e[Cr]=t.current,Co(e.nodeType===8?e.parentNode:e),new T1(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=Sd(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return Mi(e)};Cn.hydrate=function(e,t,i){if(!Tl(t))throw Error(J(200));return Nl(null,e,t,!0,i)};Cn.hydrateRoot=function(e,t,i){if(!N1(e))throw Error(J(405));var a=i!=null&&i.hydratedSources||null,u=!1,f="",g=rg;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=ng(t,null,e,1,i??null,u,!1,f,g),e[Cr]=t.current,Co(e),a)for(e=0;e<a.length;e++)i=a[e],u=i._getVersion,u=u(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,u]:t.mutableSourceEagerHydrationData.push(i,u);return new _l(t)};Cn.render=function(e,t,i){if(!Tl(t))throw Error(J(200));return Nl(null,e,t,!1,i)};Cn.unmountComponentAtNode=function(e){if(!Tl(e))throw Error(J(40));return e._reactRootContainer?(Mi(function(){Nl(null,null,e,!1,function(){e._reactRootContainer=null,e[Cr]=null})}),!0):!1};Cn.unstable_batchedUpdates=E1;Cn.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Tl(i))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Nl(e,t,i,!1,a)};Cn.version="18.2.0-next-9e3b772b8-20220608";function ig(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ig)}catch(e){console.error(e)}}ig(),nd.exports=Cn;var km=nd.exports,gf=km;Bc.createRoot=gf.createRoot,Bc.hydrateRoot=gf.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},bo.apply(this,arguments)}var Gr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gr||(Gr={}));const pf="popstate";function Bm(e){e===void 0&&(e={});function t(a,u){let{pathname:f,search:g,hash:x}=a.location;return bu("",{pathname:f,search:g,hash:x},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(a,u){return typeof u=="string"?u:ol(u)}return Fm(t,i,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function b1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pm(){return Math.random().toString(36).substr(2,8)}function mf(e,t){return{usr:e.state,key:e.key,idx:t}}function bu(e,t,i,a){return i===void 0&&(i=null),bo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Es(t):t,{state:i,key:t&&t.key||a||Pm()})}function ol(e){let{pathname:t="/",search:i="",hash:a=""}=e;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Es(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Fm(e,t,i,a){a===void 0&&(a={});let{window:u=document.defaultView,v5Compat:f=!1}=a,g=u.history,x=Gr.Pop,w=null,m=I();m==null&&(m=0,g.replaceState(bo({},g.state,{idx:m}),""));function I(){return(g.state||{idx:null}).idx}function v(){x=Gr.Pop;let W=I(),N=W==null?null:W-m;m=W,w&&w({action:x,location:k.location,delta:N})}function M(W,N){x=Gr.Push;let _=bu(k.location,W,N);i&&i(_,W),m=I()+1;let O=mf(_,m),B=k.createHref(_);try{g.pushState(O,"",B)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;u.location.assign(B)}f&&w&&w({action:x,location:k.location,delta:1})}function R(W,N){x=Gr.Replace;let _=bu(k.location,W,N);i&&i(_,W),m=I();let O=mf(_,m),B=k.createHref(_);g.replaceState(O,"",B),f&&w&&w({action:x,location:k.location,delta:0})}function U(W){let N=u.location.origin!=="null"?u.location.origin:u.location.href,_=typeof W=="string"?W:ol(W);return dt(N,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,N)}let k={get action(){return x},get location(){return e(u,g)},listen(W){if(w)throw new Error("A history only accepts one active listener");return u.addEventListener(pf,v),w=W,()=>{u.removeEventListener(pf,v),w=null}},createHref(W){return t(u,W)},createURL:U,encodeLocation(W){let N=U(W);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:M,replace:R,go(W){return g.go(W)}};return k}var xf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xf||(xf={}));function jm(e,t,i){i===void 0&&(i="/");let a=typeof t=="string"?Es(t):t,u=M1(a.pathname||"/",i);if(u==null)return null;let f=sg(e);Um(f);let g=null;for(let x=0;g==null&&x<f.length;++x)g=Zm(f[x],$m(u));return g}function sg(e,t,i,a){t===void 0&&(t=[]),i===void 0&&(i=[]),a===void 0&&(a="");let u=(f,g,x)=>{let w={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};w.relativePath.startsWith("/")&&(dt(w.relativePath.startsWith(a),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(a.length));let m=ti([a,w.relativePath]),I=i.concat(w);f.children&&f.children.length>0&&(dt(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),sg(f.children,t,I,m)),!(f.path==null&&!f.index)&&t.push({path:m,score:Xm(m,f.index),routesMeta:I})};return e.forEach((f,g)=>{var x;if(f.path===""||!((x=f.path)!=null&&x.includes("?")))u(f,g);else for(let w of og(f.path))u(f,g,w)}),t}function og(e){let t=e.split("/");if(t.length===0)return[];let[i,...a]=t,u=i.endsWith("?"),f=i.replace(/\?$/,"");if(a.length===0)return u?[f,""]:[f];let g=og(a.join("/")),x=[];return x.push(...g.map(w=>w===""?f:[f,w].join("/"))),u&&x.push(...g),x.map(w=>e.startsWith("/")&&w===""?"/":w)}function Um(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:Qm(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}const zm=/^:\w+$/,Wm=3,Hm=2,Vm=1,Gm=10,Ym=-2,yf=e=>e==="*";function Xm(e,t){let i=e.split("/"),a=i.length;return i.some(yf)&&(a+=Ym),t&&(a+=Hm),i.filter(u=>!yf(u)).reduce((u,f)=>u+(zm.test(f)?Wm:f===""?Vm:Gm),a)}function Qm(e,t){return e.length===t.length&&e.slice(0,-1).every((a,u)=>a===t[u])?e[e.length-1]-t[t.length-1]:0}function Zm(e,t){let{routesMeta:i}=e,a={},u="/",f=[];for(let g=0;g<i.length;++g){let x=i[g],w=g===i.length-1,m=u==="/"?t:t.slice(u.length)||"/",I=Km({path:x.relativePath,caseSensitive:x.caseSensitive,end:w},m);if(!I)return null;Object.assign(a,I.params);let v=x.route;f.push({params:a,pathname:ti([u,I.pathname]),pathnameBase:nx(ti([u,I.pathnameBase])),route:v}),I.pathnameBase!=="/"&&(u=ti([u,I.pathnameBase]))}return f}function Km(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,a]=qm(e.path,e.caseSensitive,e.end),u=t.match(i);if(!u)return null;let f=u[0],g=f.replace(/(.)\/+$/,"$1"),x=u.slice(1);return{params:a.reduce((m,I,v)=>{if(I==="*"){let M=x[v]||"";g=f.slice(0,f.length-M.length).replace(/(.)\/+$/,"$1")}return m[I]=Jm(x[v]||"",I),m},{}),pathname:f,pathnameBase:g,pattern:e}}function qm(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),b1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],u="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(g,x)=>(a.push(x),"/([^\\/]+)"));return e.endsWith("*")?(a.push("*"),u+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":e!==""&&e!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),a]}function $m(e){try{return decodeURI(e)}catch(t){return b1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jm(e,t){try{return decodeURIComponent(e)}catch(i){return b1(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+i+").")),e}}function M1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}function ex(e,t){t===void 0&&(t="/");let{pathname:i,search:a="",hash:u=""}=typeof e=="string"?Es(e):e;return{pathname:i?i.startsWith("/")?i:tx(i,t):t,search:rx(a),hash:ix(u)}}function tx(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Ic(e,t,i,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O1(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function R1(e,t,i,a){a===void 0&&(a=!1);let u;typeof e=="string"?u=Es(e):(u=bo({},e),dt(!u.pathname||!u.pathname.includes("?"),Ic("?","pathname","search",u)),dt(!u.pathname||!u.pathname.includes("#"),Ic("#","pathname","hash",u)),dt(!u.search||!u.search.includes("#"),Ic("#","search","hash",u)));let f=e===""||u.pathname==="",g=f?"/":u.pathname,x;if(a||g==null)x=i;else{let v=t.length-1;if(g.startsWith("..")){let M=g.split("/");for(;M[0]==="..";)M.shift(),v-=1;u.pathname=M.join("/")}x=v>=0?t[v]:"/"}let w=ex(u,x),m=g&&g!=="/"&&g.endsWith("/"),I=(f||g===".")&&i.endsWith("/");return!w.pathname.endsWith("/")&&(m||I)&&(w.pathname+="/"),w}const ti=e=>e.join("/").replace(/\/\/+/g,"/"),nx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ix=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ag=["post","put","patch","delete"];new Set(ag);const ox=["get",...ag];new Set(ox);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},al.apply(this,arguments)}const D1=F.createContext(null),ax=F.createContext(null),As=F.createContext(null),bl=F.createContext(null),Ir=F.createContext({outlet:null,matches:[],isDataRoute:!1}),lg=F.createContext(null);function lx(e,t){let{relative:i}=t===void 0?{}:t;vs()||dt(!1);let{basename:a,navigator:u}=F.useContext(As),{hash:f,pathname:g,search:x}=ug(e,{relative:i}),w=g;return a!=="/"&&(w=g==="/"?a:ti([a,g])),u.createHref({pathname:w,search:x,hash:f})}function vs(){return F.useContext(bl)!=null}function Ss(){return vs()||dt(!1),F.useContext(bl).location}function cg(e){F.useContext(As).static||F.useLayoutEffect(e)}function L1(){let{isDataRoute:e}=F.useContext(Ir);return e?vx():cx()}function cx(){vs()||dt(!1);let e=F.useContext(D1),{basename:t,navigator:i}=F.useContext(As),{matches:a}=F.useContext(Ir),{pathname:u}=Ss(),f=JSON.stringify(O1(a).map(w=>w.pathnameBase)),g=F.useRef(!1);return cg(()=>{g.current=!0}),F.useCallback(function(w,m){if(m===void 0&&(m={}),!g.current)return;if(typeof w=="number"){i.go(w);return}let I=R1(w,JSON.parse(f),u,m.relative==="path");e==null&&t!=="/"&&(I.pathname=I.pathname==="/"?t:ti([t,I.pathname])),(m.replace?i.replace:i.push)(I,m.state,m)},[t,i,f,u,e])}const ux=F.createContext(null);function fx(e){let t=F.useContext(Ir).outlet;return t&&F.createElement(ux.Provider,{value:e},t)}function ug(e,t){let{relative:i}=t===void 0?{}:t,{matches:a}=F.useContext(Ir),{pathname:u}=Ss(),f=JSON.stringify(O1(a).map(g=>g.pathnameBase));return F.useMemo(()=>R1(e,JSON.parse(f),u,i==="path"),[e,f,u,i])}function dx(e,t){return hx(e,t)}function hx(e,t,i){vs()||dt(!1);let{navigator:a}=F.useContext(As),{matches:u}=F.useContext(Ir),f=u[u.length-1],g=f?f.params:{};f&&f.pathname;let x=f?f.pathnameBase:"/";f&&f.route;let w=Ss(),m;if(t){var I;let k=typeof t=="string"?Es(t):t;x==="/"||(I=k.pathname)!=null&&I.startsWith(x)||dt(!1),m=k}else m=w;let v=m.pathname||"/",M=x==="/"?v:v.slice(x.length)||"/",R=jm(e,{pathname:M}),U=yx(R&&R.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:ti([x,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?x:ti([x,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),u,i);return t&&U?F.createElement(bl.Provider,{value:{location:al({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Gr.Pop}},U):U}function gx(){let e=Ax(),t=sx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},f=null;return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),i?F.createElement("pre",{style:u},i):null,f)}const px=F.createElement(gx,null);class mx extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error?F.createElement(Ir.Provider,{value:this.props.routeContext},F.createElement(lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xx(e){let{routeContext:t,match:i,children:a}=e,u=F.useContext(D1);return u&&u.static&&u.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=i.route.id),F.createElement(Ir.Provider,{value:t},a)}function yx(e,t,i){var a;if(t===void 0&&(t=[]),i===void 0&&(i=null),e==null){var u;if((u=i)!=null&&u.errors)e=i.matches;else return null}let f=e,g=(a=i)==null?void 0:a.errors;if(g!=null){let x=f.findIndex(w=>w.route.id&&(g==null?void 0:g[w.route.id]));x>=0||dt(!1),f=f.slice(0,Math.min(f.length,x+1))}return f.reduceRight((x,w,m)=>{let I=w.route.id?g==null?void 0:g[w.route.id]:null,v=null;i&&(v=w.route.errorElement||px);let M=t.concat(f.slice(0,m+1)),R=()=>{let U;return I?U=v:w.route.Component?U=F.createElement(w.route.Component,null):w.route.element?U=w.route.element:U=x,F.createElement(xx,{match:w,routeContext:{outlet:x,matches:M,isDataRoute:i!=null},children:U})};return i&&(w.route.ErrorBoundary||w.route.errorElement||m===0)?F.createElement(mx,{location:i.location,revalidation:i.revalidation,component:v,error:I,children:R(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):R()},null)}var Mu;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(Mu||(Mu={}));var Mo;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Mo||(Mo={}));function wx(e){let t=F.useContext(D1);return t||dt(!1),t}function Cx(e){let t=F.useContext(ax);return t||dt(!1),t}function Ex(e){let t=F.useContext(Ir);return t||dt(!1),t}function fg(e){let t=Ex(),i=t.matches[t.matches.length-1];return i.route.id||dt(!1),i.route.id}function Ax(){var e;let t=F.useContext(lg),i=Cx(Mo.UseRouteError),a=fg(Mo.UseRouteError);return t||((e=i.errors)==null?void 0:e[a])}function vx(){let{router:e}=wx(Mu.UseNavigateStable),t=fg(Mo.UseNavigateStable),i=F.useRef(!1);return cg(()=>{i.current=!0}),F.useCallback(function(u,f){f===void 0&&(f={}),i.current&&(typeof u=="number"?e.navigate(u):e.navigate(u,al({fromRouteId:t},f)))},[e,t])}function dg(e){let{to:t,replace:i,state:a,relative:u}=e;vs()||dt(!1);let{matches:f}=F.useContext(Ir),{pathname:g}=Ss(),x=L1(),w=R1(t,O1(f).map(I=>I.pathnameBase),g,u==="path"),m=JSON.stringify(w);return F.useEffect(()=>x(JSON.parse(m),{replace:i,state:a,relative:u}),[x,m,u,i,a]),null}function Sx(e){return fx(e.context)}function Fr(e){dt(!1)}function Ix(e){let{basename:t="/",children:i=null,location:a,navigationType:u=Gr.Pop,navigator:f,static:g=!1}=e;vs()&&dt(!1);let x=t.replace(/^\/*/,"/"),w=F.useMemo(()=>({basename:x,navigator:f,static:g}),[x,f,g]);typeof a=="string"&&(a=Es(a));let{pathname:m="/",search:I="",hash:v="",state:M=null,key:R="default"}=a,U=F.useMemo(()=>{let k=M1(m,x);return k==null?null:{location:{pathname:k,search:I,hash:v,state:M,key:R},navigationType:u}},[x,m,I,v,M,R,u]);return U==null?null:F.createElement(As.Provider,{value:w},F.createElement(bl.Provider,{children:i,value:U}))}function _x(e){let{children:t,location:i}=e;return dx(Ou(t),i)}var wf;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(wf||(wf={}));new Promise(()=>{});function Ou(e,t){t===void 0&&(t=[]);let i=[];return F.Children.forEach(e,(a,u)=>{if(!F.isValidElement(a))return;let f=[...t,u];if(a.type===F.Fragment){i.push.apply(i,Ou(a.props.children,f));return}a.type!==Fr&&dt(!1),!a.props.index||!a.props.children||dt(!1);let g={id:a.props.id||f.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(g.children=Ou(a.props.children,f)),i.push(g)}),i}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Ru.apply(this,arguments)}function Tx(e,t){if(e==null)return{};var i={},a=Object.keys(e),u,f;for(f=0;f<a.length;f++)u=a[f],!(t.indexOf(u)>=0)&&(i[u]=e[u]);return i}function Nx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bx(e,t){return e.button===0&&(!t||t==="_self")&&!Nx(e)}const Mx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ox="startTransition",Cf=Ip[Ox];function Rx(e){let{basename:t,children:i,future:a,window:u}=e,f=F.useRef();f.current==null&&(f.current=Bm({window:u,v5Compat:!0}));let g=f.current,[x,w]=F.useState({action:g.action,location:g.location}),{v7_startTransition:m}=a||{},I=F.useCallback(v=>{m&&Cf?Cf(()=>w(v)):w(v)},[w,m]);return F.useLayoutEffect(()=>g.listen(I),[g,I]),F.createElement(Ix,{basename:t,children:i,location:x.location,navigationType:x.action,navigator:g})}const Dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ci=F.forwardRef(function(t,i){let{onClick:a,relative:u,reloadDocument:f,replace:g,state:x,target:w,to:m,preventScrollReset:I}=t,v=Tx(t,Mx),{basename:M}=F.useContext(As),R,U=!1;if(typeof m=="string"&&Lx.test(m)&&(R=m,Dx))try{let _=new URL(window.location.href),O=m.startsWith("//")?new URL(_.protocol+m):new URL(m),B=M1(O.pathname,M);O.origin===_.origin&&B!=null?m=B+O.search+O.hash:U=!0}catch{}let k=lx(m,{relative:u}),W=kx(m,{replace:g,state:x,target:w,preventScrollReset:I,relative:u});function N(_){a&&a(_),_.defaultPrevented||W(_)}return F.createElement("a",Ru({},v,{href:R||k,onClick:U||f?a:N,ref:i,target:w}))});var Ef;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Ef||(Ef={}));var Af;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Af||(Af={}));function kx(e,t){let{target:i,replace:a,state:u,preventScrollReset:f,relative:g}=t===void 0?{}:t,x=L1(),w=Ss(),m=ug(e,{relative:g});return F.useCallback(I=>{if(bx(I,i)){I.preventDefault();let v=a!==void 0?a:ol(w)===ol(m);x(e,{replace:v,state:u,preventScrollReset:f,relative:g})}},[w,x,m,a,u,i,e,f,g])}const Bx="/assets/Vector_1-66728c75.png",Px="/assets/orange-95eba623.png",Fx="/assets/balance-dish-d3ecf31a.png",jx="_balance_sbo7l_1",Ux="_mainWrapper_sbo7l_23",zx="_headerContainer_sbo7l_34",Wx="_buttonWrapper_sbo7l_67",Hx="_vector1_sbo7l_80",Vx="_infoCircle_sbo7l_92",Gx="_macroWrapper_sbo7l_109",Yx="_consumption_sbo7l_128",Xx="_consumptionOuterWrapper_sbo7l_145",ur={balance:jx,mainWrapper:Ux,headerContainer:zx,buttonWrapper:Wx,vector1:Hx,infoCircle:Vx,macroWrapper:Gx,consumption:Yx,consumptionOuterWrapper:Xx},Qx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAtCAYAAADV2ImkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKESURBVHgBzZmNWdswEIbPnSDdQGxANwgbZAOyQdmAdgLKBEknyAjOBmUDZ4Nkg693yIAR+jn9gP0+jwlRpPPni3R3UjpqCIADv6zc9q7rbmhpsNgNwqxpaYh3I4J7WhIsyCCNoQZ8S3XgG11TmntFn22qQ/VDsYHb0TsDX9uQwfHzFGe+Vp6xK77uJzZuqYSJWJfdVDj//xN6Hibj1vJ+fBCXPNERsVN66DzrMoxjU+hEwz75Uti4+nyL7kLL4clt+CCYs5J0OtL8HFnLyW0MhbXfND+PvsYu1Jvnz5k8dcEXcWLvXvk+iCWOR6q4IdWthfxvGDagnzNWdA8bYVaODSmK9sjDUAnQxVnps1bYWqMiI2rEajLYkOMN2CJpUNh90Bp083oKQ5lAn5gGhOoXxPN6iB0Vgvw5vXsVDl1e96EpO6nSyy59J38pnwvHye9UAQrjfLKAD/BE9ZyogFLBLShKLKWCDdVTtAaKBaMkuI+MK75ovAiWIuMv5c+pOyond98m00fqix+vLbBJQwL1oAwxRSkU+mz3HMb4ukveBzZOHjQGKRPo4v4/5J4WwXpcgzyYUdrrlTaT9kI30abqAXY6xc4dtLbOMU2xHYfsWA+Uz5HeFrCELkP5EeGGM+kxZ0BNjdGC4NroAmINvww0L1c5u2bN4d5ns/U1hjws3jU0L5IsxMvvao4PHh4Xm6H5kYW6UfVE/o7gM9hTDgiLlnj6h69r2DSryYgvPGewcZzYH9BCbEB0D09eh+7ngheMM9ZXv+ypBjbwC4m8Dl3M7hM2xPM1FaAe6DaVugX0VSBeKzRLQi33dLHDwyUc374H8cNDQ43oqCGwhytuZXYZT/Wb8B8U1NInOC2qHgAAAABJRU5ErkJggg==",Zx="_desktopMenu_1bida_6",Kx="_cogwheel_1bida_30",qx="_cog_1bida_30",_c={desktopMenu:Zx,cogwheel:Kx,cog:qx},At="http://localhost:5000/api",$x=async()=>{try{const e=await fetch(At+"/profile",{credentials:"include"});return e.ok?await e.json():null}catch(e){return console.error("Auth check error:",e),null}},bt=async(e,t)=>{try{const i=await fetch(e,{...t,credentials:"include"});if(i.status===401)throw window.location.href="/",new Error("Unauthorized");return i.ok?i.status===204?!0:await i.json():(console.error(`Error: ${i.status} ${i.statusText}`),null)}catch(i){return console.error("Network error:",i),null}},Jx=async(e,t,i)=>bt(At+"/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:i})}),ey=async(e,t)=>bt(At+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),k1=async()=>{await bt(At+"/logout",{method:"POST"}),window.location.href="/"},hg=async e=>bt(At+"/options",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),ty=async e=>bt(At+"/options",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),gg=async()=>bt(At+"/options",{headers:{"Content-Type":"application/json"}}),ny=async e=>bt(At+"/food",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),Da=async()=>bt(At+"/food",{headers:{"Content-Type":"application/json"}}),ry=async e=>bt(At+"/food",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),pg=async(e,t,i)=>bt(At+"/food/images/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({previousImage:t,image:i})}),iy=async e=>bt(At+"/consumption",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),La=async()=>bt(At+"/consumption",{headers:{"Content-Type":"application/json"}}),sy=async e=>bt(At+`/consumption/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),oy=async()=>bt(At+"/consumption",{method:"DELETE",headers:{"Content-Type":"application/json"}}),ay=async e=>bt(At+"/archive",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),Tc=async()=>bt(At+"/archive",{headers:{"Content-Type":"application/json"}}),ly=async e=>bt(At+`/archive/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),cy=async()=>bt(At+"/archive",{method:"DELETE",headers:{"Content-Type":"application/json"}});function Ml(){const e=()=>{k1()};return C.jsx("nav",{children:C.jsxs("ul",{className:_c.desktopMenu,children:[C.jsx("li",{children:C.jsx(Ci,{to:"/balance",children:"Balance"})}),C.jsx("li",{children:C.jsx(Ci,{to:"/products",children:"Products"})}),C.jsx("li",{children:C.jsx(Ci,{to:"/archive",children:"Archive"})}),C.jsx("li",{children:C.jsx(Ci,{className:_c.cogwheel,to:"/options",children:C.jsx("img",{className:_c.cog,src:Qx,alt:"cog wheel icon"})})}),C.jsx("li",{onClick:e,children:C.jsx(Ci,{to:"#",children:"Logout"})})]})})}const uy="_carbsWrapper_164uv_1",fy="_fatWrapper_164uv_1",dy="_proteinWrapper_164uv_1",hy="_saturatedFatWrapper_164uv_1",gy="_sugarWrapper_164uv_1",py="_saltWrapper_164uv_1",my="_textWrapper_164uv_7",xy="_cupWrapper_164uv_13",yy="_cupGreen_164uv_28",wy="_cupYellow_164uv_31",Cy="_cupRed_164uv_35",Ey="_caloriesWrapper_164uv_39",gi={carbsWrapper:uy,fatWrapper:fy,proteinWrapper:dy,saturatedFatWrapper:hy,sugarWrapper:gy,saltWrapper:py,textWrapper:my,cupWrapper:xy,cupGreen:yy,cupYellow:wy,cupRed:Cy,caloriesWrapper:Ey};function Ay({data:e}){const t=()=>{const i=+e.percent.slice(0,-1);switch(console.log(i>89),!0){case(i>89&&i<101):return gi.cupGreen;case(i>100&&i<111):return gi.cupYellow;case i>110:return gi.cupRed;default:return""}};return C.jsxs("div",{className:gi[e.wrapperClass],children:[C.jsxs("div",{className:gi.textWrapper,children:[C.jsx("h3",{children:e.title}),C.jsx("span",{children:e.amount})]}),C.jsx("div",{className:`${gi.cupWrapper} ${t()}`,children:C.jsx("div",{className:gi.textWrapper,children:C.jsx("span",{children:e.percent})})})]})}const vy="_panelWrapper_11op3_1",Sy="_panel_11op3_1",Iy="_nameWrapper_11op3_25",_y="_macrosWrapper_11op3_54",Ty="_close_11op3_67",Xs={panelWrapper:vy,panel:Sy,nameWrapper:Iy,macrosWrapper:_y,close:Ty},Ny="_singleMacroWrapper_1v4xe_1",by={singleMacroWrapper:Ny};function ut({label:e,value:t}){return C.jsxs("div",{className:by.singleMacroWrapper,children:[C.jsx("h5",{children:e}),C.jsx("p",{children:t})]})}function My({data:e,deleteItem:t}){return C.jsx("div",{className:Xs.panelWrapper,children:C.jsxs("div",{className:Xs.panel,children:[C.jsxs("div",{className:Xs.nameWrapper,children:[C.jsx("h4",{children:e.name}),C.jsx("p",{children:e.grams})]}),C.jsxs("div",{className:Xs.macrosWrapper,children:[C.jsx(ut,{label:"Kcal",value:e.calories}),C.jsx(ut,{label:"Carbs",value:e.carbohydrates}),C.jsx(ut,{label:"Fat",value:e.fat}),C.jsx(ut,{label:"Protein",value:e.protein}),C.jsx(ut,{label:"Sat.fat",value:e.saturatedFat}),C.jsx(ut,{label:"Sugar",value:e.sugar}),C.jsx(ut,{label:"Salt",value:e.salt})]}),C.jsx("span",{className:Xs.close,onClick:()=>t(e._id||""),children:"x"})]})})}const Oy="_typeA_1fd37_14",Ry="_typeB_1fd37_38",Dy={typeA:Oy,typeB:Ry};function lr({label:e,type:t,appearance:i,onClick:a,disabled:u,children:f}){return C.jsxs("button",{className:Dy[i],type:t,disabled:u,onClick:a,children:[e,f]})}const Ly="_dataWrapper_1mzqd_1",ky="_title_1mzqd_14",By="_cup_1mzqd_25",Py="_cupGreen_1mzqd_37",Fy="_cupYellow_1mzqd_40",jy="_cupRed_1mzqd_43",kr={dataWrapper:Ly,title:ky,cup:By,cupGreen:Py,cupYellow:Fy,cupRed:jy};function Uy({data:e}){const t=()=>{const i=+e.percent.slice(0,-1);switch(console.log(i>89),!0){case(i>89&&i<101):return kr.cupGreen;case(i>100&&i<111):return kr.cupYellow;case i>110:return kr.cupRed;default:return""}};return C.jsxs("div",{className:kr.dataWrapper,children:[C.jsx("span",{className:kr.percent,children:e.percent}),C.jsx("div",{className:`${kr.cup} ${t()}`}),C.jsx("p",{className:kr.title,children:e.title}),C.jsx("span",{className:kr.amount,children:e.amount})]})}const Is=F.createContext({});function zy({children:e}){const[t,i]=F.useState({_id:"",calories:0,carbohydrates:0,fat:0,protein:0,saturatedFat:0,sugar:0,salt:0}),[a,u]=F.useState([]),[f,g]=F.useState([]),[x,w]=F.useState({name:"",calories:"",carbohydrates:"",fat:"",protein:"",saturatedFat:"",sugar:"",salt:""}),[m,I]=F.useState([]),[v,M]=F.useState({date:"",name:"",calories:0,carbohydrates:0,fat:0,protein:0,saturatedFat:0,sugar:0,salt:0});return C.jsx(Is.Provider,{value:{options:t,setOptionsData:i,food:a,setFoodData:u,consumption:f,setConsumptionData:g,inputValue:x,setInputValue:w,archive:m,setArchive:I,archiveItem:v,setArchiveItem:M},children:e})}function mg(e){var t,i,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=mg(e[t]))&&(a&&(a+=" "),a+=i);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function Yr(){for(var e,t,i=0,a="";i<arguments.length;)(e=arguments[i++])&&(t=mg(e))&&(a&&(a+=" "),a+=t);return a}const co=e=>typeof e=="number"&&!isNaN(e),Oi=e=>typeof e=="string",an=e=>typeof e=="function",ka=e=>Oi(e)||an(e)?e:null,Nc=e=>F.isValidElement(e)||Oi(e)||an(e)||co(e);function Wy(e,t,i){i===void 0&&(i=300);const{scrollHeight:a,style:u}=e;requestAnimationFrame(()=>{u.minHeight="initial",u.height=a+"px",u.transition=`all ${i}ms`,requestAnimationFrame(()=>{u.height="0",u.padding="0",u.margin="0",setTimeout(t,i)})})}function Ol(e){let{enter:t,exit:i,appendPosition:a=!1,collapse:u=!0,collapseDuration:f=300}=e;return function(g){let{children:x,position:w,preventExitTransition:m,done:I,nodeRef:v,isIn:M}=g;const R=a?`${t}--${w}`:t,U=a?`${i}--${w}`:i,k=F.useRef(0);return F.useLayoutEffect(()=>{const W=v.current,N=R.split(" "),_=O=>{O.target===v.current&&(W.dispatchEvent(new Event("d")),W.removeEventListener("animationend",_),W.removeEventListener("animationcancel",_),k.current===0&&O.type!=="animationcancel"&&W.classList.remove(...N))};W.classList.add(...N),W.addEventListener("animationend",_),W.addEventListener("animationcancel",_)},[]),F.useEffect(()=>{const W=v.current,N=()=>{W.removeEventListener("animationend",N),u?Wy(W,I,f):I()};M||(m?N():(k.current=1,W.className+=` ${U}`,W.addEventListener("animationend",N)))},[M]),Ve.createElement(Ve.Fragment,null,x)}}function vf(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Nn={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const i=this.list.get(e).filter(a=>a!==t);return this.list.set(e,i),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const i=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(i)})}},da=e=>{let{theme:t,type:i,...a}=e;return Ve.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${i})`,...a})},bc={info:function(e){return Ve.createElement(da,{...e},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Ve.createElement(da,{...e},Ve.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Ve.createElement(da,{...e},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Ve.createElement(da,{...e},Ve.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ve.createElement("div",{className:"Toastify__spinner"})}};function Hy(e){const[,t]=F.useReducer(R=>R+1,0),[i,a]=F.useState([]),u=F.useRef(null),f=F.useRef(new Map).current,g=R=>i.indexOf(R)!==-1,x=F.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:g,getToast:R=>f.get(R)}).current;function w(R){let{containerId:U}=R;const{limit:k}=x.props;!k||U&&x.containerId!==U||(x.count-=x.queue.length,x.queue=[])}function m(R){a(U=>R==null?[]:U.filter(k=>k!==R))}function I(){const{toastContent:R,toastProps:U,staleId:k}=x.queue.shift();M(R,U,k)}function v(R,U){let{delay:k,staleId:W,...N}=U;if(!Nc(R)||function(oe){return!u.current||x.props.enableMultiContainer&&oe.containerId!==x.props.containerId||f.has(oe.toastId)&&oe.updateId==null}(N))return;const{toastId:_,updateId:O,data:B}=N,{props:Q}=x,q=()=>m(_),z=O==null;z&&x.count++;const K={...Q,style:Q.toastStyle,key:x.toastKey++,...Object.fromEntries(Object.entries(N).filter(oe=>{let[ye,Se]=oe;return Se!=null})),toastId:_,updateId:O,data:B,closeToast:q,isIn:!1,className:ka(N.className||Q.toastClassName),bodyClassName:ka(N.bodyClassName||Q.bodyClassName),progressClassName:ka(N.progressClassName||Q.progressClassName),autoClose:!N.isLoading&&(X=N.autoClose,pe=Q.autoClose,X===!1||co(X)&&X>0?X:pe),deleteToast(){const oe=vf(f.get(_),"removed");f.delete(_),Nn.emit(4,oe);const ye=x.queue.length;if(x.count=_==null?x.count-x.displayedToast:x.count-1,x.count<0&&(x.count=0),ye>0){const Se=_==null?x.props.limit:1;if(ye===1||Se===1)x.displayedToast++,I();else{const Y=Se>ye?ye:Se;x.displayedToast=Y;for(let ve=0;ve<Y;ve++)I()}}else t()}};var X,pe;K.iconOut=function(oe){let{theme:ye,type:Se,isLoading:Y,icon:ve}=oe,fe=null;const H={theme:ye,type:Se};return ve===!1||(an(ve)?fe=ve(H):F.isValidElement(ve)?fe=F.cloneElement(ve,H):Oi(ve)||co(ve)?fe=ve:Y?fe=bc.spinner():(ee=>ee in bc)(Se)&&(fe=bc[Se](H))),fe}(K),an(N.onOpen)&&(K.onOpen=N.onOpen),an(N.onClose)&&(K.onClose=N.onClose),K.closeButton=Q.closeButton,N.closeButton===!1||Nc(N.closeButton)?K.closeButton=N.closeButton:N.closeButton===!0&&(K.closeButton=!Nc(Q.closeButton)||Q.closeButton);let Ie=R;F.isValidElement(R)&&!Oi(R.type)?Ie=F.cloneElement(R,{closeToast:q,toastProps:K,data:B}):an(R)&&(Ie=R({closeToast:q,toastProps:K,data:B})),Q.limit&&Q.limit>0&&x.count>Q.limit&&z?x.queue.push({toastContent:Ie,toastProps:K,staleId:W}):co(k)?setTimeout(()=>{M(Ie,K,W)},k):M(Ie,K,W)}function M(R,U,k){const{toastId:W}=U;k&&f.delete(k);const N={content:R,props:U};f.set(W,N),a(_=>[..._,W].filter(O=>O!==k)),Nn.emit(4,vf(N,N.props.updateId==null?"added":"updated"))}return F.useEffect(()=>(x.containerId=e.containerId,Nn.cancelEmit(3).on(0,v).on(1,R=>u.current&&m(R)).on(5,w).emit(2,x),()=>{f.clear(),Nn.emit(3,x)}),[]),F.useEffect(()=>{x.props=e,x.isToastActive=g,x.displayedToast=i.length}),{getToastToRender:function(R){const U=new Map,k=Array.from(f.values());return e.newestOnTop&&k.reverse(),k.forEach(W=>{const{position:N}=W.props;U.has(N)||U.set(N,[]),U.get(N).push(W)}),Array.from(U,W=>R(W[0],W[1]))},containerRef:u,isToastActive:g}}function Sf(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function If(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Vy(e){const[t,i]=F.useState(!1),[a,u]=F.useState(!1),f=F.useRef(null),g=F.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,x=F.useRef(e),{autoClose:w,pauseOnHover:m,closeToast:I,onClick:v,closeOnClick:M}=e;function R(B){if(e.draggable){B.nativeEvent.type==="touchstart"&&B.nativeEvent.preventDefault(),g.didMove=!1,document.addEventListener("mousemove",N),document.addEventListener("mouseup",_),document.addEventListener("touchmove",N),document.addEventListener("touchend",_);const Q=f.current;g.canCloseOnClick=!0,g.canDrag=!0,g.boundingRect=Q.getBoundingClientRect(),Q.style.transition="",g.x=Sf(B.nativeEvent),g.y=If(B.nativeEvent),e.draggableDirection==="x"?(g.start=g.x,g.removalDistance=Q.offsetWidth*(e.draggablePercent/100)):(g.start=g.y,g.removalDistance=Q.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function U(B){if(g.boundingRect){const{top:Q,bottom:q,left:z,right:K}=g.boundingRect;B.nativeEvent.type!=="touchend"&&e.pauseOnHover&&g.x>=z&&g.x<=K&&g.y>=Q&&g.y<=q?W():k()}}function k(){i(!0)}function W(){i(!1)}function N(B){const Q=f.current;g.canDrag&&Q&&(g.didMove=!0,t&&W(),g.x=Sf(B),g.y=If(B),g.delta=e.draggableDirection==="x"?g.x-g.start:g.y-g.start,g.start!==g.x&&(g.canCloseOnClick=!1),Q.style.transform=`translate${e.draggableDirection}(${g.delta}px)`,Q.style.opacity=""+(1-Math.abs(g.delta/g.removalDistance)))}function _(){document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",N),document.removeEventListener("touchend",_);const B=f.current;if(g.canDrag&&g.didMove&&B){if(g.canDrag=!1,Math.abs(g.delta)>g.removalDistance)return u(!0),void e.closeToast();B.style.transition="transform 0.2s, opacity 0.2s",B.style.transform=`translate${e.draggableDirection}(0)`,B.style.opacity="1"}}F.useEffect(()=>{x.current=e}),F.useEffect(()=>(f.current&&f.current.addEventListener("d",k,{once:!0}),an(e.onOpen)&&e.onOpen(F.isValidElement(e.children)&&e.children.props),()=>{const B=x.current;an(B.onClose)&&B.onClose(F.isValidElement(B.children)&&B.children.props)}),[]),F.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||W(),window.addEventListener("focus",k),window.addEventListener("blur",W)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",k),window.removeEventListener("blur",W))}),[e.pauseOnFocusLoss]);const O={onMouseDown:R,onTouchStart:R,onMouseUp:U,onTouchEnd:U};return w&&m&&(O.onMouseEnter=W,O.onMouseLeave=k),M&&(O.onClick=B=>{v&&v(B),g.canCloseOnClick&&I()}),{playToast:k,pauseToast:W,isRunning:t,preventExitTransition:a,toastRef:f,eventHandlers:O}}function xg(e){let{closeToast:t,theme:i,ariaLabel:a="close"}=e;return Ve.createElement("button",{className:`Toastify__close-button Toastify__close-button--${i}`,type:"button",onClick:u=>{u.stopPropagation(),t(u)},"aria-label":a},Ve.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ve.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Gy(e){let{delay:t,isRunning:i,closeToast:a,type:u="default",hide:f,className:g,style:x,controlledProgress:w,progress:m,rtl:I,isIn:v,theme:M}=e;const R=f||w&&m===0,U={...x,animationDuration:`${t}ms`,animationPlayState:i?"running":"paused",opacity:R?0:1};w&&(U.transform=`scaleX(${m})`);const k=Yr("Toastify__progress-bar",w?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${M}`,`Toastify__progress-bar--${u}`,{"Toastify__progress-bar--rtl":I}),W=an(g)?g({rtl:I,type:u,defaultClassName:k}):Yr(k,g);return Ve.createElement("div",{role:"progressbar","aria-hidden":R?"true":"false","aria-label":"notification timer",className:W,style:U,[w&&m>=1?"onTransitionEnd":"onAnimationEnd"]:w&&m<1?null:()=>{v&&a()}})}const Yy=e=>{const{isRunning:t,preventExitTransition:i,toastRef:a,eventHandlers:u}=Vy(e),{closeButton:f,children:g,autoClose:x,onClick:w,type:m,hideProgressBar:I,closeToast:v,transition:M,position:R,className:U,style:k,bodyClassName:W,bodyStyle:N,progressClassName:_,progressStyle:O,updateId:B,role:Q,progress:q,rtl:z,toastId:K,deleteToast:X,isIn:pe,isLoading:Ie,iconOut:oe,closeOnClick:ye,theme:Se}=e,Y=Yr("Toastify__toast",`Toastify__toast-theme--${Se}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":z},{"Toastify__toast--close-on-click":ye}),ve=an(U)?U({rtl:z,position:R,type:m,defaultClassName:Y}):Yr(Y,U),fe=!!q||!x,H={closeToast:v,type:m,theme:Se};let ee=null;return f===!1||(ee=an(f)?f(H):F.isValidElement(f)?F.cloneElement(f,H):xg(H)),Ve.createElement(M,{isIn:pe,done:X,position:R,preventExitTransition:i,nodeRef:a},Ve.createElement("div",{id:K,onClick:w,className:ve,...u,style:k,ref:a},Ve.createElement("div",{...pe&&{role:Q},className:an(W)?W({type:m}):Yr("Toastify__toast-body",W),style:N},oe!=null&&Ve.createElement("div",{className:Yr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Ie})},oe),Ve.createElement("div",null,g)),ee,Ve.createElement(Gy,{...B&&!fe?{key:`pb-${B}`}:{},rtl:z,theme:Se,delay:x,isRunning:t,isIn:pe,closeToast:v,hide:I,type:m,style:O,className:_,controlledProgress:fe,progress:q||0})))},Rl=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Xy=Ol(Rl("bounce",!0));Ol(Rl("slide",!0));const yg=Ol(Rl("zoom"));Ol(Rl("flip"));const ll=F.forwardRef((e,t)=>{const{getToastToRender:i,containerRef:a,isToastActive:u}=Hy(e),{className:f,style:g,rtl:x,containerId:w}=e;function m(I){const v=Yr("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":x});return an(f)?f({position:I,rtl:x,defaultClassName:v}):Yr(v,ka(f))}return F.useEffect(()=>{t&&(t.current=a.current)},[]),Ve.createElement("div",{ref:a,className:"Toastify",id:w},i((I,v)=>{const M=v.length?{...g}:{...g,pointerEvents:"none"};return Ve.createElement("div",{className:m(I),style:M,key:`container-${I}`},v.map((R,U)=>{let{content:k,props:W}=R;return Ve.createElement(Yy,{...W,isIn:u(W.toastId),style:{...W.style,"--nth":U+1,"--len":v.length},key:`toast-${W.key}`},k)}))}))});ll.displayName="ToastContainer",ll.defaultProps={position:"top-right",transition:Xy,autoClose:5e3,closeButton:xg,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Mc,wi=new Map,Js=[],Qy=1;function wg(){return""+Qy++}function Zy(e){return e&&(Oi(e.toastId)||co(e.toastId))?e.toastId:wg()}function uo(e,t){return wi.size>0?Nn.emit(0,e,t):Js.push({content:e,options:t}),t.toastId}function cl(e,t){return{...t,type:t&&t.type||e,toastId:Zy(t)}}function ha(e){return(t,i)=>uo(t,cl(e,i))}function Be(e,t){return uo(e,cl("default",t))}Be.loading=(e,t)=>uo(e,cl("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Be.promise=function(e,t,i){let a,{pending:u,error:f,success:g}=t;u&&(a=Oi(u)?Be.loading(u,i):Be.loading(u.render,{...i,...u}));const x={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},w=(I,v,M)=>{if(v==null)return void Be.dismiss(a);const R={type:I,...x,...i,data:M},U=Oi(v)?{render:v}:v;return a?Be.update(a,{...R,...U}):Be(U.render,{...R,...U}),M},m=an(e)?e():e;return m.then(I=>w("success",g,I)).catch(I=>w("error",f,I)),m},Be.success=ha("success"),Be.info=ha("info"),Be.error=ha("error"),Be.warning=ha("warning"),Be.warn=Be.warning,Be.dark=(e,t)=>uo(e,cl("default",{theme:"dark",...t})),Be.dismiss=e=>{wi.size>0?Nn.emit(1,e):Js=Js.filter(t=>e!=null&&t.options.toastId!==e)},Be.clearWaitingQueue=function(e){return e===void 0&&(e={}),Nn.emit(5,e)},Be.isActive=e=>{let t=!1;return wi.forEach(i=>{i.isToastActive&&i.isToastActive(e)&&(t=!0)}),t},Be.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const i=function(a,u){let{containerId:f}=u;const g=wi.get(f||Mc);return g&&g.getToast(a)}(e,t);if(i){const{props:a,content:u}=i,f={delay:100,...a,...t,toastId:t.toastId||e,updateId:wg()};f.toastId!==e&&(f.staleId=e);const g=f.render||u;delete f.render,uo(g,f)}},0)},Be.done=e=>{Be.update(e,{progress:1})},Be.onChange=e=>(Nn.on(4,e),()=>{Nn.off(4,e)}),Be.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Be.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Nn.on(2,e=>{Mc=e.containerId||e,wi.set(Mc,e),Js.forEach(t=>{Nn.emit(0,t.content,t.options)}),Js=[]}).on(3,e=>{wi.delete(e.containerId||e),wi.size===0&&Nn.off(0).off(1).off(5)});function Ky(){const{consumption:e,setConsumptionData:t,options:i,setOptionsData:a,setArchiveItem:u}=F.useContext(Is)||[],[f,g]=F.useState([{wrapperClass:"carbsWrapper",title:"Carbs",amount:0,percent:"0%"},{wrapperClass:"fatWrapper",title:"Fat",amount:0,percent:"0%"},{wrapperClass:"proteinWrapper",title:"Protein",amount:0,percent:"0%"},{wrapperClass:"saturatedFatWrapper",title:"Sat. fat",amount:0,percent:"0%"},{wrapperClass:"sugarWrapper",title:"Sugar",amount:0,percent:"0%"},{wrapperClass:"saltWrapper",title:"Salt",amount:0,percent:"0%"},{wrapperClass:"caloriesWrapper",title:"Calories",amount:0,percent:"0%"}]);F.useEffect(()=>{const v=async()=>{const R=await gg();if(a)if(R.length>0)a(()=>R[0]);else{const U=await hg({calories:2e3});a(()=>U.data)}},M=async()=>{try{const R=await La();console.log("After fetch",{consumptionData:R}),t&&(console.log("Setting consumption"),t(R))}catch(R){console.error("Error fetching consumption data:",R)}};v(),M()},[]),F.useEffect(()=>{console.log("updated",{consumption:e,options:i}),w()},[e]);async function x(v){await sy(v);const M=await La();t&&t(M)}function w(){const v={calories:0,carbohydrates:0,fat:0,protein:0,saturatedFat:0,sugar:0,salt:0},M=[...f];if(e==null||e.forEach(R=>{v.calories+=+R.calories,v.carbohydrates+=+R.carbohydrates,v.fat+=+R.fat,v.protein+=+R.protein,v.saturatedFat+=+R.saturatedFat,v.sugar+=+R.sugar,v.salt+=+R.salt}),i){console.log("inside options");const R={calories:Math.round(v.calories*100/(i==null?void 0:i.calories)),carbohydrates:Math.round(v.carbohydrates*4/v.calories*100/((i==null?void 0:i.carbohydrates)*4/(i==null?void 0:i.calories)*100)*100),fat:Math.round(v.fat*9/v.calories*100/((i==null?void 0:i.fat)*9/(i==null?void 0:i.calories)*100)*100),protein:Math.round(v.protein*4/v.calories*100/((i==null?void 0:i.protein)*4/(i==null?void 0:i.calories)*100)*100),saturatedFat:Math.round(v.saturatedFat*9/v.calories*100/((i==null?void 0:i.saturatedFat)*9/(i==null?void 0:i.calories)*100)*100),sugar:Math.round(v.sugar*4/v.calories*100/((i==null?void 0:i.sugar)*4/(i==null?void 0:i.calories)*100)*100),salt:Math.round(v.salt*100/(i==null?void 0:i.salt))};console.log(v.saturatedFat,v.calories,i==null?void 0:i.saturatedFat,i==null?void 0:i.calories,(i==null?void 0:i.saturatedFat)*9/(i==null?void 0:i.calories)*100),M[6].amount=+v.calories.toFixed(1),M[6].percent=isNaN(R.calories)?"0%":R.calories+"%",M[0].amount=+v.carbohydrates.toFixed(1),M[0].percent=isNaN(R.carbohydrates)?"0%":R.carbohydrates+"%",M[1].amount=+v.fat.toFixed(1),M[1].percent=isNaN(R.fat)?"0%":R.fat+"%",M[2].amount=+v.protein.toFixed(1),M[2].percent=isNaN(R.protein)?"0%":R.protein+"%",M[3].amount=+v.saturatedFat.toFixed(1),M[3].percent=isNaN(R.saturatedFat)?"0%":R.saturatedFat+"%",M[4].amount=+v.sugar.toFixed(1),M[4].percent=isNaN(R.sugar)?"0%":R.sugar+"%",M[5].amount=+v.salt.toFixed(1),M[5].percent=isNaN(R.salt)?"0%":R.salt+"%",g(M)}}async function m(){await oy();const v=await La();t&&t(v)}async function I(){const v={date:"",grams:0,calories:0,carbohydrates:0,fat:0,protein:0,saturatedFat:0,sugar:0,salt:0};if(e){[...e].forEach(_=>{v.grams+=Math.round(_.grams||0),v.calories+=Math.round(_.calories||0),v.carbohydrates+=Math.round(_.carbohydrates||0),v.fat+=Math.round(_.fat||0),v.protein+=Math.round(_.protein||0),v.saturatedFat+=Math.round(_.saturatedFat||0),v.sugar+=Math.round(_.sugar||0),v.salt+=Math.round(_.salt||0)});const R=new Date;let U=R.getDate(),k=R.getMonth()+1;const N=`${R.getFullYear()}-${k}-${U}`;v.date=N,await ay(v),u&&(u(v),Be.success("Food saved into archive!",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),console.log({summarizedConsumption:v}))}}return C.jsxs(C.Fragment,{children:[C.jsx(ll,{position:"top-center",transition:yg,autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),C.jsxs("div",{className:ur.balance,children:[C.jsx(Ml,{}),C.jsxs("div",{className:ur.mainWrapper,children:[C.jsxs("div",{className:ur.headerContainer,children:[C.jsx("h1",{children:"Daily intake"}),C.jsxs("div",{className:ur.buttonWrapper,children:[C.jsx(lr,{label:"Reset",onClick:m,appearance:"typeA"}),C.jsx(lr,{label:"Archivate",onClick:I,appearance:"typeB",children:C.jsx("img",{src:Px,alt:"orange"})})]}),C.jsx("img",{src:Fx,alt:"Dish on a plate"})]}),C.jsx("div",{className:ur.macroWrapper,children:f.map((v,M)=>C.jsx(Uy,{data:v},M))})]}),C.jsx("img",{className:ur.vector1,src:Bx,alt:"curved background"}),C.jsx("div",{className:ur.infoCircle,children:f.map((v,M)=>C.jsx(Ay,{data:v},M))})]}),C.jsx("h2",{className:ur.consumption,children:"Consumption"}),C.jsx("div",{className:ur.consumptionOuterWrapper,children:e&&e.map((v,M)=>C.jsx(My,{deleteItem:x,data:v},M))})]})}const qy="_products_m1b5a_1",$y="_inputWrapper_m1b5a_9",Jy="_navWrapper_m1b5a_44",ew="_banana_m1b5a_53",tw="_addButtonWrapper_m1b5a_75",nw="_outerPanelWrapper_m1b5a_94",rw="_scrolled_m1b5a_99",iw="_productPanelWrapper_m1b5a_112",sw="_imageWrapper_m1b5a_132",ow="_image_m1b5a_132",aw="_image_small_m1b5a_148",lw="_title_m1b5a_165",cw="_image_large_m1b5a_169",uw="_nutrientWrapper_m1b5a_183",fw="_topNutrientWrapper_m1b5a_192",dw="_bottomNutrientWrapper_m1b5a_196",hw="_gramsWrapper_m1b5a_200",gw="_close_m1b5a_221",pw="_noResults_m1b5a_237",gt={products:qy,inputWrapper:$y,navWrapper:Jy,banana:ew,addButtonWrapper:tw,outerPanelWrapper:nw,scrolled:rw,productPanelWrapper:iw,imageWrapper:sw,image:ow,image_small:aw,title:lw,image_large:cw,nutrientWrapper:uw,topNutrientWrapper:fw,bottomNutrientWrapper:dw,gramsWrapper:hw,close:gw,noResults:pw},mw="_panelWrapper_vdsry_1",xw="_scannerWrapper_vdsry_15",yw="_panel_vdsry_1",ww="_nameWrapper_vdsry_53",Cw="_nameInputGroup_vdsry_61",Ew="_iconButtons_vdsry_69",Aw="_macrosWrapper_vdsry_99",vw="_innerMacrosWrapper_vdsry_108",Sw="_buttonWrapper_vdsry_111",fr={panelWrapper:mw,scannerWrapper:xw,panel:yw,nameWrapper:ww,nameInputGroup:Cw,iconButtons:Ew,macrosWrapper:Aw,innerMacrosWrapper:vw,buttonWrapper:Sw},Iw="_singleMacroWrapper_miezh_1",_w={singleMacroWrapper:Iw};function pi({label:e,name:t,value:i,onChangeHandler:a}){return C.jsxs("div",{className:_w.singleMacroWrapper,children:[C.jsx("h5",{children:e}),C.jsx("input",{type:"text",name:t,value:i,onChange:a})]})}const Tw="_valueWrapper_1ctiu_1",Nw="_inputWrapper_1ctiu_16",_f={valueWrapper:Tw,inputWrapper:Nw};var Qt=(e=>(e.Calories="calories",e.Carbohydrates="carbohydrates",e.Fat="fat",e.Protein="protein",e.SaturatedFat="saturatedFat",e.Sugar="sugar",e.Salt="salt",e))(Qt||{});function mi({label:e,placeholder:t,gramValue:i,value:a,calculated:u,name:f,onChangeHandler:g}){return C.jsxs("div",{className:_f.valueWrapper,children:[C.jsx("p",{children:e}),C.jsxs("div",{className:_f.inputWrapper,children:[C.jsx("input",{type:"text",placeholder:t,name:f,value:a,onChange:g}),C.jsx("p",{children:i}),C.jsx("p",{children:u})]})]})}var se;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(se||(se={}));var Tf=new Map([[se.QR_CODE,"QR_CODE"],[se.AZTEC,"AZTEC"],[se.CODABAR,"CODABAR"],[se.CODE_39,"CODE_39"],[se.CODE_93,"CODE_93"],[se.CODE_128,"CODE_128"],[se.DATA_MATRIX,"DATA_MATRIX"],[se.MAXICODE,"MAXICODE"],[se.ITF,"ITF"],[se.EAN_13,"EAN_13"],[se.EAN_8,"EAN_8"],[se.PDF_417,"PDF_417"],[se.RSS_14,"RSS_14"],[se.RSS_EXPANDED,"RSS_EXPANDED"],[se.UPC_A,"UPC_A"],[se.UPC_E,"UPC_E"],[se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Nf;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Nf||(Nf={}));function bw(e){return Object.values(se).includes(e)}var vr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(vr||(vr={}));var Wn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[vr.SCAN_TYPE_CAMERA,vr.SCAN_TYPE_FILE],e}(),Cg=function(){function e(t,i){this.format=t,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Tf.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Tf.get(t))},e}(),bf=function(){function e(){}return e.createFromText=function(t){var i={text:t};return{decodedText:t,result:i}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Du;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Du||(Du={}));var Eg=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Du.UNKWOWN_ERROR}},e}(),Ag=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,i){(this.verbose||i===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ir(e){return typeof e>"u"||e===null}function Mw(e,t,i){return e>i?i:e<t?t:e}var is=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Pe=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Mf=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),vg=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,i){if(typeof t!="object"){var a=typeof t;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(u),g=Object.keys(t),x=0,w=g;x<w.length;x++){var m=w[x];if(f.has(m))return i.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),Lu={exports:{}};(function(e,t){(function(i,a){a(t)})(Fs,function(i){function a(E){return E==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,n){E.__proto__=n}||function(E,n){for(var r in n)n.hasOwnProperty(r)&&(E[r]=n[r])};function f(E,n){u(E,n);function r(){this.constructor=E}E.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function g(E,n){var r=Object.setPrototypeOf;r?r(E,n):E.__proto__=n}function x(E,n){n===void 0&&(n=E.constructor);var r=Error.captureStackTrace;r&&r(E,n)}var w=function(E){f(n,E);function n(r){var s=this.constructor,o=E.call(this,r)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1}),g(o,s.prototype),x(o),o}return n}(Error);class m extends w{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}m.kind="Exception";class I extends m{}I.kind="ArgumentException";class v extends m{}v.kind="IllegalArgumentException";class M{constructor(n){if(this.binarizer=n,n===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,r){return this.binarizer.getBlackRow(n,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,r,s,o){const l=this.binarizer.getLuminanceSource().crop(n,r,s,o);return new M(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new M(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new M(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends m{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class U{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(n,r,s,o,l){for(;l--;)s[o++]=n[r++]}static currentTimeMillis(){return Date.now()}}class W extends m{}W.kind="IndexOutOfBoundsException";class N extends W{constructor(n=void 0,r=void 0){super(r),this.index=n,this.message=r}}N.kind="ArrayIndexOutOfBoundsException";class _{static fill(n,r){for(let s=0,o=n.length;s<o;s++)n[s]=r}static fillWithin(n,r,s,o){_.rangeCheck(n.length,r,s);for(let l=r;l<s;l++)n[l]=o}static rangeCheck(n,r,s){if(r>s)throw new v("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new N(r);if(s>n)throw new N(s)}static asList(...n){return n}static create(n,r,s){return Array.from({length:n}).map(l=>Array.from({length:r}).fill(s))}static createInt32Array(n,r,s){return Array.from({length:n}).map(l=>Int32Array.from({length:r}).fill(s))}static equals(n,r){if(!n||!r||!n.length||!r.length||n.length!==r.length)return!1;for(let s=0,o=n.length;s<o;s++)if(n[s]!==r[s])return!1;return!0}static hashCode(n){if(n===null)return 0;let r=1;for(const s of n)r=31*r+s;return r}static fillUint8Array(n,r){for(let s=0;s!==n.length;s++)n[s]=r}static copyOf(n,r){return n.slice(0,r)}static copyOfUint8Array(n,r){if(n.length<=r){const s=new Uint8Array(r);return s.set(n),s}return n.slice(0,r)}static copyOfRange(n,r,s){const o=s-r,l=new Int32Array(o);return k.arraycopy(n,r,l,0,o),l}static binarySearch(n,r,s){s===void 0&&(s=_.numberComparator);let o=0,l=n.length-1;for(;o<=l;){const c=l+o>>1,d=s(r,n[c]);if(d>0)o=c+1;else if(d<0)l=c-1;else return c}return-o-1}static numberComparator(n,r){return n-r}}class O{static numberOfTrailingZeros(n){let r;if(n===0)return 32;let s=31;return r=n<<16,r!==0&&(s-=16,n=r),r=n<<8,r!==0&&(s-=8,n=r),r=n<<4,r!==0&&(s-=4,n=r),r=n<<2,r!==0&&(s-=2,n=r),s-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let r=1;return n>>>16||(r+=16,n<<=16),n>>>24||(r+=8,n<<=8),n>>>28||(r+=4,n<<=4),n>>>30||(r+=2,n<<=2),r-=n>>>31,r}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,r){return Math.trunc(n/r)}static parseInt(n,r=void 0){return parseInt(n,r)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(n,r){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,r==null?this.bits=B.makeArray(n):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const r=B.makeArray(n);k.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const r=this.size;if(n>=r)return r;const s=this.bits;let o=Math.floor(n/32),l=s[o];l&=~((1<<(n&31))-1);const c=s.length;for(;l===0;){if(++o===c)return r;l=s[o]}const d=o*32+O.numberOfTrailingZeros(l);return d>r?r:d}getNextUnset(n){const r=this.size;if(n>=r)return r;const s=this.bits;let o=Math.floor(n/32),l=~s[o];l&=~((1<<(n&31))-1);const c=s.length;for(;l===0;){if(++o===c)return r;l=~s[o]}const d=o*32+O.numberOfTrailingZeros(l);return d>r?r:d}setBulk(n,r){this.bits[Math.floor(n/32)]=r}setRange(n,r){if(r<n||n<0||r>this.size)throw new v;if(r===n)return;r--;const s=Math.floor(n/32),o=Math.floor(r/32),l=this.bits;for(let c=s;c<=o;c++){const d=c>s?0:n&31,p=(2<<(c<o?31:r&31))-(1<<d);l[c]|=p}}clear(){const n=this.bits.length,r=this.bits;for(let s=0;s<n;s++)r[s]=0}isRange(n,r,s){if(r<n||n<0||r>this.size)throw new v;if(r===n)return!0;r--;const o=Math.floor(n/32),l=Math.floor(r/32),c=this.bits;for(let d=o;d<=l;d++){const h=d>o?0:n&31,y=(2<<(d<l?31:r&31))-(1<<h)&4294967295;if((c[d]&y)!==(s?y:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,r){if(r<0||r>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let s=r;s>0;s--)this.appendBit((n>>s-1&1)===1)}appendBitArray(n){const r=n.size;this.ensureCapacity(this.size+r);for(let s=0;s<r;s++)this.appendBit(n.get(s))}xor(n){if(this.size!==n.size)throw new v("Sizes don't match");const r=this.bits;for(let s=0,o=r.length;s<o;s++)r[s]^=n.bits[s]}toBytes(n,r,s,o){for(let l=0;l<o;l++){let c=0;for(let d=0;d<8;d++)this.get(n)&&(c|=1<<7-d),n++;r[s+l]=c}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,o=this.bits;for(let l=0;l<s;l++){let c=o[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,n[r-l]=c}if(this.size!==s*32){const l=s*32-this.size;let c=n[0]>>>l;for(let d=1;d<s;d++){const h=n[d];c|=h<<32-l,n[d-1]=c,c=h>>>l}n[s-1]=c}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof B))return!1;const r=n;return this.size===r.size&&_.equals(this.bits,r.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let n="";for(let r=0,s=this.size;r<s;r++)r&7||(n+=" "),n+=this.get(r)?"X":".";return n}clone(){return new B(this.size,this.bits.slice())}}var Q;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var q=Q;class z extends m{static getFormatInstance(){return new z}}z.kind="FormatException";var K;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(K||(K={}));class X{constructor(n,r,s,...o){this.valueIdentifier=n,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,X.VALUE_IDENTIFIER_TO_ECI.set(n,this),X.NAME_TO_ECI.set(s,this);const l=this.values;for(let c=0,d=l.length;c!==d;c++){const h=l[c];X.VALUES_TO_ECI.set(h,this)}for(const c of o)X.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new z("incorect value");const r=X.VALUES_TO_ECI.get(n);if(r===void 0)throw new z("incorect value");return r}static getCharacterSetECIByName(n){const r=X.NAME_TO_ECI.get(n);if(r===void 0)throw new z("incorect value");return r}equals(n){if(!(n instanceof X))return!1;const r=n;return this.getName()===r.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(K.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(K.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(K.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(K.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(K.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(K.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(K.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(K.Big5,28,"Big5"),X.GB18030=new X(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(K.EUC_KR,30,"EUC_KR","EUC-KR");class pe extends m{}pe.kind="UnsupportedOperationException";class Ie{static decode(n,r){const s=this.encodingName(r);return this.customDecoder?this.customDecoder(n,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(n,s):new TextDecoder(s).decode(n)}static shouldDecodeOnFallback(n){return!Ie.isBrowser()&&n==="ISO-8859-1"}static encode(n,r){const s=this.encodingName(r);return this.customEncoder?this.customEncoder(n,s):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof X?n:X.getCharacterSetECIByName(n)}static decodeFallback(n,r){const s=this.encodingCharacterSet(r);if(Ie.isDecodeFallbackSupported(s)){let o="";for(let l=0,c=n.length;l<c;l++){let d=n[l].toString(16);d.length<2&&(d="0"+d),o+="%"+d}return decodeURIComponent(o)}if(s.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new pe(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(X.UTF8)||n.equals(X.ISO8859_1)||n.equals(X.ASCII)}static encodeFallback(n){const s=btoa(unescape(encodeURIComponent(n))).split(""),o=[];for(let l=0;l<s.length;l++)o.push(s[l].charCodeAt(0));return new Uint8Array(o)}}class oe{static castAsNonUtf8Char(n,r=null){const s=r?r.getName():this.ISO88591;return Ie.decode(new Uint8Array([n]),s)}static guessEncoding(n,r){if(r!=null&&r.get(q.CHARACTER_SET)!==void 0)return r.get(q.CHARACTER_SET).toString();const s=n.length;let o=!0,l=!0,c=!0,d=0,h=0,p=0,y=0,A=0,S=0,b=0,D=0,L=0,P=0,G=0;const te=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let ne=0;ne<s&&(o||l||c);ne++){const $=n[ne]&255;c&&(d>0?$&128?d--:c=!1:$&128&&($&64?(d++,$&32?(d++,$&16?(d++,$&8?c=!1:y++):p++):h++):c=!1)),o&&($>127&&$<160?o=!1:$>159&&($<192||$===215||$===247)&&G++),l&&(A>0?$<64||$===127||$>252?l=!1:A--:$===128||$===160||$>239?l=!1:$>160&&$<224?(S++,D=0,b++,b>L&&(L=b)):$>127?(A++,b=0,D++,D>P&&(P=D)):(b=0,D=0))}return c&&d>0&&(c=!1),l&&A>0&&(l=!1),c&&(te||h+p+y>0)?oe.UTF8:l&&(oe.ASSUME_SHIFT_JIS||L>=3||P>=3)?oe.SHIFT_JIS:o&&l?L===2&&S===2||G*10>=s?oe.SHIFT_JIS:oe.ISO88591:o?oe.ISO88591:l?oe.SHIFT_JIS:c?oe.UTF8:oe.PLATFORM_DEFAULT_ENCODING}static format(n,...r){let s=-1;function o(c,d,h,p,y,A){if(c==="%%")return"%";if(r[++s]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let S=y?parseInt(y.substr(1)):void 0,b;switch(A){case"s":b=r[s];break;case"c":b=r[s][0];break;case"f":b=parseFloat(r[s]).toFixed(c);break;case"p":b=parseFloat(r[s]).toPrecision(c);break;case"e":b=parseFloat(r[s]).toExponential(c);break;case"x":b=parseInt(r[s]).toString(S||16);break;case"d":b=parseFloat(parseInt(r[s],S||10).toPrecision(c)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(S);let D=parseInt(h),L=h&&h[0]+""=="0"?"0":" ";for(;b.length<D;)b=d!==void 0?b+L:L+b;return b}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,o)}static getBytes(n,r){return Ie.encode(n,r)}static getCharCode(n,r=0){return n.charCodeAt(r)}static getCharAt(n){return String.fromCharCode(n)}}oe.SHIFT_JIS=X.SJIS.getName(),oe.GB2312="GB2312",oe.ISO88591=X.ISO8859_1.getName(),oe.EUC_JP="EUC_JP",oe.UTF8=X.UTF8.getName(),oe.PLATFORM_DEFAULT_ENCODING=oe.UTF8,oe.ASSUME_SHIFT_JIS=!1;class ye{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=oe.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,r,s){for(let o=r;r<r+s;o++)this.append(n[o]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+1)}substring(n,r){return this.value.substring(n,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+r.length)}}class Se{constructor(n,r,s,o){if(this.width=n,this.height=r,this.rowSize=s,this.bits=o,r==null&&(r=n),this.height=r,n<1||r<1)throw new v("Both dimensions must be greater than 0");s==null&&(s=Math.floor((n+31)/32)),this.rowSize=s,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const r=n.length,s=n[0].length,o=new Se(s,r);for(let l=0;l<r;l++){const c=n[l];for(let d=0;d<s;d++)c[d]&&o.set(d,l)}return o}static parseFromString(n,r,s){if(n===null)throw new v("stringRepresentation cannot be null");const o=new Array(n.length);let l=0,c=0,d=-1,h=0,p=0;for(;p<n.length;)if(n.charAt(p)===`
`||n.charAt(p)==="\r"){if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new v("row lengths do not match");c=l,h++}p++}else if(n.substring(p,p+r.length)===r)p+=r.length,o[l]=!0,l++;else if(n.substring(p,p+s.length)===s)p+=s.length,o[l]=!1,l++;else throw new v("illegal character encountered: "+n.substring(p));if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new v("row lengths do not match");h++}const y=new Se(d,h);for(let A=0;A<l;A++)o[A]&&y.set(Math.floor(A%d),Math.floor(A/d));return y}get(n,r){const s=r*this.rowSize+Math.floor(n/32);return(this.bits[s]>>>(n&31)&1)!==0}set(n,r){const s=r*this.rowSize+Math.floor(n/32);this.bits[s]|=1<<(n&31)&4294967295}unset(n,r){const s=r*this.rowSize+Math.floor(n/32);this.bits[s]&=~(1<<(n&31)&4294967295)}flip(n,r){const s=r*this.rowSize+Math.floor(n/32);this.bits[s]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new v("input matrix dimensions do not match");const r=new B(Math.floor(this.width/32)+1),s=this.rowSize,o=this.bits;for(let l=0,c=this.height;l<c;l++){const d=l*s,h=n.getRow(l,r).getBitArray();for(let p=0;p<s;p++)o[d+p]^=h[p]}}clear(){const n=this.bits,r=n.length;for(let s=0;s<r;s++)n[s]=0}setRegion(n,r,s,o){if(r<0||n<0)throw new v("Left and top must be nonnegative");if(o<1||s<1)throw new v("Height and width must be at least 1");const l=n+s,c=r+o;if(c>this.height||l>this.width)throw new v("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let p=r;p<c;p++){const y=p*d;for(let A=n;A<l;A++)h[y+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(n,r){r==null||r.getSize()<this.width?r=new B(this.width):r.clear();const s=this.rowSize,o=this.bits,l=n*s;for(let c=0;c<s;c++)r.setBulk(c*32,o[l+c]);return r}setRow(n,r){k.arraycopy(r.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),r=this.getHeight();let s=new B(n),o=new B(n);for(let l=0,c=Math.floor((r+1)/2);l<c;l++)s=this.getRow(l,s),o=this.getRow(r-1-l,o),s.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,s)}getEnclosingRectangle(){const n=this.width,r=this.height,s=this.rowSize,o=this.bits;let l=n,c=r,d=-1,h=-1;for(let p=0;p<r;p++)for(let y=0;y<s;y++){const A=o[p*s+y];if(A!==0){if(p<c&&(c=p),p>h&&(h=p),y*32<l){let S=0;for(;!(A<<31-S&4294967295);)S++;y*32+S<l&&(l=y*32+S)}if(y*32+31>d){let S=31;for(;!(A>>>S);)S--;y*32+S>d&&(d=y*32+S)}}}return d<l||h<c?null:Int32Array.from([l,c,d-l+1,h-c+1])}getTopLeftOnBit(){const n=this.rowSize,r=this.bits;let s=0;for(;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;const o=s/n;let l=s%n*32;const c=r[s];let d=0;for(;!(c<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,o])}getBottomRightOnBit(){const n=this.rowSize,r=this.bits;let s=r.length-1;for(;s>=0&&r[s]===0;)s--;if(s<0)return null;const o=Math.floor(s/n);let l=Math.floor(s%n)*32;const c=r[s];let d=31;for(;!(c>>>d);)d--;return l+=d,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof Se))return!1;const r=n;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&_.equals(this.bits,r.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+_.hashCode(this.bits),n}toString(n="X ",r="  ",s=`
`){return this.buildToString(n,r,s)}buildToString(n,r,s){let o=new ye;for(let l=0,c=this.height;l<c;l++){for(let d=0,h=this.width;d<h;d++)o.append(this.get(d,l)?n:r);o.append(s)}return o.toString()}clone(){return new Se(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends m{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class ve extends U{constructor(n){super(n),this.luminances=ve.EMPTY,this.buckets=new Int32Array(ve.LUMINANCE_BUCKETS)}getBlackRow(n,r){const s=this.getLuminanceSource(),o=s.getWidth();r==null||r.getSize()<o?r=new B(o):r.clear(),this.initArrays(o);const l=s.getRow(n,this.luminances),c=this.buckets;for(let h=0;h<o;h++)c[(l[h]&255)>>ve.LUMINANCE_SHIFT]++;const d=ve.estimateBlackPoint(c);if(o<3)for(let h=0;h<o;h++)(l[h]&255)<d&&r.set(h);else{let h=l[0]&255,p=l[1]&255;for(let y=1;y<o-1;y++){const A=l[y+1]&255;(p*4-h-A)/2<d&&r.set(y),h=p,p=A}}return r}getBlackMatrix(){const n=this.getLuminanceSource(),r=n.getWidth(),s=n.getHeight(),o=new Se(r,s);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(s*h/5),y=n.getRow(p,this.luminances),A=Math.floor(r*4/5);for(let S=Math.floor(r/5);S<A;S++){const b=y[S]&255;l[b>>ve.LUMINANCE_SHIFT]++}}const c=ve.estimateBlackPoint(l),d=n.getMatrix();for(let h=0;h<s;h++){const p=h*r;for(let y=0;y<r;y++)(d[p+y]&255)<c&&o.set(y,h)}return o}createBinarizer(n){return new ve(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const r=this.buckets;for(let s=0;s<ve.LUMINANCE_BUCKETS;s++)r[s]=0}static estimateBlackPoint(n){const r=n.length;let s=0,o=0,l=0;for(let y=0;y<r;y++)n[y]>l&&(o=y,l=n[y]),n[y]>s&&(s=n[y]);let c=0,d=0;for(let y=0;y<r;y++){const A=y-o,S=n[y]*A*A;S>d&&(c=y,d=S)}if(o>c){const y=o;o=c,c=y}if(c-o<=r/16)throw new Y;let h=c-1,p=-1;for(let y=c-1;y>o;y--){const A=y-o,S=A*A*(c-y)*(s-n[y]);S>p&&(h=y,p=S)}return h<<ve.LUMINANCE_SHIFT}}ve.LUMINANCE_BITS=5,ve.LUMINANCE_SHIFT=8-ve.LUMINANCE_BITS,ve.LUMINANCE_BUCKETS=1<<ve.LUMINANCE_BITS,ve.EMPTY=Uint8ClampedArray.from([0]);class fe extends ve{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),r=n.getWidth(),s=n.getHeight();if(r>=fe.MINIMUM_DIMENSION&&s>=fe.MINIMUM_DIMENSION){const o=n.getMatrix();let l=r>>fe.BLOCK_SIZE_POWER;r&fe.BLOCK_SIZE_MASK&&l++;let c=s>>fe.BLOCK_SIZE_POWER;s&fe.BLOCK_SIZE_MASK&&c++;const d=fe.calculateBlackPoints(o,l,c,r,s),h=new Se(r,s);fe.calculateThresholdForBlock(o,l,c,r,s,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new fe(n)}static calculateThresholdForBlock(n,r,s,o,l,c,d){const h=l-fe.BLOCK_SIZE,p=o-fe.BLOCK_SIZE;for(let y=0;y<s;y++){let A=y<<fe.BLOCK_SIZE_POWER;A>h&&(A=h);const S=fe.cap(y,2,s-3);for(let b=0;b<r;b++){let D=b<<fe.BLOCK_SIZE_POWER;D>p&&(D=p);const L=fe.cap(b,2,r-3);let P=0;for(let te=-2;te<=2;te++){const ne=c[S+te];P+=ne[L-2]+ne[L-1]+ne[L]+ne[L+1]+ne[L+2]}const G=P/25;fe.thresholdBlock(n,D,A,G,o,d)}}}static cap(n,r,s){return n<r?r:n>s?s:n}static thresholdBlock(n,r,s,o,l,c){for(let d=0,h=s*l+r;d<fe.BLOCK_SIZE;d++,h+=l)for(let p=0;p<fe.BLOCK_SIZE;p++)(n[h+p]&255)<=o&&c.set(r+p,s+d)}static calculateBlackPoints(n,r,s,o,l){const c=l-fe.BLOCK_SIZE,d=o-fe.BLOCK_SIZE,h=new Array(s);for(let p=0;p<s;p++){h[p]=new Int32Array(r);let y=p<<fe.BLOCK_SIZE_POWER;y>c&&(y=c);for(let A=0;A<r;A++){let S=A<<fe.BLOCK_SIZE_POWER;S>d&&(S=d);let b=0,D=255,L=0;for(let G=0,te=y*o+S;G<fe.BLOCK_SIZE;G++,te+=o){for(let ne=0;ne<fe.BLOCK_SIZE;ne++){const $=n[te+ne]&255;b+=$,$<D&&(D=$),$>L&&(L=$)}if(L-D>fe.MIN_DYNAMIC_RANGE)for(G++,te+=o;G<fe.BLOCK_SIZE;G++,te+=o)for(let ne=0;ne<fe.BLOCK_SIZE;ne++)b+=n[te+ne]&255}let P=b>>fe.BLOCK_SIZE_POWER*2;if(L-D<=fe.MIN_DYNAMIC_RANGE&&(P=D/2,p>0&&A>0)){const G=(h[p-1][A]+2*h[p][A-1]+h[p-1][A-1])/4;D<G&&(P=G)}h[p][A]=P}}return h}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class H{constructor(n,r){this.width=n,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,r,s,o){throw new pe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new pe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new pe("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let r=new ye;for(let s=0;s<this.height;s++){const o=this.getRow(s,n);for(let l=0;l<this.width;l++){const c=o[l]&255;let d;c<64?d="#":c<128?d="+":c<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class ee extends H{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,r){const s=this.delegate.getRow(n,r),o=this.getWidth();for(let l=0;l<o;l++)s[l]=255-(s[l]&255);return s}getMatrix(){const n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(r);for(let o=0;o<r;o++)s[o]=255-(n[o]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(n,r,s,o){return new ee(this.delegate.crop(n,r,s,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ee(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ee(this.delegate.rotateCounterClockwise45())}}class re extends H{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=re.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const r=n.getContext("2d").getImageData(0,0,n.width,n.height);return re.toGrayscaleBuffer(r.data,n.width,n.height)}static toGrayscaleBuffer(n,r,s){const o=new Uint8ClampedArray(r*s);for(let l=0,c=0,d=n.length;l<d;l+=4,c++){let h;if(n[l+3]===0)h=255;else{const y=n[l],A=n[l+1],S=n[l+2];h=306*y+601*A+117*S+512>>10}o[c]=h}return o}getRow(n,r){if(n<0||n>=this.getHeight())throw new v("Requested row is outside the image: "+n);const s=this.getWidth(),o=n*s;return r===null?r=this.buffer.slice(o,o+s):(r.length<s&&(r=new Uint8ClampedArray(s)),r.set(this.buffer.slice(o,o+s))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,r,s,o){return super.crop(n,r,s,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const r=this.getTempCanvasElement(),s=r.getContext("2d"),o=n*re.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*c),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*c);return r.width=d,r.height=h,s.translate(d/2,h/2),s.rotate(o),s.drawImage(this.canvas,l/-2,c/-2),this.buffer=re.makeBufferFromCanvasImageData(r),this}invert(){return new ee(this)}}re.DEGREE_TO_RADIANS=Math.PI/180;class he{constructor(n,r,s){this.deviceId=n,this.label=r,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var we=(globalThis||Fs||self||window||void 0)&&(globalThis||Fs||self||window||void 0).__awaiter||function(E,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(y){try{p(s.next(y))}catch(A){c(A)}}function h(y){try{p(s.throw(y))}catch(A){c(A)}}function p(y){y.done?l(y.value):o(y.value).then(d,h)}p((s=s.apply(E,n||[])).next())})};class vt{constructor(n,r=500,s){this.reader=n,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return we(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const s of n){const o=s.kind==="video"?"videoinput":s.kind;if(o!=="videoinput")continue;const l=s.deviceId||s.id,c=s.label||`Video device ${r.length+1}`,d=s.groupId,h={deviceId:l,label:c,kind:o,groupId:d};r.push(h)}return r})}getVideoInputDevices(){return we(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new he(r.deviceId,r.label))})}findDeviceById(n){return we(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(s=>s.deviceId===n):null})}decodeFromInputVideoDevice(n,r){return we(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,r)})}decodeOnceFromVideoDevice(n,r){return we(this,void 0,void 0,function*(){this.reset();let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(n,r){return we(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(s,r)})}decodeOnceFromStream(n,r){return we(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,r);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(n,r,s){return we(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,r,s)})}decodeFromVideoDevice(n,r,s){return we(this,void 0,void 0,function*(){let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,s)})}decodeFromConstraints(n,r,s){return we(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(o,r,s)})}decodeFromStream(n,r,s){return we(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,r);return yield this.decodeContinuously(o,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,r){return we(this,void 0,void 0,function*(){const s=this.prepareVideoElement(r);return this.addVideoSource(s,n),this.videoElement=s,this.stream=n,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(n){return new Promise((r,s)=>this.playVideoOnLoad(n,()=>r()))}playVideoOnLoad(n,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",r),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return we(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,r){const s=document.getElementById(n);if(!s)throw new I(`element with id '${n}' not found`);if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new I(`element with id '${n}' must be an ${r} element`);return s}decodeFromImage(n,r){if(!n&&!r)throw new I("either imageElement with a src set or an url must be provided");return r&&!n?this.decodeFromImageUrl(r):this.decodeFromImageElement(n)}decodeFromVideo(n,r){if(!n&&!r)throw new I("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,r,s){if(n===void 0&&r===void 0)throw new I("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(n,s)}decodeFromImageElement(n){if(!n)throw new I("An image element must be provided.");this.reset();const r=this.prepareImageElement(n);this.imageElement=r;let s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s}decodeFromVideoElement(n){const r=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(n,r){const s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(s,r)}_decodeFromVideoElementSetup(n){if(!n)throw new I("A video element must be provided.");this.reset();const r=this.prepareVideoElement(n);return this.videoElement=r,r}decodeFromImageUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const s=this._decodeOnLoadImage(r);return r.src=n,s}decodeFromVideoUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=n,s}decodeFromVideoUrlContinuously(n,r){if(!n)throw new I("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(s,r);return s.src=n,o}_decodeOnLoadImage(n){return new Promise((r,s)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(r,s),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return we(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,r){return we(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,r)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let r;return typeof n>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(r=n),r}prepareVideoElement(n){let r;return!n&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(r=n),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(n,r=!0,s=!0){this._stopAsyncDecode=!1;const o=(l,c)=>{if(this._stopAsyncDecode){c(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(n);l(d)}catch(d){const h=r&&d instanceof Y,y=(d instanceof R||d instanceof z)&&s;if(h||y)return setTimeout(o,this._timeBetweenDecodingAttempts,l,c);c(d)}};return new Promise((l,c)=>o(l,c))}decodeContinuously(n,r){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(n);r(o,null),setTimeout(s,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof R||o instanceof z,c=o instanceof Y;(l||c)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(n){const r=this.createBinaryBitmap(n);return this.decodeBitmap(r)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,r,s){r||(r={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(n,r,s=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const r=this.getCaptureCanvas(n),s=new re(r),o=new fe(s);return new M(o)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const r=this.createCaptureCanvas(n);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let s,o;return typeof n<"u"&&(n instanceof HTMLVideoElement?(s=n.videoWidth,o=n.videoHeight):n instanceof HTMLImageElement&&(s=n.naturalWidth||n.width,o=n.naturalHeight||n.height)),r.style.width=s+"px",r.style.height=o+"px",r.width=s,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,r){try{n.srcObject=r}catch{n.src=URL.createObjectURL(r)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class je{constructor(n,r,s=r==null?0:8*r.length,o,l,c=k.currentTimeMillis()){this.text=n,this.rawBytes=r,this.numBits=s,this.resultPoints=o,this.format=l,this.timestamp=c,this.text=n,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=o,this.format=l,this.resultMetadata=null,c==null?this.timestamp=k.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,r)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const r=this.resultPoints;if(r===null)this.resultPoints=n;else if(n!==null&&n.length>0){const s=new Array(r.length+n.length);k.arraycopy(r,0,s,0,r.length),k.arraycopy(n,0,s,r.length,n.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Xn;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xn||(Xn={}));var ue=Xn,_r;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(_r||(_r={}));var St=_r;class _s{constructor(n,r,s,o,l=-1,c=-1){this.rawBytes=n,this.text=r,this.byteSegments=s,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ts{exp(n){return this.expTable[n]}log(n){if(n===0)throw new v;return this.logTable[n]}static addOrSubtract(n,r){return n^r}}class $t{constructor(n,r){if(r.length===0)throw new v;this.field=n;const s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-o),k.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const r=this.coefficients;let s;if(n===1){s=0;for(let c=0,d=r.length;c!==d;c++){const h=r[c];s=Ts.addOrSubtract(s,h)}return s}s=r[0];const o=r.length,l=this.field;for(let c=1;c<o;c++)s=Ts.addOrSubtract(l.multiply(n,s),r[c]);return s}addOrSubtract(n){if(!this.field.equals(n.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,s=n.coefficients;if(r.length>s.length){const c=r;r=s,s=c}let o=new Int32Array(s.length);const l=s.length-r.length;k.arraycopy(s,0,o,0,l);for(let c=l;c<s.length;c++)o[c]=Ts.addOrSubtract(r[c-l],s[c]);return new $t(this.field,o)}multiply(n){if(!this.field.equals(n.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const r=this.coefficients,s=r.length,o=n.coefficients,l=o.length,c=new Int32Array(s+l-1),d=this.field;for(let h=0;h<s;h++){const p=r[h];for(let y=0;y<l;y++)c[h+y]=Ts.addOrSubtract(c[h+y],d.multiply(p,o[y]))}return new $t(d,c)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const r=this.coefficients.length,s=this.field,o=new Int32Array(r),l=this.coefficients;for(let c=0;c<r;c++)o[c]=s.multiply(l[c],n);return new $t(s,o)}multiplyByMonomial(n,r){if(n<0)throw new v;if(r===0)return this.field.getZero();const s=this.coefficients,o=s.length,l=new Int32Array(o+n),c=this.field;for(let d=0;d<o;d++)l[d]=c.multiply(s[d],r);return new $t(c,l)}divide(n){if(!this.field.equals(n.field))throw new v("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new v("Divide by 0");const r=this.field;let s=r.getZero(),o=this;const l=n.getCoefficient(n.getDegree()),c=r.inverse(l);for(;o.getDegree()>=n.getDegree()&&!o.isZero();){const d=o.getDegree()-n.getDegree(),h=r.multiply(o.getCoefficient(o.getDegree()),c),p=n.multiplyByMonomial(d,h),y=r.buildMonomial(d,h);s=s.addOrSubtract(y),o=o.addOrSubtract(p)}return[s,o]}toString(){let n="";for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);if(s!==0){if(s<0?(n+=" - ",s=-s):n.length>0&&(n+=" + "),r===0||s!==1){const o=this.field.log(s);o===0?n+="1":o===1?n+="a":(n+="a^",n+=o)}r!==0&&(r===1?n+="x":(n+="x^",n+=r))}}return n}}class Bo extends m{}Bo.kind="ArithmeticException";class Re extends Ts{constructor(n,r,s){super(),this.primitive=n,this.size=r,this.generatorBase=s;const o=new Int32Array(r);let l=1;for(let d=0;d<r;d++)o[d]=l,l*=2,l>=r&&(l^=n,l&=r-1);this.expTable=o;const c=new Int32Array(r);for(let d=0;d<r-1;d++)c[o[d]]=d;this.logTable=c,this.zero=new $t(this,Int32Array.from([0])),this.one=new $t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new v;if(r===0)return this.zero;const s=new Int32Array(n+1);return s[0]=r,new $t(this,s)}inverse(n){if(n===0)throw new Bo;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Re.AZTEC_DATA_12=new Re(4201,4096,1),Re.AZTEC_DATA_10=new Re(1033,1024,1),Re.AZTEC_DATA_6=new Re(67,64,1),Re.AZTEC_PARAM=new Re(19,16,1),Re.QR_CODE_FIELD_256=new Re(285,256,0),Re.DATA_MATRIX_FIELD_256=new Re(301,256,1),Re.AZTEC_DATA_8=Re.DATA_MATRIX_FIELD_256,Re.MAXICODE_FIELD_64=Re.AZTEC_DATA_6;class Li extends m{}Li.kind="ReedSolomonException";class Qn extends m{}Qn.kind="IllegalStateException";class Ns{constructor(n){this.field=n}decode(n,r){const s=this.field,o=new $t(s,n),l=new Int32Array(r);let c=!0;for(let b=0;b<r;b++){const D=o.evaluateAt(s.exp(b+s.getGeneratorBase()));l[l.length-1-b]=D,D!==0&&(c=!1)}if(c)return;const d=new $t(s,l),h=this.runEuclideanAlgorithm(s.buildMonomial(r,1),d,r),p=h[0],y=h[1],A=this.findErrorLocations(p),S=this.findErrorMagnitudes(y,A);for(let b=0;b<A.length;b++){const D=n.length-1-s.log(A[b]);if(D<0)throw new Li("Bad error location");n[D]=Re.addOrSubtract(n[D],S[b])}}runEuclideanAlgorithm(n,r,s){if(n.getDegree()<r.getDegree()){const b=n;n=r,r=b}const o=this.field;let l=n,c=r,d=o.getZero(),h=o.getOne();for(;c.getDegree()>=(s/2|0);){let b=l,D=d;if(l=c,d=h,l.isZero())throw new Li("r_{i-1} was zero");c=b;let L=o.getZero();const P=l.getCoefficient(l.getDegree()),G=o.inverse(P);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const te=c.getDegree()-l.getDegree(),ne=o.multiply(c.getCoefficient(c.getDegree()),G);L=L.addOrSubtract(o.buildMonomial(te,ne)),c=c.addOrSubtract(l.multiplyByMonomial(te,ne))}if(h=L.multiply(d).addOrSubtract(D),c.getDegree()>=l.getDegree())throw new Qn("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new Li("sigmaTilde(0) was zero");const y=o.inverse(p),A=h.multiplyScalar(y),S=c.multiplyScalar(y);return[A,S]}findErrorLocations(n){const r=n.getDegree();if(r===1)return Int32Array.from([n.getCoefficient(1)]);const s=new Int32Array(r);let o=0;const l=this.field;for(let c=1;c<l.getSize()&&o<r;c++)n.evaluateAt(c)===0&&(s[o]=l.inverse(c),o++);if(o!==r)throw new Li("Error locator degree does not match number of roots");return s}findErrorMagnitudes(n,r){const s=r.length,o=new Int32Array(s),l=this.field;for(let c=0;c<s;c++){const d=l.inverse(r[c]);let h=1;for(let p=0;p<s;p++)if(c!==p){const y=l.multiply(r[p],d),A=y&1?y&-2:y|1;h=l.multiply(h,A)}o[c]=l.multiply(n.evaluateAt(d),l.inverse(h)),l.getGeneratorBase()!==0&&(o[c]=l.multiply(o[c],d))}return o}}var Mt;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(Mt||(Mt={}));class Ge{decode(n){this.ddata=n;let r=n.getBits(),s=this.extractBits(r),o=this.correctBits(s),l=Ge.convertBoolArrayToByteArray(o),c=Ge.getEncodedData(o),d=new _s(l,c,null,null);return d.setNumBits(o.length),d}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let r=n.length,s=Mt.UPPER,o=Mt.UPPER,l="",c=0;for(;c<r;)if(o===Mt.BINARY){if(r-c<5)break;let d=Ge.readCode(n,c,5);if(c+=5,d===0){if(r-c<11)break;d=Ge.readCode(n,c,11)+31,c+=11}for(let h=0;h<d;h++){if(r-c<8){c=r;break}const p=Ge.readCode(n,c,8);l+=oe.castAsNonUtf8Char(p),c+=8}o=s}else{let d=o===Mt.DIGIT?4:5;if(r-c<d)break;let h=Ge.readCode(n,c,d);c+=d;let p=Ge.getCharacter(o,h);p.startsWith("CTRL_")?(s=o,o=Ge.getTable(p.charAt(5)),p.charAt(6)==="L"&&(s=o)):(l+=p,o=s)}return l}static getTable(n){switch(n){case"L":return Mt.LOWER;case"P":return Mt.PUNCT;case"M":return Mt.MIXED;case"D":return Mt.DIGIT;case"B":return Mt.BINARY;case"U":default:return Mt.UPPER}}static getCharacter(n,r){switch(n){case Mt.UPPER:return Ge.UPPER_TABLE[r];case Mt.LOWER:return Ge.LOWER_TABLE[r];case Mt.MIXED:return Ge.MIXED_TABLE[r];case Mt.PUNCT:return Ge.PUNCT_TABLE[r];case Mt.DIGIT:return Ge.DIGIT_TABLE[r];default:throw new Qn("Bad table")}}correctBits(n){let r,s;this.ddata.getNbLayers()<=2?(s=6,r=Re.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=Re.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=Re.AZTEC_DATA_10):(s=12,r=Re.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=n.length/s;if(l<o)throw new z;let c=n.length%s,d=new Int32Array(l);for(let S=0;S<l;S++,c+=s)d[S]=Ge.readCode(n,c,s);try{new Ns(r).decode(d,l-o)}catch(S){throw new z(S)}let h=(1<<s)-1,p=0;for(let S=0;S<o;S++){let b=d[S];if(b===0||b===h)throw new z;(b===1||b===h-1)&&p++}let y=new Array(o*s-p),A=0;for(let S=0;S<o;S++){let b=d[S];if(b===1||b===h-1)y.fill(b>1,A,A+s-1),A+=s-1;else for(let D=s-1;D>=0;--D)y[A++]=(b&1<<D)!==0}return y}extractBits(n){let r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),o=(r?11:14)+s*4,l=new Int32Array(o),c=new Array(this.totalBitsInLayer(s,r));if(r)for(let d=0;d<l.length;d++)l[d]=d;else{let d=o+1+2*O.truncDivision(O.truncDivision(o,2)-1,15),h=o/2,p=O.truncDivision(d,2);for(let y=0;y<h;y++){let A=y+O.truncDivision(y,15);l[h-y-1]=p-A-1,l[h+y]=p+A+1}}for(let d=0,h=0;d<s;d++){let p=(s-d)*4+(r?9:12),y=d*2,A=o-1-y;for(let S=0;S<p;S++){let b=S*2;for(let D=0;D<2;D++)c[h+b+D]=n.get(l[y+D],l[y+S]),c[h+2*p+b+D]=n.get(l[y+S],l[A-D]),c[h+4*p+b+D]=n.get(l[A-D],l[A-S]),c[h+6*p+b+D]=n.get(l[A-S],l[y+D])}h+=p*8}return c}static readCode(n,r,s){let o=0;for(let l=r;l<r+s;l++)o<<=1,n[l]&&(o|=1);return o}static readByte(n,r){let s=n.length-r;return s>=8?Ge.readCode(n,r,8):Ge.readCode(n,r,s)<<8-s}static convertBoolArrayToByteArray(n){let r=new Uint8Array((n.length+7)/8);for(let s=0;s<r.length;s++)r[s]=Ge.readByte(n,8*s);return r}totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}Ge.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ge.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ge.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ge.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ge.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class be{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,r,s,o){const l=n-s,c=r-o;return Math.sqrt(l*l+c*c)}static sum(n){let r=0;for(let s=0,o=n.length;s!==o;s++){const l=n[s];r+=l}return r}}class Po{static floatToIntBits(n){return n}}Po.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ce{constructor(n,r){this.x=n,this.y=r}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof ce){const r=n;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Po.floatToIntBits(this.x)+Po.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const r=this.distance(n[0],n[1]),s=this.distance(n[1],n[2]),o=this.distance(n[0],n[2]);let l,c,d;if(s>=r&&s>=o?(c=n[0],l=n[1],d=n[2]):o>=s&&o>=r?(c=n[1],l=n[0],d=n[2]):(c=n[2],l=n[0],d=n[1]),this.crossProductZ(l,c,d)<0){const h=l;l=d,d=h}n[0]=l,n[1]=c,n[2]=d}static distance(n,r){return be.distance(n.x,n.y,r.x,r.y)}static crossProductZ(n,r,s){const o=r.x,l=r.y;return(s.x-o)*(n.y-l)-(s.y-l)*(n.x-o)}}class Fo{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class j1 extends Fo{constructor(n,r,s,o,l){super(n,r),this.compact=s,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class cr{constructor(n,r,s,o){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),r==null&&(r=cr.INIT_SIZE),s==null&&(s=n.getWidth()/2|0),o==null&&(o=n.getHeight()/2|0);const l=r/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let n=this.leftInit,r=this.rightInit,s=this.upInit,o=this.downInit,l=!1,c=!0,d=!1,h=!1,p=!1,y=!1,A=!1;const S=this.width,b=this.height;for(;c;){c=!1;let D=!0;for(;(D||!h)&&r<S;)D=this.containsBlackPoint(s,o,r,!1),D?(r++,c=!0,h=!0):h||r++;if(r>=S){l=!0;break}let L=!0;for(;(L||!p)&&o<b;)L=this.containsBlackPoint(n,r,o,!0),L?(o++,c=!0,p=!0):p||o++;if(o>=b){l=!0;break}let P=!0;for(;(P||!y)&&n>=0;)P=this.containsBlackPoint(s,o,n,!1),P?(n--,c=!0,y=!0):y||n--;if(n<0){l=!0;break}let G=!0;for(;(G||!A)&&s>=0;)G=this.containsBlackPoint(n,r,s,!0),G?(s--,c=!0,A=!0):A||s--;if(s<0){l=!0;break}c&&(d=!0)}if(!l&&d){const D=r-n;let L=null;for(let ne=1;L===null&&ne<D;ne++)L=this.getBlackPointOnSegment(n,o-ne,n+ne,o);if(L==null)throw new Y;let P=null;for(let ne=1;P===null&&ne<D;ne++)P=this.getBlackPointOnSegment(n,s+ne,n+ne,s);if(P==null)throw new Y;let G=null;for(let ne=1;G===null&&ne<D;ne++)G=this.getBlackPointOnSegment(r,s+ne,r-ne,s);if(G==null)throw new Y;let te=null;for(let ne=1;te===null&&ne<D;ne++)te=this.getBlackPointOnSegment(r,o-ne,r-ne,o);if(te==null)throw new Y;return this.centerEdges(te,L,G,P)}else throw new Y}getBlackPointOnSegment(n,r,s,o){const l=be.round(be.distance(n,r,s,o)),c=(s-n)/l,d=(o-r)/l,h=this.image;for(let p=0;p<l;p++){const y=be.round(n+p*c),A=be.round(r+p*d);if(h.get(y,A))return new ce(y,A)}return null}centerEdges(n,r,s,o){const l=n.getX(),c=n.getY(),d=r.getX(),h=r.getY(),p=s.getX(),y=s.getY(),A=o.getX(),S=o.getY(),b=cr.CORR;return l<this.width/2?[new ce(A-b,S+b),new ce(d+b,h+b),new ce(p-b,y-b),new ce(l+b,c-b)]:[new ce(A+b,S+b),new ce(d+b,h-b),new ce(p-b,y+b),new ce(l-b,c-b)]}containsBlackPoint(n,r,s,o){const l=this.image;if(o){for(let c=n;c<=r;c++)if(l.get(c,s))return!0}else for(let c=n;c<=r;c++)if(l.get(s,c))return!0;return!1}}cr.INIT_SIZE=10,cr.CORR=1;class Dl{static checkAndNudgePoints(n,r){const s=n.getWidth(),o=n.getHeight();let l=!0;for(let c=0;c<r.length&&l;c+=2){const d=Math.floor(r[c]),h=Math.floor(r[c+1]);if(d<-1||d>s||h<-1||h>o)throw new Y;l=!1,d===-1?(r[c]=0,l=!0):d===s&&(r[c]=s-1,l=!0),h===-1?(r[c+1]=0,l=!0):h===o&&(r[c+1]=o-1,l=!0)}l=!0;for(let c=r.length-2;c>=0&&l;c-=2){const d=Math.floor(r[c]),h=Math.floor(r[c+1]);if(d<-1||d>s||h<-1||h>o)throw new Y;l=!1,d===-1?(r[c]=0,l=!0):d===s&&(r[c]=s-1,l=!0),h===-1?(r[c+1]=0,l=!0):h===o&&(r[c+1]=o-1,l=!0)}}}class kn{constructor(n,r,s,o,l,c,d,h,p){this.a11=n,this.a21=r,this.a31=s,this.a12=o,this.a22=l,this.a32=c,this.a13=d,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(n,r,s,o,l,c,d,h,p,y,A,S,b,D,L,P){const G=kn.quadrilateralToSquare(n,r,s,o,l,c,d,h);return kn.squareToQuadrilateral(p,y,A,S,b,D,L,P).times(G)}transformPoints(n){const r=n.length,s=this.a11,o=this.a12,l=this.a13,c=this.a21,d=this.a22,h=this.a23,p=this.a31,y=this.a32,A=this.a33;for(let S=0;S<r;S+=2){const b=n[S],D=n[S+1],L=l*b+h*D+A;n[S]=(s*b+c*D+p)/L,n[S+1]=(o*b+d*D+y)/L}}transformPointsWithValues(n,r){const s=this.a11,o=this.a12,l=this.a13,c=this.a21,d=this.a22,h=this.a23,p=this.a31,y=this.a32,A=this.a33,S=n.length;for(let b=0;b<S;b++){const D=n[b],L=r[b],P=l*D+h*L+A;n[b]=(s*D+c*L+p)/P,r[b]=(o*D+d*L+y)/P}}static squareToQuadrilateral(n,r,s,o,l,c,d,h){const p=n-s+l-d,y=r-o+c-h;if(p===0&&y===0)return new kn(s-n,l-s,n,o-r,c-o,r,0,0,1);{const A=s-l,S=d-l,b=o-c,D=h-c,L=A*D-S*b,P=(p*D-S*y)/L,G=(A*y-p*b)/L;return new kn(s-n+P*s,d-n+G*d,n,o-r+P*o,h-r+G*h,r,P,G,1)}}static quadrilateralToSquare(n,r,s,o,l,c,d,h){return kn.squareToQuadrilateral(n,r,s,o,l,c,d,h).buildAdjoint()}buildAdjoint(){return new kn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new kn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class U1 extends Dl{sampleGrid(n,r,s,o,l,c,d,h,p,y,A,S,b,D,L,P,G,te,ne){const $=kn.quadrilateralToQuadrilateral(o,l,c,d,h,p,y,A,S,b,D,L,P,G,te,ne);return this.sampleGridWithTransform(n,r,s,$)}sampleGridWithTransform(n,r,s,o){if(r<=0||s<=0)throw new Y;const l=new Se(r,s),c=new Float32Array(2*r);for(let d=0;d<s;d++){const h=c.length,p=d+.5;for(let y=0;y<h;y+=2)c[y]=y/2+.5,c[y+1]=p;o.transformPoints(c),Dl.checkAndNudgePoints(n,c);try{for(let y=0;y<h;y+=2)n.get(Math.floor(c[y]),Math.floor(c[y+1]))&&l.set(y/2,d)}catch{throw new Y}}return l}}class Tr{static setGridSampler(n){Tr.gridSampler=n}static getInstance(){return Tr.gridSampler}}Tr.gridSampler=new U1;class Ht{constructor(n,r){this.x=n,this.y=r}toResultPoint(){return new ce(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class z1{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(n){let c=s[0];s[0]=s[2],s[2]=c}this.extractParameters(s);let o=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new j1(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new Y;let r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(n[0],n[1],r),this.sampleLine(n[1],n[2],r),this.sampleLine(n[2],n[3],r),this.sampleLine(n[3],n[0],r)]);this.shift=this.getRotation(s,r);let o=0;for(let c=0;c<4;c++){let d=s[(this.shift+c)%4];this.compact?(o<<=7,o+=d>>1&127):(o<<=10,o+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(n,r){let s=0;n.forEach((o,l,c)=>{let d=(o>>r-2<<1)+(o&1);s=(s<<3)+d}),s=((s&1)<<11)+(s>>1);for(let o=0;o<4;o++)if(O.bitCount(s^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new Y}getCorrectedParameterData(n,r){let s,o;r?(s=7,o=2):(s=10,o=4);let l=s-o,c=new Int32Array(s);for(let h=s-1;h>=0;--h)c[h]=n&15,n>>=4;try{new Ns(Re.AZTEC_PARAM).decode(c,l)}catch{throw new Y}let d=0;for(let h=0;h<o;h++)d=(d<<4)+c[h];return d}getBullsEyeCorners(n){let r=n,s=n,o=n,l=n,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(r,c,1,-1),S=this.getFirstDifferent(s,c,1,1),b=this.getFirstDifferent(o,c,-1,1),D=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(D,A)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(A,S,b,D))break}r=A,s=S,o=b,l=D,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let d=new ce(r.getX()+.5,r.getY()-.5),h=new ce(s.getX()+.5,s.getY()+.5),p=new ce(o.getX()-.5,o.getY()+.5),y=new ce(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,h,p,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,r,s,o;try{let d=new cr(this.image).detect();n=d[0],r=d[1],s=d[2],o=d[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new Ht(h+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ht(h+7,p+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Ht(h-7,p+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Ht(h-7,p-7),!1,-1,-1).toResultPoint()}let l=be.round((n.getX()+o.getX()+r.getX()+s.getX())/4),c=be.round((n.getY()+o.getY()+r.getY()+s.getY())/4);try{let d=new cr(this.image,15,l,c).detect();n=d[0],r=d[1],s=d[2],o=d[3]}catch{n=this.getFirstDifferent(new Ht(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ht(l+7,c+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Ht(l-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Ht(l-7,c-7),!1,-1,-1).toResultPoint()}return l=be.round((n.getX()+o.getX()+r.getX()+s.getX())/4),c=be.round((n.getY()+o.getY()+r.getY()+s.getY())/4),new Ht(l,c)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,r,s,o,l){let c=Tr.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return c.sampleGrid(n,d,d,h,h,p,h,p,p,h,p,r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(n,r,s){let o=0,l=this.distanceResultPoint(n,r),c=l/s,d=n.getX(),h=n.getY(),p=c*(r.getX()-n.getX())/l,y=c*(r.getY()-n.getY())/l;for(let A=0;A<s;A++)this.image.get(be.round(d+A*p),be.round(h+A*y))&&(o|=1<<s-A-1);return o}isWhiteOrBlackRectangle(n,r,s,o){let l=3;n=new Ht(n.getX()-l,n.getY()+l),r=new Ht(r.getX()-l,r.getY()-l),s=new Ht(s.getX()+l,s.getY()-l),o=new Ht(o.getX()+l,o.getY()+l);let c=this.getColor(o,n);if(c===0)return!1;let d=this.getColor(n,r);return d!==c||(d=this.getColor(r,s),d!==c)?!1:(d=this.getColor(s,o),d===c)}getColor(n,r){let s=this.distancePoint(n,r),o=(r.getX()-n.getX())/s,l=(r.getY()-n.getY())/s,c=0,d=n.getX(),h=n.getY(),p=this.image.get(n.getX(),n.getY()),y=Math.ceil(s);for(let S=0;S<y;S++)d+=o,h+=l,this.image.get(be.round(d),be.round(h))!==p&&c++;let A=c/s;return A>.1&&A<.9?0:A<=.1===p?1:-1}getFirstDifferent(n,r,s,o){let l=n.getX()+s,c=n.getY()+o;for(;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=s,c+=o;for(l-=s,c-=o;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=s;for(l-=s;this.isValid(l,c)&&this.image.get(l,c)===r;)c+=o;return c-=o,new Ht(l,c)}expandSquare(n,r,s){let o=s/(2*r),l=n[0].getX()-n[2].getX(),c=n[0].getY()-n[2].getY(),d=(n[0].getX()+n[2].getX())/2,h=(n[0].getY()+n[2].getY())/2,p=new ce(d+o*l,h+o*c),y=new ce(d-o*l,h-o*c);l=n[1].getX()-n[3].getX(),c=n[1].getY()-n[3].getY(),d=(n[1].getX()+n[3].getX())/2,h=(n[1].getY()+n[3].getY())/2;let A=new ce(d+o*l,h+o*c),S=new ce(d-o*l,h-o*c);return[p,A,y,S]}isValid(n,r){return n>=0&&n<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(n){let r=be.round(n.getX()),s=be.round(n.getY());return this.isValid(r,s)}distancePoint(n,r){return be.distance(n.getX(),n.getY(),r.getX(),r.getY())}distanceResultPoint(n,r){return be.distance(n.getX(),n.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class jo{decode(n,r=null){let s=null,o=new z1(n.getBlackMatrix()),l=null,c=null;try{let y=o.detectMirror(!1);l=y.getPoints(),this.reportFoundResultPoints(r,l),c=new Ge().decode(y)}catch(y){s=y}if(c==null)try{let y=o.detectMirror(!0);l=y.getPoints(),this.reportFoundResultPoints(r,l),c=new Ge().decode(y)}catch(y){throw s??y}let d=new je(c.getText(),c.getRawBytes(),c.getNumBits(),l,ue.AZTEC,k.currentTimeMillis()),h=c.getByteSegments();h!=null&&d.putMetadata(St.BYTE_SEGMENTS,h);let p=c.getECLevel();return p!=null&&d.putMetadata(St.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(n,r){if(n!=null){let s=n.get(q.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach((o,l,c)=>{s.foundPossibleResultPoint(o)})}}reset(){}}class Dg extends vt{constructor(n=500){super(new jo,n)}}class ht{decode(n,r){try{return this.doDecode(n,r)}catch{if(r&&r.get(q.TRY_HARDER)===!0&&n.isRotateSupported()){const l=n.rotateCounterClockwise(),c=this.doDecode(l,r),d=c.getResultMetadata();let h=270;d!==null&&d.get(St.ORIENTATION)===!0&&(h=h+d.get(St.ORIENTATION)%360),c.putMetadata(St.ORIENTATION,h);const p=c.getResultPoints();if(p!==null){const y=l.getHeight();for(let A=0;A<p.length;A++)p[A]=new ce(y-p[A].getY()-1,p[A].getX())}return c}else throw new Y}}reset(){}doDecode(n,r){const s=n.getWidth(),o=n.getHeight();let l=new B(s);const c=r&&r.get(q.TRY_HARDER)===!0,d=Math.max(1,o>>(c?8:5));let h;c?h=o:h=15;const p=Math.trunc(o/2);for(let y=0;y<h;y++){const A=Math.trunc((y+1)/2),S=(y&1)===0,b=p+d*(S?A:-A);if(b<0||b>=o)break;try{l=n.getBlackRow(b,l)}catch{continue}for(let D=0;D<2;D++){if(D===1&&(l.reverse(),r&&r.get(q.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;r.forEach((P,G)=>L.set(G,P)),L.delete(q.NEED_RESULT_POINT_CALLBACK),r=L}try{const L=this.decodeRow(b,l,r);if(D===1){L.putMetadata(St.ORIENTATION,180);const P=L.getResultPoints();P!==null&&(P[0]=new ce(s-P[0].getX()-1,P[0].getY()),P[1]=new ce(s-P[1].getX()-1,P[1].getY()))}return L}catch{}}}throw new Y}static recordPattern(n,r,s){const o=s.length;for(let p=0;p<o;p++)s[p]=0;const l=n.getSize();if(r>=l)throw new Y;let c=!n.get(r),d=0,h=r;for(;h<l;){if(n.get(h)!==c)s[d]++;else{if(++d===o)break;s[d]=1,c=!c}h++}if(!(d===o||d===o-1&&h===l))throw new Y}static recordPatternInReverse(n,r,s){let o=s.length,l=n.get(r);for(;r>0&&o>=0;)n.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new Y;ht.recordPattern(n,r+1,s)}static patternMatchVariance(n,r,s){const o=n.length;let l=0,c=0;for(let p=0;p<o;p++)l+=n[p],c+=r[p];if(l<c)return Number.POSITIVE_INFINITY;const d=l/c;s*=d;let h=0;for(let p=0;p<o;p++){const y=n[p],A=r[p]*d,S=y>A?y-A:A-y;if(S>s)return Number.POSITIVE_INFINITY;h+=S}return h/l}}class ie extends ht{static findStartPattern(n){const r=n.getSize(),s=n.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),c=s,d=!1;const h=6;for(let p=s;p<r;p++)if(n.get(p)!==d)l[o]++;else{if(o===h-1){let y=ie.MAX_AVG_VARIANCE,A=-1;for(let S=ie.CODE_START_A;S<=ie.CODE_START_C;S++){const b=ht.patternMatchVariance(l,ie.CODE_PATTERNS[S],ie.MAX_INDIVIDUAL_VARIANCE);b<y&&(y=b,A=S)}if(A>=0&&n.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,A]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,d=!d}throw new Y}static decodeCode(n,r,s){ht.recordPattern(n,s,r);let o=ie.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<ie.CODE_PATTERNS.length;c++){const d=ie.CODE_PATTERNS[c],h=this.patternMatchVariance(r,d,ie.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=c)}if(l>=0)return l;throw new Y}decodeRow(n,r,s){const o=s&&s.get(q.ASSUME_GS1)===!0,l=ie.findStartPattern(r),c=l[2];let d=0;const h=new Uint8Array(20);h[d++]=c;let p;switch(c){case ie.CODE_START_A:p=ie.CODE_CODE_A;break;case ie.CODE_START_B:p=ie.CODE_CODE_B;break;case ie.CODE_START_C:p=ie.CODE_CODE_C;break;default:throw new z}let y=!1,A=!1,S="",b=l[0],D=l[1];const L=Int32Array.from([0,0,0,0,0,0]);let P=0,G=0,te=c,ne=0,$=!0,_e=!1,Ce=!1;for(;!y;){const Hi=A;switch(A=!1,P=G,G=ie.decodeCode(r,L,D),h[d++]=G,G!==ie.CODE_STOP&&($=!0),G!==ie.CODE_STOP&&(ne++,te+=ne*G),b=D,D+=L.reduce((lp,cp)=>lp+cp,0),G){case ie.CODE_START_A:case ie.CODE_START_B:case ie.CODE_START_C:throw new z}switch(p){case ie.CODE_CODE_A:if(G<64)Ce===_e?S+=String.fromCharCode(" ".charCodeAt(0)+G):S+=String.fromCharCode(" ".charCodeAt(0)+G+128),Ce=!1;else if(G<96)Ce===_e?S+=String.fromCharCode(G-64):S+=String.fromCharCode(G+64),Ce=!1;else switch(G!==ie.CODE_STOP&&($=!1),G){case ie.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+=String.fromCharCode(29));break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_A:!_e&&Ce?(_e=!0,Ce=!1):_e&&Ce?(_e=!1,Ce=!1):Ce=!0;break;case ie.CODE_SHIFT:A=!0,p=ie.CODE_CODE_B;break;case ie.CODE_CODE_B:p=ie.CODE_CODE_B;break;case ie.CODE_CODE_C:p=ie.CODE_CODE_C;break;case ie.CODE_STOP:y=!0;break}break;case ie.CODE_CODE_B:if(G<96)Ce===_e?S+=String.fromCharCode(" ".charCodeAt(0)+G):S+=String.fromCharCode(" ".charCodeAt(0)+G+128),Ce=!1;else switch(G!==ie.CODE_STOP&&($=!1),G){case ie.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+=String.fromCharCode(29));break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_B:!_e&&Ce?(_e=!0,Ce=!1):_e&&Ce?(_e=!1,Ce=!1):Ce=!0;break;case ie.CODE_SHIFT:A=!0,p=ie.CODE_CODE_A;break;case ie.CODE_CODE_A:p=ie.CODE_CODE_A;break;case ie.CODE_CODE_C:p=ie.CODE_CODE_C;break;case ie.CODE_STOP:y=!0;break}break;case ie.CODE_CODE_C:if(G<100)G<10&&(S+="0"),S+=G;else switch(G!==ie.CODE_STOP&&($=!1),G){case ie.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+=String.fromCharCode(29));break;case ie.CODE_CODE_A:p=ie.CODE_CODE_A;break;case ie.CODE_CODE_B:p=ie.CODE_CODE_B;break;case ie.CODE_STOP:y=!0;break}break}Hi&&(p=p===ie.CODE_CODE_A?ie.CODE_CODE_B:ie.CODE_CODE_A)}const nn=D-b;if(D=r.getNextUnset(D),!r.isRange(D,Math.min(r.getSize(),D+(D-b)/2),!1))throw new Y;if(te-=ne*P,te%103!==P)throw new R;const Pn=S.length;if(Pn===0)throw new Y;Pn>0&&$&&(p===ie.CODE_CODE_C?S=S.substring(0,Pn-2):S=S.substring(0,Pn-1));const rn=(l[1]+l[0])/2,He=b+nn/2,Dt=h.length,fn=new Uint8Array(Dt);for(let Hi=0;Hi<Dt;Hi++)fn[Hi]=h[Hi];const Wi=[new ce(rn,n),new ce(He,n)];return new je(S,fn,0,Wi,ue.CODE_128,new Date().getTime())}}ie.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ie.MAX_AVG_VARIANCE=.25,ie.MAX_INDIVIDUAL_VARIANCE=.7,ie.CODE_SHIFT=98,ie.CODE_CODE_C=99,ie.CODE_CODE_B=100,ie.CODE_CODE_A=101,ie.CODE_FNC_1=102,ie.CODE_FNC_2=97,ie.CODE_FNC_3=96,ie.CODE_FNC_4_A=101,ie.CODE_FNC_4_B=100,ie.CODE_START_A=103,ie.CODE_START_B=104,ie.CODE_START_C=105,ie.CODE_STOP=106;class mt extends ht{constructor(n=!1,r=!1){super(),this.usingCheckDigit=n,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,r,s){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=mt.findAsteriskPattern(r,o),c=r.getNextSet(l[1]),d=r.getSize(),h,p;do{mt.recordPattern(r,c,o);let L=mt.toNarrowWidePattern(o);if(L<0)throw new Y;h=mt.patternToChar(L),this.decodeRowResult+=h,p=c;for(let P of o)c+=P;c=r.getNextSet(c)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let L of o)y+=L;let A=c-p-y;if(c!==d&&A*2<y)throw new Y;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,P=0;for(let G=0;G<L;G++)P+=mt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(G));if(this.decodeRowResult.charAt(L)!==mt.ALPHABET_STRING.charAt(P%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new Y;let S;this.extendedMode?S=mt.decodeExtended(this.decodeRowResult):S=this.decodeRowResult;let b=(l[1]+l[0])/2,D=p+y/2;return new je(S,null,0,[new ce(b,n),new ce(D,n)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(n,r){let s=n.getSize(),o=n.getNextSet(0),l=0,c=o,d=!1,h=r.length;for(let p=o;p<s;p++)if(n.get(p)!==d)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===mt.ASTERISK_ENCODING&&n.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new Y}static toNarrowWidePattern(n){let r=n.length,s=0,o;do{let l=2147483647;for(let h of n)h<l&&h>s&&(l=h);s=l,o=0;let c=0,d=0;for(let h=0;h<r;h++){let p=n[h];p>s&&(d|=1<<r-1-h,o++,c+=p)}if(o===3){for(let h=0;h<r&&o>0;h++){let p=n[h];if(p>s&&(o--,p*2>=c))return-1}return d}}while(o>3);return-1}static patternToChar(n){for(let r=0;r<mt.CHARACTER_ENCODINGS.length;r++)if(mt.CHARACTER_ENCODINGS[r]===n)return mt.ALPHABET_STRING.charAt(r);if(n===mt.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(n){let r=n.length,s="";for(let o=0;o<r;o++){let l=n.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=n.charAt(o+1),d="\0";switch(l){case"+":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)+32);else throw new z;break;case"$":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)-64);else throw new z;break;case"%":if(c>="A"&&c<="E")d=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")d=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")d=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")d="\0";else if(c==="V")d="@";else if(c==="W")d="`";else if(c==="X"||c==="Y"||c==="Z")d="";else throw new z;break;case"/":if(c>="A"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")d=":";else throw new z;break}s+=d,o++}else s+=l}return s}}mt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",mt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],mt.ASTERISK_ENCODING=148;class ze extends ht{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,r,s){let o=this.decodeStart(r),l=this.decodeEnd(r),c=new ye;ze.decodeMiddle(r,o[1],l[0],c);let d=c.toString(),h=null;s!=null&&(h=s.get(q.ALLOWED_LENGTHS)),h==null&&(h=ze.DEFAULT_ALLOWED_LENGTHS);let p=d.length,y=!1,A=0;for(let D of h){if(p===D){y=!0;break}D>A&&(A=D)}if(!y&&p>A&&(y=!0),!y)throw new z;const S=[new ce(o[1],n),new ce(l[0],n)];return new je(d,null,0,S,ue.ITF,new Date().getTime())}static decodeMiddle(n,r,s,o){let l=new Int32Array(10),c=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),c.fill(0),d.fill(0);r<s;){ht.recordPattern(n,r,l);for(let p=0;p<5;p++){let y=2*p;c[p]=l[y],d[p]=l[y+1]}let h=ze.decodeDigit(c);o.append(h.toString()),h=this.decodeDigit(d),o.append(h.toString()),l.forEach(function(p){r+=p})}}decodeStart(n){let r=ze.skipWhiteSpace(n),s=ze.findGuardPattern(n,r,ze.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(n,s[0]),s}validateQuietZone(n,r){let s=this.narrowLineWidth*10;s=s<r?s:r;for(let o=r-1;s>0&&o>=0&&!n.get(o);o--)s--;if(s!==0)throw new Y}static skipWhiteSpace(n){const r=n.getSize(),s=n.getNextSet(0);if(s===r)throw new Y;return s}decodeEnd(n){n.reverse();try{let r=ze.skipWhiteSpace(n),s;try{s=ze.findGuardPattern(n,r,ze.END_PATTERN_REVERSED[0])}catch(l){l instanceof Y&&(s=ze.findGuardPattern(n,r,ze.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,s[0]);let o=s[0];return s[0]=n.getSize()-s[1],s[1]=n.getSize()-o,s}finally{n.reverse()}}static findGuardPattern(n,r,s){let o=s.length,l=new Int32Array(o),c=n.getSize(),d=!1,h=0,p=r;l.fill(0);for(let y=r;y<c;y++)if(n.get(y)!==d)l[h]++;else{if(h===o-1){if(ht.patternMatchVariance(l,s,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return[p,y];p+=l[0]+l[1],k.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new Y}static decodeDigit(n){let r=ze.MAX_AVG_VARIANCE,s=-1,o=ze.PATTERNS.length;for(let l=0;l<o;l++){let c=ze.PATTERNS[l],d=ht.patternMatchVariance(n,c,ze.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,s=l):d===r&&(s=-1)}if(s>=0)return s%10;throw new Y}}ze.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ze.MAX_AVG_VARIANCE=.38,ze.MAX_INDIVIDUAL_VARIANCE=.5,ze.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ze.START_PATTERN=Int32Array.from([1,1,1,1]),ze.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class it extends ht{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let r=!1,s,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),s=it.findGuardPattern(n,o,!1,this.START_END_PATTERN,l);let c=s[0];o=s[1];let d=c-(o-c);d>=0&&(r=n.isRange(d,c,!1))}return s}static checkChecksum(n){return it.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let s=parseInt(n.charAt(r-1),10);return it.getStandardUPCEANChecksum(n.substring(0,r-1))===s}static getStandardUPCEANChecksum(n){let r=n.length,s=0;for(let o=r-1;o>=0;o-=2){let l=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new z;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new z;s+=l}return(1e3-s)%10}static decodeEnd(n,r){return it.findGuardPattern(n,r,!1,it.START_END_PATTERN,new Int32Array(it.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,r,s,o){return this.findGuardPattern(n,r,s,o,new Int32Array(o.length))}static findGuardPattern(n,r,s,o,l){let c=n.getSize();r=s?n.getNextUnset(r):n.getNextSet(r);let d=0,h=r,p=o.length,y=s;for(let A=r;A<c;A++)if(n.get(A)!==y)l[d]++;else{if(d===p-1){if(ht.patternMatchVariance(l,o,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return Int32Array.from([h,A]);h+=l[0]+l[1];let S=l.slice(2,l.length-1);for(let b=0;b<d-1;b++)l[b]=S[b];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,y=!y}throw new Y}static decodeDigit(n,r,s,o){this.recordPattern(n,s,r);let l=this.MAX_AVG_VARIANCE,c=-1,d=o.length;for(let h=0;h<d;h++){let p=o[h],y=ht.patternMatchVariance(r,p,it.MAX_INDIVIDUAL_VARIANCE);y<l&&(l=y,c=h)}if(c>=0)return c;throw new Y}}it.MAX_AVG_VARIANCE=.48,it.MAX_INDIVIDUAL_VARIANCE=.7,it.START_END_PATTERN=Int32Array.from([1,1,1]),it.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),it.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),it.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class bs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),c=o.toString(),d=bs.parseExtensionString(c),h=[new ce((s[0]+s[1])/2,n),new ce(l,n)],p=new je(c,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),c=r[1],d=0;for(let p=0;p<5&&c<l;p++){let y=it.decodeDigit(n,o,c,it.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+y%10);for(let A of o)c+=A;y>=10&&(d|=1<<4-p),p!==4&&(c=n.getNextSet(c),c=n.getNextUnset(c))}if(s.length!==5)throw new Y;let h=this.determineCheckDigit(d);if(bs.extensionChecksum(s.toString())!==h)throw new Y;return c}static extensionChecksum(n){let r=n.length,s=0;for(let o=r-2;o>=0;o-=2)s+=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0);s*=3;for(let o=r-1;o>=0;o-=2)s+=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0);return s*=3,s%10}determineCheckDigit(n){for(let r=0;r<10;r++)if(n===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Y}static parseExtensionString(n){if(n.length!==5)return null;let r=bs.parseExtension5String(n);return r==null?null:new Map([[St.SUGGESTED_PRICE,r]])}static parseExtension5String(n){let r;switch(n.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let s=parseInt(n.substring(1)),o=(s/100).toString(),l=s%100,c=l<10?"0"+l:l.toString();return r+o+"."+c}}class Ll{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),c=o.toString(),d=Ll.parseExtensionString(c),h=[new ce((s[0]+s[1])/2,n),new ce(l,n)],p=new je(c,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),c=r[1],d=0;for(let h=0;h<2&&c<l;h++){let p=it.decodeDigit(n,o,c,it.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+p%10);for(let y of o)c+=y;p>=10&&(d|=1<<1-h),h!==1&&(c=n.getNextSet(c),c=n.getNextUnset(c))}if(s.length!==2)throw new Y;if(parseInt(s.toString())%4!==d)throw new Y;return c}static parseExtensionString(n){return n.length!==2?null:new Map([[St.ISSUE_NUMBER,parseInt(n)]])}}class W1{static decodeRow(n,r,s){let o=it.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new bs().decodeRow(n,r,o)}catch{return new Ll().decodeRow(n,r,o)}}}W1.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class De extends it{constructor(){super(),this.decodeRowStringBuffer="",De.L_AND_G_PATTERNS=De.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let r=De.L_PATTERNS[n-10],s=new Int32Array(r.length);for(let o=0;o<r.length;o++)s[o]=r[r.length-o-1];De.L_AND_G_PATTERNS[n]=s}}decodeRow(n,r,s){let o=De.findStartGuardPattern(r),l=s==null?null:s.get(q.NEED_RESULT_POINT_CALLBACK);if(l!=null){const $=new ce((o[0]+o[1])/2,n);l.foundPossibleResultPoint($)}let c=this.decodeMiddle(r,o,this.decodeRowStringBuffer),d=c.rowOffset,h=c.resultString;if(l!=null){const $=new ce(d,n);l.foundPossibleResultPoint($)}let p=this.decodeEnd(r,d);if(l!=null){const $=new ce((p[0]+p[1])/2,n);l.foundPossibleResultPoint($)}let y=p[1],A=y+(y-p[0]);if(A>=r.getSize()||!r.isRange(y,A,!1))throw new Y;let S=h.toString();if(S.length<8)throw new z;if(!De.checkChecksum(S))throw new R;let b=(o[1]+o[0])/2,D=(p[1]+p[0])/2,L=this.getBarcodeFormat(),P=[new ce(b,n),new ce(D,n)],G=new je(S,null,0,P,L,new Date().getTime()),te=0;try{let $=W1.decodeRow(n,r,p[1]);G.putMetadata(St.UPC_EAN_EXTENSION,$.getText()),G.putAllMetadata($.getResultMetadata()),G.addResultPoints($.getResultPoints()),te=$.getText().length}catch{}let ne=s==null?null:s.get(q.ALLOWED_EAN_EXTENSIONS);if(ne!=null){let $=!1;for(let _e in ne)if(te.toString()===_e){$=!0;break}if(!$)throw new Y}return G}decodeEnd(n,r){return De.findGuardPattern(n,r,!1,De.START_END_PATTERN,new Int32Array(De.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return De.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let s=parseInt(n.charAt(r-1),10);return De.getStandardUPCEANChecksum(n.substring(0,r-1))===s}static getStandardUPCEANChecksum(n){let r=n.length,s=0;for(let o=r-1;o>=0;o-=2){let l=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new z;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new z;s+=l}return(1e3-s)%10}}class li extends De{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),c=r[1],d=0;for(let p=0;p<6&&c<l;p++){let y=De.decodeDigit(n,o,c,De.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+y%10);for(let A of o)c+=A;y>=10&&(d|=1<<5-p)}s=li.determineFirstDigit(s,d),c=De.findGuardPattern(n,c,!0,De.MIDDLE_PATTERN,new Int32Array(De.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&c<l;p++){let y=De.decodeDigit(n,o,c,De.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+y);for(let A of o)c+=A}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(n,r){for(let s=0;s<10;s++)if(r===this.FIRST_DIGIT_ENCODINGS[s])return n=String.fromCharCode("0".charCodeAt(0)+s)+n,n;throw new Y}}li.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class H1 extends De{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,s){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),c=r[1];for(let h=0;h<4&&c<l;h++){let p=De.decodeDigit(n,o,c,De.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+p);for(let y of o)c+=y}c=De.findGuardPattern(n,c,!0,De.MIDDLE_PATTERN,new Int32Array(De.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&c<l;h++){let p=De.decodeDigit(n,o,c,De.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+p);for(let y of o)c+=y}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return ue.EAN_8}}class V1 extends De{constructor(){super(...arguments),this.ean13Reader=new li}getBarcodeFormat(){return ue.UPC_A}decode(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,r,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,s))}decodeMiddle(n,r,s){return this.ean13Reader.decodeMiddle(n,r,s)}maybeReturnResult(n){let r=n.getText();if(r.charAt(0)==="0"){let s=new je(r.substring(1),null,null,n.getResultPoints(),ue.UPC_A);return n.getResultMetadata()!=null&&s.putAllMetadata(n.getResultMetadata()),s}else throw new Y}reset(){this.ean13Reader.reset()}}class Bn extends De{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,r,s){const o=this.decodeMiddleCounters.map(p=>p);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=n.getSize();let c=r[1],d=0;for(let p=0;p<6&&c<l;p++){const y=Bn.decodeDigit(n,o,c,Bn.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+y%10);for(let A of o)c+=A;y>=10&&(d|=1<<5-p)}let h=Bn.determineNumSysAndCheckDigit(s,d);return{rowOffset:c,resultString:h}}decodeEnd(n,r){return Bn.findGuardPatternWithoutCounters(n,r,!0,Bn.MIDDLE_END_PATTERN)}checkChecksum(n){return De.checkChecksum(Bn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,r){for(let s=0;s<=1;s++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][o]){let l=String.fromCharCode("0".charCodeAt(0)+s),c=String.fromCharCode("0".charCodeAt(0)+o);return l+n+c}throw Y.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(n){const r=n.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new ye;s.append(n.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:s.appendChars(r,0,2),s.append(o),s.append("0000"),s.appendChars(r,2,3);break;case 3:s.appendChars(r,0,3),s.append("00000"),s.appendChars(r,3,2);break;case 4:s.appendChars(r,0,4),s.append("00000"),s.append(r[4]);break;default:s.appendChars(r,0,5),s.append("0000"),s.append(o);break}return n.length>=8&&s.append(n.charAt(7)),s.toString()}}Bn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class kl extends ht{constructor(n){super();let r=n==null?null:n.get(q.POSSIBLE_FORMATS),s=[];a(r)?(s.push(new li),s.push(new V1),s.push(new H1),s.push(new Bn)):(r.indexOf(ue.EAN_13)>-1&&s.push(new li),r.indexOf(ue.UPC_A)>-1&&s.push(new V1),r.indexOf(ue.EAN_8)>-1&&s.push(new H1),r.indexOf(ue.UPC_E)>-1&&s.push(new Bn)),this.readers=s}decodeRow(n,r,s){for(let o of this.readers)try{const l=o.decodeRow(n,r,s),c=l.getBarcodeFormat()===ue.EAN_13&&l.getText().charAt(0)==="0",d=s==null?null:s.get(q.POSSIBLE_FORMATS),h=d==null||d.includes(ue.UPC_A);if(c&&h){const p=l.getRawBytes(),y=new je(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),ue.UPC_A);return y.putAllMetadata(l.getResultMetadata()),y}return l}catch{}throw new Y}reset(){for(let n of this.readers)n.reset()}}class Pt extends ht{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,r){for(let s=0;s<r.length;s++)if(ht.patternMatchVariance(n,r[s],Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return s;throw new Y}static count(n){return be.sum(new Int32Array(n))}static increment(n,r){let s=0,o=r[0];for(let l=1;l<n.length;l++)r[l]>o&&(o=r[l],s=l);n[s]++}static decrement(n,r){let s=0,o=r[0];for(let l=1;l<n.length;l++)r[l]<o&&(o=r[l],s=l);n[s]--}static isFinderPattern(n){let r=n[0]+n[1],s=r+n[2]+n[3],o=r/s;if(o>=Pt.MIN_FINDER_PATTERN_RATIO&&o<=Pt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let d of n)d>c&&(c=d),d<l&&(l=d);return c<10*l}return!1}}Pt.MAX_AVG_VARIANCE=.2,Pt.MAX_INDIVIDUAL_VARIANCE=.45,Pt.MIN_FINDER_PATTERN_RATIO=9.5/12,Pt.MAX_FINDER_PATTERN_RATIO=12.5/14;class ki{constructor(n,r){this.value=n,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof ki))return!1;const r=n;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Uo{constructor(n,r,s,o,l){this.value=n,this.startEnd=r,this.value=n,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ce(s,l)),this.resultPoints.push(new ce(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Uo))return!1;const r=n;return this.value===r.value}hashCode(){return this.value}}class Zn{constructor(){}static getRSSvalue(n,r,s){let o=0;for(let h of n)o+=h;let l=0,c=0,d=n.length;for(let h=0;h<d-1;h++){let p;for(p=1,c|=1<<h;p<n[h];p++,c&=~(1<<h)){let y=Zn.combins(o-p-1,d-h-2);if(s&&c===0&&o-p-(d-h-1)>=d-h-1&&(y-=Zn.combins(o-p-(d-h),d-h-2)),d-h-1>1){let A=0;for(let S=o-p-(d-h-2);S>r;S--)A+=Zn.combins(o-p-S-1,d-h-3);y-=A*(d-1-h)}else o-p>r&&y--;l+=y}o-=p}return l}static combins(n,r){let s,o;n-r>r?(o=r,s=n-r):(o=n-r,s=r);let l=1,c=1;for(let d=n;d>s;d--)l*=d,c<=o&&(l/=c,c++);for(;c<=o;)l/=c,c++;return l}}class Lg{static buildBitArray(n){let r=n.length*2-1;n[n.length-1].getRightChar()==null&&(r-=1);let s=12*r,o=new B(s),l=0,d=n[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&o.set(l),l++;for(let h=1;h<n.length;++h){let p=n[h],y=p.getLeftChar().getValue();for(let A=11;A>=0;--A)y&1<<A&&o.set(l),l++;if(p.getRightChar()!=null){let A=p.getRightChar().getValue();for(let S=11;S>=0;--S)A&1<<S&&o.set(l),l++}}return o}}class ci{constructor(n,r){r?this.decodedInformation=null:(this.finished=n,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Bl{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Jt extends Bl{constructor(n,r){super(n),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Jt.FNC1}}Jt.FNC1="$";class ui extends Bl{constructor(n,r,s){super(n),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class An extends Bl{constructor(n,r,s){if(super(n),r<0||r>10||s<0||s>10)throw new z;this.firstDigit=r,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===An.FNC1}isSecondDigitFNC1(){return this.secondDigit===An.FNC1}isAnyFNC1(){return this.firstDigit===An.FNC1||this.secondDigit===An.FNC1}}An.FNC1=10;class ae{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new Y;let r=n.substring(0,2);for(let l of ae.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(2,l[2],n):ae.processFixedAI(2,l[1],n);if(n.length<3)throw new Y;let s=n.substring(0,3);for(let l of ae.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(3,l[2],n):ae.processFixedAI(3,l[1],n);for(let l of ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,l[2],n):ae.processFixedAI(4,l[1],n);if(n.length<4)throw new Y;let o=n.substring(0,4);for(let l of ae.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,l[2],n):ae.processFixedAI(4,l[1],n);throw new Y}static processFixedAI(n,r,s){if(s.length<n)throw new Y;let o=s.substring(0,n);if(s.length<n+r)throw new Y;let l=s.substring(n,n+r),c=s.substring(n+r),d="("+o+")"+l,h=ae.parseFieldsInGeneralPurpose(c);return h==null?d:d+h}static processVariableAI(n,r,s){let o=s.substring(0,n),l;s.length<n+r?l=s.length:l=n+r;let c=s.substring(n,l),d=s.substring(l),h="("+o+")"+c,p=ae.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}}ae.VARIABLE_LENGTH=[],ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ae.VARIABLE_LENGTH,20],["22",ae.VARIABLE_LENGTH,29],["30",ae.VARIABLE_LENGTH,8],["37",ae.VARIABLE_LENGTH,8],["90",ae.VARIABLE_LENGTH,30],["91",ae.VARIABLE_LENGTH,30],["92",ae.VARIABLE_LENGTH,30],["93",ae.VARIABLE_LENGTH,30],["94",ae.VARIABLE_LENGTH,30],["95",ae.VARIABLE_LENGTH,30],["96",ae.VARIABLE_LENGTH,30],["97",ae.VARIABLE_LENGTH,3],["98",ae.VARIABLE_LENGTH,30],["99",ae.VARIABLE_LENGTH,30]],ae.THREE_DIGIT_DATA_LENGTH=[["240",ae.VARIABLE_LENGTH,30],["241",ae.VARIABLE_LENGTH,30],["242",ae.VARIABLE_LENGTH,6],["250",ae.VARIABLE_LENGTH,30],["251",ae.VARIABLE_LENGTH,30],["253",ae.VARIABLE_LENGTH,17],["254",ae.VARIABLE_LENGTH,20],["400",ae.VARIABLE_LENGTH,30],["401",ae.VARIABLE_LENGTH,30],["402",17],["403",ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ae.VARIABLE_LENGTH,20],["421",ae.VARIABLE_LENGTH,15],["422",3],["423",ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ae.VARIABLE_LENGTH,15],["391",ae.VARIABLE_LENGTH,18],["392",ae.VARIABLE_LENGTH,15],["393",ae.VARIABLE_LENGTH,18],["703",ae.VARIABLE_LENGTH,30]],ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ae.VARIABLE_LENGTH,20],["8003",ae.VARIABLE_LENGTH,30],["8004",ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ae.VARIABLE_LENGTH,30],["8008",ae.VARIABLE_LENGTH,12],["8018",18],["8020",ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ae.VARIABLE_LENGTH,70],["8200",ae.VARIABLE_LENGTH,70]];class Bi{constructor(n){this.buffer=new ye,this.information=n}decodeAllCodes(n,r){let s=r,o=null;do{let l=this.decodeGeneralPurposeField(s,o),c=ae.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&n.append(c),l.isRemaining()?o=""+l.getRemainingValue():o=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let r=n;r<n+3;++r)if(this.information.get(r))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(n,4);return l===0?new An(this.information.getSize(),An.FNC1,An.FNC1):new An(this.information.getSize(),l-1,An.FNC1)}let r=this.extractNumericValueFromBitArray(n,7),s=(r-8)/11,o=(r-8)%11;return new An(n+7,s,o)}extractNumericValueFromBitArray(n,r){return Bi.extractNumericValueFromBitArray(this.information,n,r)}static extractNumericValueFromBitArray(n,r,s){let o=0;for(let l=0;l<s;++l)n.get(r+l)&&(o|=1<<s-l-1);return o}decodeGeneralPurposeField(n,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(n);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new ui(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new ui(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,r;do{let s=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),n=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),n=r.isFinished()):(r=this.parseNumericBlock(),n=r.isFinished()),!(s!==this.current.getPosition())&&!n)break}while(!n);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let r;return n.isSecondDigitFNC1()?r=new ui(this.current.getPosition(),this.buffer.toString()):r=new ui(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new ci(!0,r)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let r=new ui(this.current.getPosition(),this.buffer.toString());return new ci(!0,r)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ci(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new ui(this.current.getPosition(),this.buffer.toString());return new ci(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ci(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new ui(this.current.getPosition(),this.buffer.toString());return new ci(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ci(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<116)return!0;if(n+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,8);return o>=232&&o<253}decodeIsoIec646(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Jt(n+5,Jt.FNC1);if(r>=5&&r<15)return new Jt(n+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<90)return new Jt(n+7,""+(s+1));if(s>=90&&s<116)return new Jt(n+7,""+(s+7));let o=this.extractNumericValueFromBitArray(n,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new z}return new Jt(n+8,l)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,6);return s>=16&&s<63}decodeAlphanumeric(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Jt(n+5,Jt.FNC1);if(r>=5&&r<15)return new Jt(n+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(n,6);if(s>=32&&s<58)return new Jt(n+6,""+(s+33));let o;switch(s){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new Qn("Decoding invalid alphanumeric value: "+s)}return new Jt(n+6,o)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<5&&r+n<this.information.getSize();++r)if(r===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+r))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let r=n;r<n+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<4&&r+n<this.information.getSize();++r)if(this.information.get(n+r))return!1;return!0}}class Pl{constructor(n){this.information=n,this.generalDecoder=new Bi(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class en extends Pl{constructor(n){super(n)}encodeCompressedGtin(n,r){n.append("(01)");let s=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,s)}encodeCompressedGtinWithoutAI(n,r,s){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&n.append("0"),l/10===0&&n.append("0"),n.append(l)}en.appendCheckDigit(n,s)}static appendCheckDigit(n,r){let s=0;for(let o=0;o<13;o++){let l=n.charAt(o+r).charCodeAt(0)-"0".charCodeAt(0);s+=o&1?l:3*l}s=10-s%10,s===10&&(s=0),n.append(s)}}en.GTIN_SIZE=40;class Pi extends en{constructor(n){super(n)}parseInformation(){let n=new ye;n.append("(01)");let r=n.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(Pi.HEADER_SIZE,4);return n.append(s),this.encodeCompressedGtinWithoutAI(n,Pi.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,Pi.HEADER_SIZE+44)}}Pi.HEADER_SIZE=1+1+2;class zo extends Pl{constructor(n){super(n)}parseInformation(){let n=new ye;return this.getGeneralDecoder().decodeAllCodes(n,zo.HEADER_SIZE)}}zo.HEADER_SIZE=2+1+2;class Wo extends en{constructor(n){super(n)}encodeCompressedWeight(n,r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,s);this.addWeightCode(n,o);let l=this.checkWeight(o),c=1e5;for(let d=0;d<5;++d)l/c===0&&n.append("0"),c/=10;n.append(l)}}class Kn extends Wo{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Kn.HEADER_SIZE+Wo.GTIN_SIZE+Kn.WEIGHT_SIZE)throw new Y;let n=new ye;return this.encodeCompressedGtin(n,Kn.HEADER_SIZE),this.encodeCompressedWeight(n,Kn.HEADER_SIZE+Wo.GTIN_SIZE,Kn.WEIGHT_SIZE),n.toString()}}Kn.HEADER_SIZE=4+1,Kn.WEIGHT_SIZE=15;class kg extends Kn{constructor(n){super(n)}addWeightCode(n,r){n.append("(3103)")}checkWeight(n){return n}}class Bg extends Kn{constructor(n){super(n)}addWeightCode(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class qn extends en{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<qn.HEADER_SIZE+en.GTIN_SIZE)throw new Y;let n=new ye;this.encodeCompressedGtin(n,qn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(qn.HEADER_SIZE+en.GTIN_SIZE,qn.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(qn.HEADER_SIZE+en.GTIN_SIZE+qn.LAST_DIGIT_SIZE,null);return n.append(s.getNewString()),n.toString()}}qn.HEADER_SIZE=5+1+2,qn.LAST_DIGIT_SIZE=2;class Vt extends en{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Vt.HEADER_SIZE+en.GTIN_SIZE)throw new Y;let n=new ye;this.encodeCompressedGtin(n,Vt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+en.GTIN_SIZE,Vt.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+en.GTIN_SIZE+Vt.LAST_DIGIT_SIZE,Vt.FIRST_THREE_DIGITS_SIZE);s/100==0&&n.append("0"),s/10==0&&n.append("0"),n.append(s);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Vt.HEADER_SIZE+en.GTIN_SIZE+Vt.LAST_DIGIT_SIZE+Vt.FIRST_THREE_DIGITS_SIZE,null);return n.append(o.getNewString()),n.toString()}}Vt.HEADER_SIZE=5+1+2,Vt.LAST_DIGIT_SIZE=2,Vt.FIRST_THREE_DIGITS_SIZE=10;class $e extends Wo{constructor(n,r,s){super(n),this.dateCode=s,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=$e.HEADER_SIZE+$e.GTIN_SIZE+$e.WEIGHT_SIZE+$e.DATE_SIZE)throw new Y;let n=new ye;return this.encodeCompressedGtin(n,$e.HEADER_SIZE),this.encodeCompressedWeight(n,$e.HEADER_SIZE+$e.GTIN_SIZE,$e.WEIGHT_SIZE),this.encodeCompressedDate(n,$e.HEADER_SIZE+$e.GTIN_SIZE+$e.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,$e.DATE_SIZE);if(s==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let o=s%32;s/=32;let l=s%12+1;s/=12;let c=s;c/10==0&&n.append("0"),n.append(c),l/10==0&&n.append("0"),n.append(l),o/10==0&&n.append("0"),n.append(o)}addWeightCode(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")}checkWeight(n){return n%1e5}}$e.HEADER_SIZE=7+1,$e.WEIGHT_SIZE=20,$e.DATE_SIZE=16;function G1(E){try{if(E.get(1))return new Pi(E);if(!E.get(2))return new zo(E);switch(Bi.extractNumericValueFromBitArray(E,1,4)){case 4:return new kg(E);case 5:return new Bg(E)}switch(Bi.extractNumericValueFromBitArray(E,1,5)){case 12:return new qn(E);case 13:return new Vt(E)}switch(Bi.extractNumericValueFromBitArray(E,1,7)){case 56:return new $e(E,"310","11");case 57:return new $e(E,"320","11");case 58:return new $e(E,"310","13");case 59:return new $e(E,"320","13");case 60:return new $e(E,"310","15");case 61:return new $e(E,"320","15");case 62:return new $e(E,"310","17");case 63:return new $e(E,"320","17")}}catch(n){throw console.log(n),new Qn("unknown decoder: "+E)}}class Nr{constructor(n,r,s,o){this.leftchar=n,this.rightchar=r,this.finderpattern=s,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,r){return n instanceof Nr?Nr.equalsOrNull(n.leftchar,r.leftchar)&&Nr.equalsOrNull(n.rightchar,r.rightchar)&&Nr.equalsOrNull(n.finderpattern,r.finderpattern):!1}static equalsOrNull(n,r){return n===null?r===null:Nr.equals(n,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Fl{constructor(n,r,s){this.pairs=n,this.rowNumber=r,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,r){return n instanceof Fl?this.checkEqualitity(n,r)&&n.wasReversed===r.wasReversed:!1}checkEqualitity(n,r){if(!n||!r)return;let s;return n.forEach((o,l)=>{r.forEach(c=>{o.getLeftChar().getValue()===c.getLeftChar().getValue()&&o.getRightChar().getValue()===c.getRightChar().getValue()&&o.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(s=!0)})}),s}}class Z extends Pt{constructor(n){super(...arguments),this.pairs=new Array(Z.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,r,s){this.pairs.length=0,this.startFromEven=!1;try{return Z.constructResult(this.decodeRow2pairs(n,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,Z.constructResult(this.decodeRow2pairs(n,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,r){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(l){if(l instanceof Y){if(!this.pairs.length)throw new Y;s=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(n,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new Y}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return n&&(this.rows=this.rows.reverse()),r}checkRows(n,r){for(let s=r;s<this.rows.length;s++){let o=this.rows[s];this.pairs.length=0;for(let c of n)this.pairs.push(c.getPairs());if(this.pairs.push(o.getPairs()),!Z.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(n);l.push(o);try{return this.checkRows(l,s+1)}catch(c){this.verbose&&console.log(c)}}throw new Y}static isValidSequence(n){for(let r of Z.FINDER_PATTERN_SEQUENCES){if(n.length>r.length)continue;let s=!0;for(let o=0;o<n.length;o++)if(n[o].getFinderPattern().getValue()!=r[o]){s=!1;break}if(s)return!0}return!1}storeRow(n,r){let s=0,o=!1,l=!1;for(;s<this.rows.length;){let c=this.rows[s];if(c.getRowNumber()>n){l=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),s++}l||o||Z.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Fl(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,r){for(let s of r)if(s.getPairs().length!==n.length){for(let o of s.getPairs())for(let l of n)if(Nr.equals(o,l))break}}static isPartialRow(n,r){for(let s of r){let o=!0;for(let l of n){let c=!1;for(let d of s.getPairs())if(l.equals(d)){c=!0;break}if(!c){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(n){let r=Lg.buildBitArray(n),o=G1(r).parseInformation(),l=n[0].getFinderPattern().getResultPoints(),c=n[n.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],c[0],c[1]];return new je(o,null,null,d,ue.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),r=n.getLeftChar(),s=n.getRightChar();if(s==null)return!1;let o=s.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);o+=h.getLeftChar().getChecksumPortion(),l++;let p=h.getRightChar();p!=null&&(o+=p.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(n,r){let s;return n.get(r)?(s=n.getNextUnset(r),s=n.getNextSet(s)):(s=n.getNextSet(r),s=n.getNextUnset(s)),s}retrieveNextPair(n,r,s){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,c=!0,d=-1;do this.findNextPair(n,r,d),l=this.parseFoundFinderPattern(n,s,o),l==null?d=Z.getNextSecondBar(n,this.startEnd[0]):c=!1;while(c);let h=this.decodeDataCharacter(n,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Y;let p;try{p=this.decodeDataCharacter(n,l,o,!1)}catch(y){p=null,this.verbose&&console.log(y)}return new Nr(h,p,l,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),c;s>=0?c=s:this.isEmptyPair(r)?c=0:c=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;c<l&&(h=!n.get(c),!!h);)c++;let p=0,y=c;for(let A=c;A<l;A++)if(n.get(A)!=h)o[p]++;else{if(p==3){if(d&&Z.reverseCounters(o),Z.isFinderPattern(o)){this.startEnd[0]=y,this.startEnd[1]=A;return}d&&Z.reverseCounters(o),y+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,h=!h}throw new Y}static reverseCounters(n){let r=n.length;for(let s=0;s<r/2;++s){let o=n[s];n[s]=n[r-s-1],n[r-s-1]=o}}parseFoundFinderPattern(n,r,s){let o,l,c;if(s){let p=this.startEnd[0]-1;for(;p>=0&&!n.get(p);)p--;p++,o=this.startEnd[0]-p,l=p,c=this.startEnd[1]}else l=this.startEnd[0],c=n.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];let d=this.getDecodeFinderCounters();k.arraycopy(d,0,d,1,d.length-1),d[0]=o;let h;try{h=this.parseFinderValue(d,Z.FINDER_PATTERNS)}catch{return null}return new Uo(h,[l,c],l,c,r)}decodeDataCharacter(n,r,s,o){let l=this.getDataCharacterCounters();for(let He=0;He<l.length;He++)l[He]=0;if(o)Z.recordPatternInReverse(n,r.getStartEnd()[0],l);else{Z.recordPattern(n,r.getStartEnd()[1],l);for(let He=0,Dt=l.length-1;He<Dt;He++,Dt--){let fn=l[He];l[He]=l[Dt],l[Dt]=fn}}let c=17,d=be.sum(new Int32Array(l))/c,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new Y;let p=this.getOddCounts(),y=this.getEvenCounts(),A=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let He=0;He<l.length;He++){let Dt=1*l[He]/d,fn=Dt+.5;if(fn<1){if(Dt<.3)throw new Y;fn=1}else if(fn>8){if(Dt>8.7)throw new Y;fn=8}let Wi=He/2;He&1?(y[Wi]=fn,S[Wi]=Dt-fn):(p[Wi]=fn,A[Wi]=Dt-fn)}this.adjustOddEvenCounts(c);let b=4*r.getValue()+(s?0:2)+(o?0:1)-1,D=0,L=0;for(let He=p.length-1;He>=0;He--){if(Z.isNotA1left(r,s,o)){let Dt=Z.WEIGHTS[b][2*He];L+=p[He]*Dt}D+=p[He]}let P=0;for(let He=y.length-1;He>=0;He--)if(Z.isNotA1left(r,s,o)){let Dt=Z.WEIGHTS[b][2*He+1];P+=y[He]*Dt}let G=L+P;if(D&1||D>13||D<4)throw new Y;let te=(13-D)/2,ne=Z.SYMBOL_WIDEST[te],$=9-ne,_e=Zn.getRSSvalue(p,ne,!0),Ce=Zn.getRSSvalue(y,$,!1),nn=Z.EVEN_TOTAL_SUBSET[te],Pn=Z.GSUM[te],rn=_e*nn+Ce+Pn;return new ki(rn,G)}static isNotA1left(n,r,s){return!(n.getValue()==0&&r&&s)}adjustOddEvenCounts(n){let r=be.sum(new Int32Array(this.getOddCounts())),s=be.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let c=!1,d=!1;s>13?d=!0:s<4&&(c=!0);let h=r+s-n,p=(r&1)==1,y=(s&1)==0;if(h==1)if(p){if(y)throw new Y;l=!0}else{if(!y)throw new Y;d=!0}else if(h==-1)if(p){if(y)throw new Y;o=!0}else{if(!y)throw new Y;c=!0}else if(h==0){if(p){if(!y)throw new Y;r<s?(o=!0,d=!0):(l=!0,c=!0)}else if(y)throw new Y}else throw new Y;if(o){if(l)throw new Y;Z.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Z.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new Y;Z.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Z.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Z.SYMBOL_WIDEST=[7,5,4,3,1],Z.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Z.GSUM=[0,348,1388,2948,3988],Z.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Z.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Z.FINDER_PAT_A=0,Z.FINDER_PAT_B=1,Z.FINDER_PAT_C=2,Z.FINDER_PAT_D=3,Z.FINDER_PAT_E=4,Z.FINDER_PAT_F=5,Z.FINDER_PATTERN_SEQUENCES=[[Z.FINDER_PAT_A,Z.FINDER_PAT_A],[Z.FINDER_PAT_A,Z.FINDER_PAT_B,Z.FINDER_PAT_B],[Z.FINDER_PAT_A,Z.FINDER_PAT_C,Z.FINDER_PAT_B,Z.FINDER_PAT_D],[Z.FINDER_PAT_A,Z.FINDER_PAT_E,Z.FINDER_PAT_B,Z.FINDER_PAT_D,Z.FINDER_PAT_C],[Z.FINDER_PAT_A,Z.FINDER_PAT_E,Z.FINDER_PAT_B,Z.FINDER_PAT_D,Z.FINDER_PAT_D,Z.FINDER_PAT_F],[Z.FINDER_PAT_A,Z.FINDER_PAT_E,Z.FINDER_PAT_B,Z.FINDER_PAT_D,Z.FINDER_PAT_E,Z.FINDER_PAT_F,Z.FINDER_PAT_F],[Z.FINDER_PAT_A,Z.FINDER_PAT_A,Z.FINDER_PAT_B,Z.FINDER_PAT_B,Z.FINDER_PAT_C,Z.FINDER_PAT_C,Z.FINDER_PAT_D,Z.FINDER_PAT_D],[Z.FINDER_PAT_A,Z.FINDER_PAT_A,Z.FINDER_PAT_B,Z.FINDER_PAT_B,Z.FINDER_PAT_C,Z.FINDER_PAT_C,Z.FINDER_PAT_D,Z.FINDER_PAT_E,Z.FINDER_PAT_E],[Z.FINDER_PAT_A,Z.FINDER_PAT_A,Z.FINDER_PAT_B,Z.FINDER_PAT_B,Z.FINDER_PAT_C,Z.FINDER_PAT_C,Z.FINDER_PAT_D,Z.FINDER_PAT_E,Z.FINDER_PAT_F,Z.FINDER_PAT_F],[Z.FINDER_PAT_A,Z.FINDER_PAT_A,Z.FINDER_PAT_B,Z.FINDER_PAT_B,Z.FINDER_PAT_C,Z.FINDER_PAT_D,Z.FINDER_PAT_D,Z.FINDER_PAT_E,Z.FINDER_PAT_E,Z.FINDER_PAT_F,Z.FINDER_PAT_F]],Z.MAX_PAIRS=11;class Pg extends ki{constructor(n,r,s){super(n,r),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class st extends Pt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,r,s){const o=this.decodePair(r,!1,n,s);st.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,n,s);st.addOrTally(this.possibleRightPairs,l),r.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&st.checkChecksum(c,d))return st.constructResult(c,d)}throw new Y}static addOrTally(n,r){if(r==null)return;let s=!1;for(let o of n)if(o.getValue()===r.getValue()){o.incrementCount(),s=!0;break}s||n.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,r){let s=4537077*n.getValue()+r.getValue(),o=new String(s).toString(),l=new ye;for(let p=13-o.length;p>0;p--)l.append("0");l.append(o);let c=0;for(let p=0;p<13;p++){let y=l.charAt(p).charCodeAt(0)-"0".charCodeAt(0);c+=p&1?y:3*y}c=10-c%10,c===10&&(c=0),l.append(c.toString());let d=n.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new je(l.toString(),null,0,[d[0],d[1],h[0],h[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(n,r){let s=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,s===o}decodePair(n,r,s,o){try{let l=this.findFinderPattern(n,r),c=this.parseFoundFinderPattern(n,s,r,l),d=o==null?null:o.get(q.NEED_RESULT_POINT_CALLBACK);if(d!=null){let y=(l[0]+l[1])/2;r&&(y=n.getSize()-1-y),d.foundPossibleResultPoint(new ce(y,s))}let h=this.decodeDataCharacter(n,c,!0),p=this.decodeDataCharacter(n,c,!1);return new Pg(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(n,r,s){let o=this.getDataCharacterCounters();for(let P=0;P<o.length;P++)o[P]=0;if(s)ht.recordPatternInReverse(n,r.getStartEnd()[0],o);else{ht.recordPattern(n,r.getStartEnd()[1]+1,o);for(let P=0,G=o.length-1;P<G;P++,G--){let te=o[P];o[P]=o[G],o[G]=te}}let l=s?16:15,c=be.sum(new Int32Array(o))/l,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let P=0;P<o.length;P++){let G=o[P]/c,te=Math.floor(G+.5);te<1?te=1:te>8&&(te=8);let ne=Math.floor(P/2);P&1?(h[ne]=te,y[ne]=G-te):(d[ne]=te,p[ne]=G-te)}this.adjustOddEvenCounts(s,l);let A=0,S=0;for(let P=d.length-1;P>=0;P--)S*=9,S+=d[P],A+=d[P];let b=0,D=0;for(let P=h.length-1;P>=0;P--)b*=9,b+=h[P],D+=h[P];let L=S+3*b;if(s){if(A&1||A>12||A<4)throw new Y;let P=(12-A)/2,G=st.OUTSIDE_ODD_WIDEST[P],te=9-G,ne=Zn.getRSSvalue(d,G,!1),$=Zn.getRSSvalue(h,te,!0),_e=st.OUTSIDE_EVEN_TOTAL_SUBSET[P],Ce=st.OUTSIDE_GSUM[P];return new ki(ne*_e+$+Ce,L)}else{if(D&1||D>10||D<4)throw new Y;let P=(10-D)/2,G=st.INSIDE_ODD_WIDEST[P],te=9-G,ne=Zn.getRSSvalue(d,G,!0),$=Zn.getRSSvalue(h,te,!1),_e=st.INSIDE_ODD_TOTAL_SUBSET[P],Ce=st.INSIDE_GSUM[P];return new ki($*_e+ne+Ce,L)}}findFinderPattern(n,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=n.getSize(),l=!1,c=0;for(;c<o&&(l=!n.get(c),r!==l);)c++;let d=0,h=c;for(let p=c;p<o;p++)if(n.get(p)!==l)s[d]++;else{if(d===3){if(Pt.isFinderPattern(s))return[h,p];h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,l=!l}throw new Y}parseFoundFinderPattern(n,r,s,o){let l=n.get(o[0]),c=o[0]-1;for(;c>=0&&l!==n.get(c);)c--;c++;const d=o[0]-c,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);k.arraycopy(h,0,p,1,h.length-1),p[0]=d;const y=this.parseFinderValue(p,st.FINDER_PATTERNS);let A=c,S=o[1];return s&&(A=n.getSize()-1-A,S=n.getSize()-1-S),new Uo(y,[c,o[1]],A,S,r)}adjustOddEvenCounts(n,r){let s=be.sum(new Int32Array(this.getOddCounts())),o=be.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,d=!1,h=!1;n?(s>12?c=!0:s<4&&(l=!0),o>12?h=!0:o<4&&(d=!0)):(s>11?c=!0:s<5&&(l=!0),o>10?h=!0:o<4&&(d=!0));let p=s+o-r,y=(s&1)===(n?1:0),A=(o&1)===1;if(p===1)if(y){if(A)throw new Y;c=!0}else{if(!A)throw new Y;h=!0}else if(p===-1)if(y){if(A)throw new Y;l=!0}else{if(!A)throw new Y;d=!0}else if(p===0){if(y){if(!A)throw new Y;s<o?(l=!0,h=!0):(c=!0,d=!0)}else if(A)throw new Y}else throw new Y;if(l){if(c)throw new Y;Pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new Y;Pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],st.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],st.OUTSIDE_GSUM=[0,161,961,2015,2715],st.INSIDE_GSUM=[0,336,1036,1516],st.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],st.INSIDE_ODD_WIDEST=[2,4,6,8],st.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Fi extends ht{constructor(n,r){super(),this.readers=[],this.verbose=r===!0;const s=n?n.get(q.POSSIBLE_FORMATS):null,o=n&&n.get(q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ue.EAN_13)||s.includes(ue.UPC_A)||s.includes(ue.EAN_8)||s.includes(ue.UPC_E))&&this.readers.push(new kl(n)),s.includes(ue.CODE_39)&&this.readers.push(new mt(o)),s.includes(ue.CODE_128)&&this.readers.push(new ie),s.includes(ue.ITF)&&this.readers.push(new ze),s.includes(ue.RSS_14)&&this.readers.push(new st),s.includes(ue.RSS_EXPANDED)&&this.readers.push(new Z(this.verbose))):(this.readers.push(new kl(n)),this.readers.push(new mt),this.readers.push(new kl(n)),this.readers.push(new ie),this.readers.push(new ze),this.readers.push(new st),this.readers.push(new Z(this.verbose)))}decodeRow(n,r,s){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(n,r,s)}catch{}throw new Y}reset(){this.readers.forEach(n=>n.reset())}}class Fg extends vt{constructor(n=500,r){super(new Fi(r),n,r)}}class ke{constructor(n,r,s){this.ecCodewords=n,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Le{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ne{constructor(n,r,s,o,l,c){this.versionNumber=n,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=c;let d=0;const h=c.getECCodewords(),p=c.getECBlocks();for(let y of p)d+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,r){if(n&1||r&1)throw new z;for(let s of Ne.VERSIONS)if(s.symbolSizeRows===n&&s.symbolSizeColumns===r)return s;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new Ne(1,10,10,8,8,new ke(5,new Le(1,3))),new Ne(2,12,12,10,10,new ke(7,new Le(1,5))),new Ne(3,14,14,12,12,new ke(10,new Le(1,8))),new Ne(4,16,16,14,14,new ke(12,new Le(1,12))),new Ne(5,18,18,16,16,new ke(14,new Le(1,18))),new Ne(6,20,20,18,18,new ke(18,new Le(1,22))),new Ne(7,22,22,20,20,new ke(20,new Le(1,30))),new Ne(8,24,24,22,22,new ke(24,new Le(1,36))),new Ne(9,26,26,24,24,new ke(28,new Le(1,44))),new Ne(10,32,32,14,14,new ke(36,new Le(1,62))),new Ne(11,36,36,16,16,new ke(42,new Le(1,86))),new Ne(12,40,40,18,18,new ke(48,new Le(1,114))),new Ne(13,44,44,20,20,new ke(56,new Le(1,144))),new Ne(14,48,48,22,22,new ke(68,new Le(1,174))),new Ne(15,52,52,24,24,new ke(42,new Le(2,102))),new Ne(16,64,64,14,14,new ke(56,new Le(2,140))),new Ne(17,72,72,16,16,new ke(36,new Le(4,92))),new Ne(18,80,80,18,18,new ke(48,new Le(4,114))),new Ne(19,88,88,20,20,new ke(56,new Le(4,144))),new Ne(20,96,96,22,22,new ke(68,new Le(4,174))),new Ne(21,104,104,24,24,new ke(56,new Le(6,136))),new Ne(22,120,120,18,18,new ke(68,new Le(6,175))),new Ne(23,132,132,20,20,new ke(62,new Le(8,163))),new Ne(24,144,144,22,22,new ke(62,new Le(8,156),new Le(2,155))),new Ne(25,8,18,6,16,new ke(7,new Le(1,5))),new Ne(26,8,32,6,14,new ke(11,new Le(1,10))),new Ne(27,12,26,10,24,new ke(14,new Le(1,16))),new Ne(28,12,36,10,16,new ke(18,new Le(1,22))),new Ne(29,16,36,14,16,new ke(24,new Le(1,32))),new Ne(30,16,48,14,22,new ke(28,new Le(1,49)))]}}Ne.VERSIONS=Ne.buildVersions();class jl{constructor(n){const r=n.getHeight();if(r<8||r>144||r&1)throw new z;this.version=jl.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new Se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const r=n.getHeight(),s=n.getWidth();return Ne.getVersionForDimensions(r,s)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let r=0,s=4,o=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let d=!1,h=!1,p=!1,y=!1;do if(s===l&&o===0&&!d)n[r++]=this.readCorner1(l,c)&255,s-=2,o+=2,d=!0;else if(s===l-2&&o===0&&c&3&&!h)n[r++]=this.readCorner2(l,c)&255,s-=2,o+=2,h=!0;else if(s===l+4&&o===2&&!(c&7)&&!p)n[r++]=this.readCorner3(l,c)&255,s-=2,o+=2,p=!0;else if(s===l-2&&o===0&&(c&7)===4&&!y)n[r++]=this.readCorner4(l,c)&255,s-=2,o+=2,y=!0;else{do s<l&&o>=0&&!this.readMappingMatrix.get(o,s)&&(n[r++]=this.readUtah(s,o,l,c)&255),s-=2,o+=2;while(s>=0&&o<c);s+=1,o+=3;do s>=0&&o<c&&!this.readMappingMatrix.get(o,s)&&(n[r++]=this.readUtah(s,o,l,c)&255),s+=2,o-=2;while(s<l&&o>=0);s+=3,o+=1}while(s<l||o<c);if(r!==this.version.getTotalCodewords())throw new z;return n}readModule(n,r,s,o){return n<0&&(n+=s,r+=4-(s+4&7)),r<0&&(r+=o,n+=4-(o+4&7)),this.readMappingMatrix.set(r,n),this.mappingBitMatrix.get(r,n)}readUtah(n,r,s,o){let l=0;return this.readModule(n-2,r-2,s,o)&&(l|=1),l<<=1,this.readModule(n-2,r-1,s,o)&&(l|=1),l<<=1,this.readModule(n-1,r-2,s,o)&&(l|=1),l<<=1,this.readModule(n-1,r-1,s,o)&&(l|=1),l<<=1,this.readModule(n-1,r,s,o)&&(l|=1),l<<=1,this.readModule(n,r-2,s,o)&&(l|=1),l<<=1,this.readModule(n,r-1,s,o)&&(l|=1),l<<=1,this.readModule(n,r,s,o)&&(l|=1),l}readCorner1(n,r){let s=0;return this.readModule(n-1,0,n,r)&&(s|=1),s<<=1,this.readModule(n-1,1,n,r)&&(s|=1),s<<=1,this.readModule(n-1,2,n,r)&&(s|=1),s<<=1,this.readModule(0,r-2,n,r)&&(s|=1),s<<=1,this.readModule(0,r-1,n,r)&&(s|=1),s<<=1,this.readModule(1,r-1,n,r)&&(s|=1),s<<=1,this.readModule(2,r-1,n,r)&&(s|=1),s<<=1,this.readModule(3,r-1,n,r)&&(s|=1),s}readCorner2(n,r){let s=0;return this.readModule(n-3,0,n,r)&&(s|=1),s<<=1,this.readModule(n-2,0,n,r)&&(s|=1),s<<=1,this.readModule(n-1,0,n,r)&&(s|=1),s<<=1,this.readModule(0,r-4,n,r)&&(s|=1),s<<=1,this.readModule(0,r-3,n,r)&&(s|=1),s<<=1,this.readModule(0,r-2,n,r)&&(s|=1),s<<=1,this.readModule(0,r-1,n,r)&&(s|=1),s<<=1,this.readModule(1,r-1,n,r)&&(s|=1),s}readCorner3(n,r){let s=0;return this.readModule(n-1,0,n,r)&&(s|=1),s<<=1,this.readModule(n-1,r-1,n,r)&&(s|=1),s<<=1,this.readModule(0,r-3,n,r)&&(s|=1),s<<=1,this.readModule(0,r-2,n,r)&&(s|=1),s<<=1,this.readModule(0,r-1,n,r)&&(s|=1),s<<=1,this.readModule(1,r-3,n,r)&&(s|=1),s<<=1,this.readModule(1,r-2,n,r)&&(s|=1),s<<=1,this.readModule(1,r-1,n,r)&&(s|=1),s}readCorner4(n,r){let s=0;return this.readModule(n-3,0,n,r)&&(s|=1),s<<=1,this.readModule(n-2,0,n,r)&&(s|=1),s<<=1,this.readModule(n-1,0,n,r)&&(s|=1),s<<=1,this.readModule(0,r-2,n,r)&&(s|=1),s<<=1,this.readModule(0,r-1,n,r)&&(s|=1),s<<=1,this.readModule(1,r-1,n,r)&&(s|=1),s<<=1,this.readModule(2,r-1,n,r)&&(s|=1),s<<=1,this.readModule(3,r-1,n,r)&&(s|=1),s}extractDataRegion(n){const r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(n.getHeight()!==r)throw new v("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=r/o|0,d=s/l|0,h=c*o,p=d*l,y=new Se(p,h);for(let A=0;A<c;++A){const S=A*o;for(let b=0;b<d;++b){const D=b*l;for(let L=0;L<o;++L){const P=A*(o+2)+1+L,G=S+L;for(let te=0;te<l;++te){const ne=b*(l+2)+1+te;if(n.get(ne,P)){const $=D+te;y.set($,G)}}}}}return y}}class Ul{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r){const s=r.getECBlocks();let o=0;const l=s.getECBlocks();for(let L of l)o+=L.getCount();const c=new Array(o);let d=0;for(let L of l)for(let P=0;P<L.getCount();P++){const G=L.getDataCodewords(),te=s.getECCodewords()+G;c[d++]=new Ul(G,new Uint8Array(te))}const p=c[0].codewords.length-s.getECCodewords(),y=p-1;let A=0;for(let L=0;L<y;L++)for(let P=0;P<d;P++)c[P].codewords[L]=n[A++];const S=r.getVersionNumber()===24,b=S?8:d;for(let L=0;L<b;L++)c[L].codewords[p-1]=n[A++];const D=c[0].codewords.length;for(let L=p;L<D;L++)for(let P=0;P<d;P++){const G=S?(P+8)%d:P,te=S&&G>7?L-1:L;c[G].codewords[te]=n[A++]}if(A!==n.length)throw new v;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class zl{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new v(""+n);let r=0,s=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(s>0){const c=8-s,d=n<c?n:c,h=c-d,p=255>>8-d<<h;r=(l[o]&p)>>h,n-=d,s+=d,s===8&&(s=0,o++)}if(n>0){for(;n>=8;)r=r<<8|l[o]&255,o++,n-=8;if(n>0){const c=8-n,d=255>>c<<c;r=r<<n|(l[o]&d)>>c,s+=n}}return this.bitOffset=s,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var xt;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(xt||(xt={}));class br{static decode(n){const r=new zl(n),s=new ye,o=new ye,l=new Array;let c=xt.ASCII_ENCODE;do if(c===xt.ASCII_ENCODE)c=this.decodeAsciiSegment(r,s,o);else{switch(c){case xt.C40_ENCODE:this.decodeC40Segment(r,s);break;case xt.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case xt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case xt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case xt.BASE256_ENCODE:this.decodeBase256Segment(r,s,l);break;default:throw new z}c=xt.ASCII_ENCODE}while(c!==xt.PAD_ENCODE&&r.available()>0);return o.length()>0&&s.append(o.toString()),new _s(n,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(n,r,s){let o=!1;do{let l=n.readBits(8);if(l===0)throw new z;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),xt.ASCII_ENCODE;if(l===129)return xt.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&r.append("0"),r.append(""+c)}else switch(l){case 230:return xt.C40_ENCODE;case 231:return xt.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return xt.ANSIX12_ENCODE;case 239:return xt.TEXT_ENCODE;case 240:return xt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||n.available()!==0)throw new z;break}}while(n.available()>0);return xt.ASCII_ENCODE}static decodeC40Segment(n,r){let s=!1;const o=[];let l=0;do{if(n.available()===8)return;const c=n.readBits(8);if(c===254)return;this.parseTwoBytes(c,n.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else throw new z;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else switch(h){case 27:r.append(String.fromCharCode(29));break;case 30:s=!0;break;default:throw new z}l=0;break;case 3:s?(r.append(String.fromCharCode(h+224)),s=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new z}}}while(n.available()>0)}static decodeTextSegment(n,r){let s=!1,o=[],l=0;do{if(n.available()===8)return;const c=n.readBits(8);if(c===254)return;this.parseTwoBytes(c,n.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else throw new z;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else switch(h){case 27:r.append(String.fromCharCode(29));break;case 30:s=!0;break;default:throw new z}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p),l=0}else throw new z;break;default:throw new z}}}while(n.available()>0)}static decodeAnsiX12Segment(n,r){const s=[];do{if(n.available()===8)return;const o=n.readBits(8);if(o===254)return;this.parseTwoBytes(o,n.readBits(8),s);for(let l=0;l<3;l++){const c=s[l];switch(c){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(c<14)r.append(String.fromCharCode(c+44));else if(c<40)r.append(String.fromCharCode(c+51));else throw new z;break}}}while(n.available()>0)}static parseTwoBytes(n,r,s){let o=(n<<8)+r-1,l=Math.floor(o/1600);s[0]=l,o-=l*1600,l=Math.floor(o/40),s[1]=l,s[2]=o-l*40}static decodeEdifactSegment(n,r){do{if(n.available()<=16)return;for(let s=0;s<4;s++){let o=n.readBits(6);if(o===31){const l=8-n.getBitOffset();l!==8&&n.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(n.available()>0)}static decodeBase256Segment(n,r,s){let o=1+n.getByteOffset();const l=this.unrandomize255State(n.readBits(8),o++);let c;if(l===0?c=n.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(n.readBits(8),o++),c<0)throw new z;const d=new Uint8Array(c);for(let h=0;h<c;h++){if(n.available()<8)throw new z;d[h]=this.unrandomize255State(n.readBits(8),o++)}s.push(d);try{r.append(Ie.decode(d,oe.ISO88591))}catch(h){throw new Qn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(n,r){const s=149*r%255+1,o=n-s;return o>=0?o:o+256}}br.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],br.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],br.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],br.TEXT_SHIFT2_SET_CHARS=br.C40_SHIFT2_SET_CHARS,br.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class jg{constructor(){this.rsDecoder=new Ns(Re.DATA_MATRIX_FIELD_256)}decode(n){const r=new jl(n),s=r.getVersion(),o=r.readCodewords(),l=Ul.getDataBlocks(o,s);let c=0;for(let p of l)c+=p.getNumDataCodewords();const d=new Uint8Array(c),h=l.length;for(let p=0;p<h;p++){const y=l[p],A=y.getCodewords(),S=y.getNumDataCodewords();this.correctErrors(A,S);for(let b=0;b<S;b++)d[b*h+p]=A[b]}return br.decode(d)}correctErrors(n,r){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-r)}catch{throw new R}for(let o=0;o<r;o++)n[o]=s[o]}}class ct{constructor(n){this.image=n,this.rectangleDetector=new cr(this.image)}detect(){const n=this.rectangleDetector.detect();let r=this.detectSolid1(n);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Y;r=this.shiftToModuleCenter(r);const s=r[0],o=r[1],l=r[2],c=r[3];let d=this.transitionsBetween(s,c)+1,h=this.transitionsBetween(l,c)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let p=ct.sampleGrid(this.image,s,o,l,c,d,h);return new Fo(p,[s,o,l,c])}static shiftPoint(n,r,s){let o=(r.getX()-n.getX())/(s+1),l=(r.getY()-n.getY())/(s+1);return new ce(n.getX()+o,n.getY()+l)}static moveAway(n,r,s){let o=n.getX(),l=n.getY();return o<r?o-=1:o+=1,l<s?l-=1:l+=1,new ce(o,l)}detectSolid1(n){let r=n[0],s=n[1],o=n[3],l=n[2],c=this.transitionsBetween(r,s),d=this.transitionsBetween(s,o),h=this.transitionsBetween(o,l),p=this.transitionsBetween(l,r),y=c,A=[l,r,s,o];return y>d&&(y=d,A[0]=r,A[1]=s,A[2]=o,A[3]=l),y>h&&(y=h,A[0]=s,A[1]=o,A[2]=l,A[3]=r),y>p&&(A[0]=o,A[1]=l,A[2]=r,A[3]=s),A}detectSolid2(n){let r=n[0],s=n[1],o=n[2],l=n[3],c=this.transitionsBetween(r,l),d=ct.shiftPoint(s,o,(c+1)*4),h=ct.shiftPoint(o,s,(c+1)*4),p=this.transitionsBetween(d,r),y=this.transitionsBetween(h,l);return p<y?(n[0]=r,n[1]=s,n[2]=o,n[3]=l):(n[0]=s,n[1]=o,n[2]=l,n[3]=r),n}correctTopRight(n){let r=n[0],s=n[1],o=n[2],l=n[3],c=this.transitionsBetween(r,l),d=this.transitionsBetween(s,l),h=ct.shiftPoint(r,s,(d+1)*4),p=ct.shiftPoint(o,s,(c+1)*4);c=this.transitionsBetween(h,l),d=this.transitionsBetween(p,l);let y=new ce(l.getX()+(o.getX()-s.getX())/(c+1),l.getY()+(o.getY()-s.getY())/(c+1)),A=new ce(l.getX()+(r.getX()-s.getX())/(d+1),l.getY()+(r.getY()-s.getY())/(d+1));if(!this.isValid(y))return this.isValid(A)?A:null;if(!this.isValid(A))return y;let S=this.transitionsBetween(h,y)+this.transitionsBetween(p,y),b=this.transitionsBetween(h,A)+this.transitionsBetween(p,A);return S>b?y:A}shiftToModuleCenter(n){let r=n[0],s=n[1],o=n[2],l=n[3],c=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(o,l)+1,h=ct.shiftPoint(r,s,d*4),p=ct.shiftPoint(o,s,c*4);c=this.transitionsBetween(h,l)+1,d=this.transitionsBetween(p,l)+1,(c&1)===1&&(c+=1),(d&1)===1&&(d+=1);let y=(r.getX()+s.getX()+o.getX()+l.getX())/4,A=(r.getY()+s.getY()+o.getY()+l.getY())/4;r=ct.moveAway(r,y,A),s=ct.moveAway(s,y,A),o=ct.moveAway(o,y,A),l=ct.moveAway(l,y,A);let S,b;return h=ct.shiftPoint(r,s,d*4),h=ct.shiftPoint(h,l,c*4),S=ct.shiftPoint(s,r,d*4),S=ct.shiftPoint(S,o,c*4),p=ct.shiftPoint(o,l,d*4),p=ct.shiftPoint(p,s,c*4),b=ct.shiftPoint(l,o,d*4),b=ct.shiftPoint(b,r,c*4),[h,S,p,b]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,r,s,o,l,c,d){return Tr.getInstance().sampleGrid(n,c,d,.5,.5,c-.5,.5,c-.5,d-.5,.5,d-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),s.getX(),s.getY())}transitionsBetween(n,r){let s=Math.trunc(n.getX()),o=Math.trunc(n.getY()),l=Math.trunc(r.getX()),c=Math.trunc(r.getY()),d=Math.abs(c-o)>Math.abs(l-s);if(d){let L=s;s=o,o=L,L=l,l=c,c=L}let h=Math.abs(l-s),p=Math.abs(c-o),y=-h/2,A=o<c?1:-1,S=s<l?1:-1,b=0,D=this.image.get(d?o:s,d?s:o);for(let L=s,P=o;L!==l;L+=S){let G=this.image.get(d?P:L,d?L:P);if(G!==D&&(b++,D=G),y+=p,y>0){if(P===c)break;P+=A,y-=h}}return b}}class Mr{constructor(){this.decoder=new jg}decode(n,r=null){let s,o;if(r!=null&&r.has(q.PURE_BARCODE)){const p=Mr.extractPureBits(n.getBlackMatrix());s=this.decoder.decode(p),o=Mr.NO_POINTS}else{const p=new ct(n.getBlackMatrix()).detect();s=this.decoder.decode(p.getBits()),o=p.getPoints()}const l=s.getRawBytes(),c=new je(s.getText(),l,8*l.length,o,ue.DATA_MATRIX,k.currentTimeMillis()),d=s.getByteSegments();d!=null&&c.putMetadata(St.BYTE_SEGMENTS,d);const h=s.getECLevel();return h!=null&&c.putMetadata(St.ERROR_CORRECTION_LEVEL,h),c}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(r==null||s==null)throw new Y;const o=this.moduleSize(r,n);let l=r[1];const c=s[1];let d=r[0];const p=(s[0]-d+1)/o,y=(c-l+1)/o;if(p<=0||y<=0)throw new Y;const A=o/2;l+=A,d+=A;const S=new Se(p,y);for(let b=0;b<y;b++){const D=l+b*o;for(let L=0;L<p;L++)n.get(d+L*o,D)&&S.set(L,b)}return S}static moduleSize(n,r){const s=r.getWidth();let o=n[0];const l=n[1];for(;o<s&&r.get(o,l);)o++;if(o===s)throw new Y;const c=o-n[0];if(c===0)throw new Y;return c}}Mr.NO_POINTS=[];class Ug extends vt{constructor(n=500){super(new Mr,n)}}var ji;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(ji||(ji={}));class Ye{constructor(n,r,s){this.value=n,this.stringValue=r,this.bits=s,Ye.FOR_BITS.set(s,this),Ye.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Ye.L;case"M":return Ye.M;case"Q":return Ye.Q;case"H":return Ye.H;default:throw new I(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Ye))return!1;const r=n;return this.value===r.value}static forBits(n){if(n<0||n>=Ye.FOR_BITS.size)throw new v;return Ye.FOR_BITS.get(n)}}Ye.FOR_BITS=new Map,Ye.FOR_VALUE=new Map,Ye.L=new Ye(ji.L,"L",1),Ye.M=new Ye(ji.M,"M",0),Ye.Q=new Ye(ji.Q,"Q",3),Ye.H=new Ye(ji.H,"H",2);class Ft{constructor(n){this.errorCorrectionLevel=Ye.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,r){return O.bitCount(n^r)}static decodeFormatInformation(n,r){const s=Ft.doDecodeFormatInformation(n,r);return s!==null?s:Ft.doDecodeFormatInformation(n^Ft.FORMAT_INFO_MASK_QR,r^Ft.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,r){let s=Number.MAX_SAFE_INTEGER,o=0;for(const l of Ft.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===n||c===r)return new Ft(l[1]);let d=Ft.numBitsDiffering(n,c);d<s&&(o=l[1],s=d),n!==r&&(d=Ft.numBitsDiffering(r,c),d<s&&(o=l[1],s=d))}return s<=3?new Ft(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Ft))return!1;const r=n;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Ft.FORMAT_INFO_MASK_QR=21522,Ft.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class j{constructor(n,...r){this.ecCodewordsPerBlock=n,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const r=this.ecBlocks;for(const s of r)n+=s.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class de{constructor(n,r,...s){this.versionNumber=n,this.alignmentPatternCenters=r,this.ecBlocks=s;let o=0;const l=s[0].getECCodewordsPerBlock(),c=s[0].getECBlocks();for(const d of c)o+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new z;try{return this.getVersionForNumber((n-17)/4)}catch{throw new z}}static getVersionForNumber(n){if(n<1||n>40)throw new v;return de.VERSIONS[n-1]}static decodeVersionInformation(n){let r=Number.MAX_SAFE_INTEGER,s=0;for(let o=0;o<de.VERSION_DECODE_INFO.length;o++){const l=de.VERSION_DECODE_INFO[o];if(l===n)return de.getVersionForNumber(o+7);const c=Ft.numBitsDiffering(n,l);c<r&&(s=o+7,r=c)}return r<=3?de.getVersionForNumber(s):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),r=new Se(n);r.setRegion(0,0,9,9),r.setRegion(n-8,0,8,9),r.setRegion(0,n-8,9,8);const s=this.alignmentPatternCenters.length;for(let o=0;o<s;o++){const l=this.alignmentPatternCenters[o]-2;for(let c=0;c<s;c++)o===0&&(c===0||c===s-1)||o===s-1&&c===0||r.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return r.setRegion(6,9,1,n-17),r.setRegion(9,6,n-17,1),this.versionNumber>6&&(r.setRegion(n-11,0,3,6),r.setRegion(0,n-11,6,3)),r}toString(){return""+this.versionNumber}}de.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),de.VERSIONS=[new de(1,new Int32Array(0),new j(7,new T(1,19)),new j(10,new T(1,16)),new j(13,new T(1,13)),new j(17,new T(1,9))),new de(2,Int32Array.from([6,18]),new j(10,new T(1,34)),new j(16,new T(1,28)),new j(22,new T(1,22)),new j(28,new T(1,16))),new de(3,Int32Array.from([6,22]),new j(15,new T(1,55)),new j(26,new T(1,44)),new j(18,new T(2,17)),new j(22,new T(2,13))),new de(4,Int32Array.from([6,26]),new j(20,new T(1,80)),new j(18,new T(2,32)),new j(26,new T(2,24)),new j(16,new T(4,9))),new de(5,Int32Array.from([6,30]),new j(26,new T(1,108)),new j(24,new T(2,43)),new j(18,new T(2,15),new T(2,16)),new j(22,new T(2,11),new T(2,12))),new de(6,Int32Array.from([6,34]),new j(18,new T(2,68)),new j(16,new T(4,27)),new j(24,new T(4,19)),new j(28,new T(4,15))),new de(7,Int32Array.from([6,22,38]),new j(20,new T(2,78)),new j(18,new T(4,31)),new j(18,new T(2,14),new T(4,15)),new j(26,new T(4,13),new T(1,14))),new de(8,Int32Array.from([6,24,42]),new j(24,new T(2,97)),new j(22,new T(2,38),new T(2,39)),new j(22,new T(4,18),new T(2,19)),new j(26,new T(4,14),new T(2,15))),new de(9,Int32Array.from([6,26,46]),new j(30,new T(2,116)),new j(22,new T(3,36),new T(2,37)),new j(20,new T(4,16),new T(4,17)),new j(24,new T(4,12),new T(4,13))),new de(10,Int32Array.from([6,28,50]),new j(18,new T(2,68),new T(2,69)),new j(26,new T(4,43),new T(1,44)),new j(24,new T(6,19),new T(2,20)),new j(28,new T(6,15),new T(2,16))),new de(11,Int32Array.from([6,30,54]),new j(20,new T(4,81)),new j(30,new T(1,50),new T(4,51)),new j(28,new T(4,22),new T(4,23)),new j(24,new T(3,12),new T(8,13))),new de(12,Int32Array.from([6,32,58]),new j(24,new T(2,92),new T(2,93)),new j(22,new T(6,36),new T(2,37)),new j(26,new T(4,20),new T(6,21)),new j(28,new T(7,14),new T(4,15))),new de(13,Int32Array.from([6,34,62]),new j(26,new T(4,107)),new j(22,new T(8,37),new T(1,38)),new j(24,new T(8,20),new T(4,21)),new j(22,new T(12,11),new T(4,12))),new de(14,Int32Array.from([6,26,46,66]),new j(30,new T(3,115),new T(1,116)),new j(24,new T(4,40),new T(5,41)),new j(20,new T(11,16),new T(5,17)),new j(24,new T(11,12),new T(5,13))),new de(15,Int32Array.from([6,26,48,70]),new j(22,new T(5,87),new T(1,88)),new j(24,new T(5,41),new T(5,42)),new j(30,new T(5,24),new T(7,25)),new j(24,new T(11,12),new T(7,13))),new de(16,Int32Array.from([6,26,50,74]),new j(24,new T(5,98),new T(1,99)),new j(28,new T(7,45),new T(3,46)),new j(24,new T(15,19),new T(2,20)),new j(30,new T(3,15),new T(13,16))),new de(17,Int32Array.from([6,30,54,78]),new j(28,new T(1,107),new T(5,108)),new j(28,new T(10,46),new T(1,47)),new j(28,new T(1,22),new T(15,23)),new j(28,new T(2,14),new T(17,15))),new de(18,Int32Array.from([6,30,56,82]),new j(30,new T(5,120),new T(1,121)),new j(26,new T(9,43),new T(4,44)),new j(28,new T(17,22),new T(1,23)),new j(28,new T(2,14),new T(19,15))),new de(19,Int32Array.from([6,30,58,86]),new j(28,new T(3,113),new T(4,114)),new j(26,new T(3,44),new T(11,45)),new j(26,new T(17,21),new T(4,22)),new j(26,new T(9,13),new T(16,14))),new de(20,Int32Array.from([6,34,62,90]),new j(28,new T(3,107),new T(5,108)),new j(26,new T(3,41),new T(13,42)),new j(30,new T(15,24),new T(5,25)),new j(28,new T(15,15),new T(10,16))),new de(21,Int32Array.from([6,28,50,72,94]),new j(28,new T(4,116),new T(4,117)),new j(26,new T(17,42)),new j(28,new T(17,22),new T(6,23)),new j(30,new T(19,16),new T(6,17))),new de(22,Int32Array.from([6,26,50,74,98]),new j(28,new T(2,111),new T(7,112)),new j(28,new T(17,46)),new j(30,new T(7,24),new T(16,25)),new j(24,new T(34,13))),new de(23,Int32Array.from([6,30,54,78,102]),new j(30,new T(4,121),new T(5,122)),new j(28,new T(4,47),new T(14,48)),new j(30,new T(11,24),new T(14,25)),new j(30,new T(16,15),new T(14,16))),new de(24,Int32Array.from([6,28,54,80,106]),new j(30,new T(6,117),new T(4,118)),new j(28,new T(6,45),new T(14,46)),new j(30,new T(11,24),new T(16,25)),new j(30,new T(30,16),new T(2,17))),new de(25,Int32Array.from([6,32,58,84,110]),new j(26,new T(8,106),new T(4,107)),new j(28,new T(8,47),new T(13,48)),new j(30,new T(7,24),new T(22,25)),new j(30,new T(22,15),new T(13,16))),new de(26,Int32Array.from([6,30,58,86,114]),new j(28,new T(10,114),new T(2,115)),new j(28,new T(19,46),new T(4,47)),new j(28,new T(28,22),new T(6,23)),new j(30,new T(33,16),new T(4,17))),new de(27,Int32Array.from([6,34,62,90,118]),new j(30,new T(8,122),new T(4,123)),new j(28,new T(22,45),new T(3,46)),new j(30,new T(8,23),new T(26,24)),new j(30,new T(12,15),new T(28,16))),new de(28,Int32Array.from([6,26,50,74,98,122]),new j(30,new T(3,117),new T(10,118)),new j(28,new T(3,45),new T(23,46)),new j(30,new T(4,24),new T(31,25)),new j(30,new T(11,15),new T(31,16))),new de(29,Int32Array.from([6,30,54,78,102,126]),new j(30,new T(7,116),new T(7,117)),new j(28,new T(21,45),new T(7,46)),new j(30,new T(1,23),new T(37,24)),new j(30,new T(19,15),new T(26,16))),new de(30,Int32Array.from([6,26,52,78,104,130]),new j(30,new T(5,115),new T(10,116)),new j(28,new T(19,47),new T(10,48)),new j(30,new T(15,24),new T(25,25)),new j(30,new T(23,15),new T(25,16))),new de(31,Int32Array.from([6,30,56,82,108,134]),new j(30,new T(13,115),new T(3,116)),new j(28,new T(2,46),new T(29,47)),new j(30,new T(42,24),new T(1,25)),new j(30,new T(23,15),new T(28,16))),new de(32,Int32Array.from([6,34,60,86,112,138]),new j(30,new T(17,115)),new j(28,new T(10,46),new T(23,47)),new j(30,new T(10,24),new T(35,25)),new j(30,new T(19,15),new T(35,16))),new de(33,Int32Array.from([6,30,58,86,114,142]),new j(30,new T(17,115),new T(1,116)),new j(28,new T(14,46),new T(21,47)),new j(30,new T(29,24),new T(19,25)),new j(30,new T(11,15),new T(46,16))),new de(34,Int32Array.from([6,34,62,90,118,146]),new j(30,new T(13,115),new T(6,116)),new j(28,new T(14,46),new T(23,47)),new j(30,new T(44,24),new T(7,25)),new j(30,new T(59,16),new T(1,17))),new de(35,Int32Array.from([6,30,54,78,102,126,150]),new j(30,new T(12,121),new T(7,122)),new j(28,new T(12,47),new T(26,48)),new j(30,new T(39,24),new T(14,25)),new j(30,new T(22,15),new T(41,16))),new de(36,Int32Array.from([6,24,50,76,102,128,154]),new j(30,new T(6,121),new T(14,122)),new j(28,new T(6,47),new T(34,48)),new j(30,new T(46,24),new T(10,25)),new j(30,new T(2,15),new T(64,16))),new de(37,Int32Array.from([6,28,54,80,106,132,158]),new j(30,new T(17,122),new T(4,123)),new j(28,new T(29,46),new T(14,47)),new j(30,new T(49,24),new T(10,25)),new j(30,new T(24,15),new T(46,16))),new de(38,Int32Array.from([6,32,58,84,110,136,162]),new j(30,new T(4,122),new T(18,123)),new j(28,new T(13,46),new T(32,47)),new j(30,new T(48,24),new T(14,25)),new j(30,new T(42,15),new T(32,16))),new de(39,Int32Array.from([6,26,54,82,110,138,166]),new j(30,new T(20,117),new T(4,118)),new j(28,new T(40,47),new T(7,48)),new j(30,new T(43,24),new T(22,25)),new j(30,new T(10,15),new T(67,16))),new de(40,Int32Array.from([6,30,58,86,114,142,170]),new j(30,new T(19,118),new T(6,119)),new j(28,new T(18,47),new T(31,48)),new j(30,new T(34,24),new T(34,25)),new j(30,new T(20,15),new T(61,16)))];var It;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(It||(It={}));class vn{constructor(n,r){this.value=n,this.isMasked=r}unmaskBitMatrix(n,r){for(let s=0;s<r;s++)for(let o=0;o<r;o++)this.isMasked(s,o)&&n.flip(o,s)}}vn.values=new Map([[It.DATA_MASK_000,new vn(It.DATA_MASK_000,(E,n)=>(E+n&1)===0)],[It.DATA_MASK_001,new vn(It.DATA_MASK_001,(E,n)=>(E&1)===0)],[It.DATA_MASK_010,new vn(It.DATA_MASK_010,(E,n)=>n%3===0)],[It.DATA_MASK_011,new vn(It.DATA_MASK_011,(E,n)=>(E+n)%3===0)],[It.DATA_MASK_100,new vn(It.DATA_MASK_100,(E,n)=>(Math.floor(E/2)+Math.floor(n/3)&1)===0)],[It.DATA_MASK_101,new vn(It.DATA_MASK_101,(E,n)=>E*n%6===0)],[It.DATA_MASK_110,new vn(It.DATA_MASK_110,(E,n)=>E*n%6<3)],[It.DATA_MASK_111,new vn(It.DATA_MASK_111,(E,n)=>(E+n+E*n%3&1)===0)]]);class zg{constructor(n){const r=n.getHeight();if(r<21||(r&3)!==1)throw new z;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let l=0;l<6;l++)n=this.copyBit(l,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let l=5;l>=0;l--)n=this.copyBit(8,l,n);const r=this.bitMatrix.getHeight();let s=0;const o=r-7;for(let l=r-1;l>=o;l--)s=this.copyBit(8,l,s);for(let l=r-8;l<r;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=Ft.decodeFormatInformation(n,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),r=Math.floor((n-17)/4);if(r<=6)return de.getVersionForNumber(r);let s=0;const o=n-11;for(let c=5;c>=0;c--)for(let d=n-9;d>=o;d--)s=this.copyBit(d,c,s);let l=de.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;s=0;for(let c=5;c>=0;c--)for(let d=n-9;d>=o;d--)s=this.copyBit(c,d,s);if(l=de.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;throw new z}copyBit(n,r,s){return(this.isMirror?this.bitMatrix.get(r,n):this.bitMatrix.get(n,r))?s<<1|1:s<<1}readCodewords(){const n=this.readFormatInformation(),r=this.readVersion(),s=vn.values.get(n.getDataMask()),o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let c=!0;const d=new Uint8Array(r.getTotalCodewords());let h=0,p=0,y=0;for(let A=o-1;A>0;A-=2){A===6&&A--;for(let S=0;S<o;S++){const b=c?o-1-S:S;for(let D=0;D<2;D++)l.get(A-D,b)||(y++,p<<=1,this.bitMatrix.get(A-D,b)&&(p|=1),y===8&&(d[h++]=p,y=0,p=0))}c=!c}if(h!==r.getTotalCodewords())throw new z;return d}remask(){if(this.parsedFormatInfo===null)return;const n=vn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let r=0,s=n.getWidth();r<s;r++)for(let o=r+1,l=n.getHeight();o<l;o++)n.get(r,o)!==n.get(o,r)&&(n.flip(o,r),n.flip(r,o))}}class Wl{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r,s){if(n.length!==r.getTotalCodewords())throw new v;const o=r.getECBlocksForLevel(s);let l=0;const c=o.getECBlocks();for(const D of c)l+=D.getCount();const d=new Array(l);let h=0;for(const D of c)for(let L=0;L<D.getCount();L++){const P=D.getDataCodewords(),G=o.getECCodewordsPerBlock()+P;d[h++]=new Wl(P,new Uint8Array(G))}const p=d[0].codewords.length;let y=d.length-1;for(;y>=0&&d[y].codewords.length!==p;)y--;y++;const A=p-o.getECCodewordsPerBlock();let S=0;for(let D=0;D<A;D++)for(let L=0;L<h;L++)d[L].codewords[D]=n[S++];for(let D=y;D<h;D++)d[D].codewords[A]=n[S++];const b=d[0].codewords.length;for(let D=A;D<b;D++)for(let L=0;L<h;L++){const P=L<y?D:D+1;d[L].codewords[P]=n[S++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Sn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(Sn||(Sn={}));class ge{constructor(n,r,s,o){this.value=n,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=o,ge.FOR_BITS.set(o,this),ge.FOR_VALUE.set(n,this)}static forBits(n){const r=ge.FOR_BITS.get(n);if(r===void 0)throw new v;return r}getCharacterCountBits(n){const r=n.getVersionNumber();let s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof ge))return!1;const r=n;return this.value===r.value}toString(){return this.stringValue}}ge.FOR_BITS=new Map,ge.FOR_VALUE=new Map,ge.TERMINATOR=new ge(Sn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ge.NUMERIC=new ge(Sn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ge.ALPHANUMERIC=new ge(Sn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ge.STRUCTURED_APPEND=new ge(Sn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ge.BYTE=new ge(Sn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ge.ECI=new ge(Sn.ECI,"ECI",Int32Array.from([0,0,0]),7),ge.KANJI=new ge(Sn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ge.FNC1_FIRST_POSITION=new ge(Sn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ge.FNC1_SECOND_POSITION=new ge(Sn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ge.HANZI=new ge(Sn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class et{static decode(n,r,s,o){const l=new zl(n);let c=new ye;const d=new Array;let h=-1,p=-1;try{let y=null,A=!1,S;do{if(l.available()<4)S=ge.TERMINATOR;else{const b=l.readBits(4);S=ge.forBits(b)}switch(S){case ge.TERMINATOR:break;case ge.FNC1_FIRST_POSITION:case ge.FNC1_SECOND_POSITION:A=!0;break;case ge.STRUCTURED_APPEND:if(l.available()<16)throw new z;h=l.readBits(8),p=l.readBits(8);break;case ge.ECI:const b=et.parseECIValue(l);if(y=X.getCharacterSetECIByValue(b),y===null)throw new z;break;case ge.HANZI:const D=l.readBits(4),L=l.readBits(S.getCharacterCountBits(r));D===et.GB2312_SUBSET&&et.decodeHanziSegment(l,c,L);break;default:const P=l.readBits(S.getCharacterCountBits(r));switch(S){case ge.NUMERIC:et.decodeNumericSegment(l,c,P);break;case ge.ALPHANUMERIC:et.decodeAlphanumericSegment(l,c,P,A);break;case ge.BYTE:et.decodeByteSegment(l,c,P,y,d,o);break;case ge.KANJI:et.decodeKanjiSegment(l,c,P);break;default:throw new z}break}}while(S!==ge.TERMINATOR)}catch{throw new z}return new _s(n,c.toString(),d.length===0?null:d,s===null?null:s.toString(),h,p)}static decodeHanziSegment(n,r,s){if(s*13>n.available())throw new z;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const c=n.readBits(13);let d=c/96<<8&4294967295|c%96;d<959?d+=41377:d+=42657,o[l]=d>>8&255,o[l+1]=d&255,l+=2,s--}try{r.append(Ie.decode(o,oe.GB2312))}catch(c){throw new z(c)}}static decodeKanjiSegment(n,r,s){if(s*13>n.available())throw new z;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const c=n.readBits(13);let d=c/192<<8&4294967295|c%192;d<7936?d+=33088:d+=49472,o[l]=d>>8,o[l+1]=d,l+=2,s--}try{r.append(Ie.decode(o,oe.SHIFT_JIS))}catch(c){throw new z(c)}}static decodeByteSegment(n,r,s,o,l,c){if(8*s>n.available())throw new z;const d=new Uint8Array(s);for(let p=0;p<s;p++)d[p]=n.readBits(8);let h;o===null?h=oe.guessEncoding(d,c):h=o.getName();try{r.append(Ie.decode(d,h))}catch(p){throw new z(p)}l.push(d)}static toAlphaNumericChar(n){if(n>=et.ALPHANUMERIC_CHARS.length)throw new z;return et.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,r,s,o){const l=r.length();for(;s>1;){if(n.available()<11)throw new z;const c=n.readBits(11);r.append(et.toAlphaNumericChar(Math.floor(c/45))),r.append(et.toAlphaNumericChar(c%45)),s-=2}if(s===1){if(n.available()<6)throw new z;r.append(et.toAlphaNumericChar(n.readBits(6)))}if(o)for(let c=l;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,String.fromCharCode(29)))}static decodeNumericSegment(n,r,s){for(;s>=3;){if(n.available()<10)throw new z;const o=n.readBits(10);if(o>=1e3)throw new z;r.append(et.toAlphaNumericChar(Math.floor(o/100))),r.append(et.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(et.toAlphaNumericChar(o%10)),s-=3}if(s===2){if(n.available()<7)throw new z;const o=n.readBits(7);if(o>=100)throw new z;r.append(et.toAlphaNumericChar(Math.floor(o/10))),r.append(et.toAlphaNumericChar(o%10))}else if(s===1){if(n.available()<4)throw new z;const o=n.readBits(4);if(o>=10)throw new z;r.append(et.toAlphaNumericChar(o))}}static parseECIValue(n){const r=n.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const s=n.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){const s=n.readBits(16);return(r&31)<<16&4294967295|s}throw new z}}et.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",et.GB2312_SUBSET=1;class Y1{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const r=n[0];n[0]=n[2],n[2]=r}}class Wg{constructor(){this.rsDecoder=new Ns(Re.QR_CODE_FIELD_256)}decodeBooleanArray(n,r){return this.decodeBitMatrix(Se.parseFromBooleanArray(n),r)}decodeBitMatrix(n,r){const s=new zg(n);let o=null;try{return this.decodeBitMatrixParser(s,r)}catch(l){o=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const l=this.decodeBitMatrixParser(s,r);return l.setOther(new Y1(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(n,r){const s=n.readVersion(),o=n.readFormatInformation().getErrorCorrectionLevel(),l=n.readCodewords(),c=Wl.getDataBlocks(l,s,o);let d=0;for(const y of c)d+=y.getNumDataCodewords();const h=new Uint8Array(d);let p=0;for(const y of c){const A=y.getCodewords(),S=y.getNumDataCodewords();this.correctErrors(A,S);for(let b=0;b<S;b++)h[p++]=A[b]}return et.decode(h,s,o,r)}correctErrors(n,r){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-r)}catch{throw new R}for(let o=0;o<r;o++)n[o]=s[o]}}class Hl extends ce{constructor(n,r,s){super(n,r),this.estimatedModuleSize=s}aboutEquals(n,r,s){if(Math.abs(r-this.getY())<=n&&Math.abs(s-this.getX())<=n){const o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(n,r,s){const o=(this.getX()+r)/2,l=(this.getY()+n)/2,c=(this.estimatedModuleSize+s)/2;return new Hl(o,l,c)}}class Ho{constructor(n,r,s,o,l,c,d){this.image=n,this.startX=r,this.startY=s,this.width=o,this.height=l,this.moduleSize=c,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,r=this.height,s=this.width,o=n+s,l=this.startY+r/2,c=new Int32Array(3),d=this.image;for(let h=0;h<r;h++){const p=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));c[0]=0,c[1]=0,c[2]=0;let y=n;for(;y<o&&!d.get(y,p);)y++;let A=0;for(;y<o;){if(d.get(y,p))if(A===1)c[1]++;else if(A===2){if(this.foundPatternCross(c)){const S=this.handlePossibleCenter(c,p,y);if(S!==null)return S}c[0]=c[2],c[1]=1,c[2]=0,A=1}else c[++A]++;else A===1&&A++,c[A]++;y++}if(this.foundPatternCross(c)){const S=this.handlePossibleCenter(c,p,o);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(n,r){return r-n[2]-n[1]/2}foundPatternCross(n){const r=this.moduleSize,s=r/2;for(let o=0;o<3;o++)if(Math.abs(r-n[o])>=s)return!1;return!0}crossCheckVertical(n,r,s,o){const l=this.image,c=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=n;for(;h>=0&&l.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&!l.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=n+1;h<c&&l.get(r,h)&&d[1]<=s;)d[1]++,h++;if(h===c||d[1]>s)return NaN;for(;h<c&&!l.get(r,h)&&d[2]<=s;)d[2]++,h++;if(d[2]>s)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-o)>=2*o?NaN:this.foundPatternCross(d)?Ho.centerFromEnd(d,h):NaN}handlePossibleCenter(n,r,s){const o=n[0]+n[1]+n[2],l=Ho.centerFromEnd(n,s),c=this.crossCheckVertical(r,l,2*n[1],o);if(!isNaN(c)){const d=(n[0]+n[1]+n[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,c,l))return p.combineEstimate(c,l,d);const h=new Hl(l,c,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Vl extends ce{constructor(n,r,s,o){super(n,r),this.estimatedModuleSize=s,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,r,s){if(Math.abs(r-this.getY())<=n&&Math.abs(s-this.getX())<=n){const o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(n,r,s){const o=this.count+1,l=(this.count*this.getX()+r)/o,c=(this.count*this.getY()+n)/o,d=(this.count*this.estimatedModuleSize+s)/o;return new Vl(l,c,d,o)}}class Hg{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class _t{constructor(n,r){this.image=n,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const r=n!=null&&n.get(q.TRY_HARDER)!==void 0,s=n!=null&&n.get(q.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),c=o.getWidth();let d=Math.floor(3*l/(4*_t.MAX_MODULES));(d<_t.MIN_SKIP||r)&&(d=_t.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let A=d-1;A<l&&!h;A+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let S=0;for(let b=0;b<c;b++)if(o.get(b,A))(S&1)===1&&S++,p[S]++;else if(S&1)p[S]++;else if(S===4)if(_t.foundPatternCross(p)){if(this.handlePossibleCenter(p,A,b,s)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>p[2]&&(A+=L-p[2]-d,b=c-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,S=3;continue}S=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,S=3;else p[++S]++;_t.foundPatternCross(p)&&this.handlePossibleCenter(p,A,c,s)===!0&&(d=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return ce.orderBestPatterns(y),new Hg(y)}static centerFromEnd(n,r){return r-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let r=0;for(let l=0;l<5;l++){const c=n[l];if(c===0)return!1;r+=c}if(r<7)return!1;const s=r/7,o=s/2;return Math.abs(s-n[0])<o&&Math.abs(s-n[1])<o&&Math.abs(3*s-n[2])<3*o&&Math.abs(s-n[3])<o&&Math.abs(s-n[4])<o}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,r,s,o){const l=this.getCrossCheckStateCount();let c=0;const d=this.image;for(;n>=c&&r>=c&&d.get(r-c,n-c);)l[2]++,c++;if(n<c||r<c)return!1;for(;n>=c&&r>=c&&!d.get(r-c,n-c)&&l[1]<=s;)l[1]++,c++;if(n<c||r<c||l[1]>s)return!1;for(;n>=c&&r>=c&&d.get(r-c,n-c)&&l[0]<=s;)l[0]++,c++;if(l[0]>s)return!1;const h=d.getHeight(),p=d.getWidth();for(c=1;n+c<h&&r+c<p&&d.get(r+c,n+c);)l[2]++,c++;if(n+c>=h||r+c>=p)return!1;for(;n+c<h&&r+c<p&&!d.get(r+c,n+c)&&l[3]<s;)l[3]++,c++;if(n+c>=h||r+c>=p||l[3]>=s)return!1;for(;n+c<h&&r+c<p&&d.get(r+c,n+c)&&l[4]<s;)l[4]++,c++;if(l[4]>=s)return!1;const y=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(y-o)<2*o&&_t.foundPatternCross(l)}crossCheckVertical(n,r,s,o){const l=this.image,c=l.getHeight(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(r,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=n+1;h<c&&l.get(r,h);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(r,h)&&d[3]<s;)d[3]++,h++;if(h===c||d[3]>=s)return NaN;for(;h<c&&l.get(r,h)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-o)>=2*o?NaN:_t.foundPatternCross(d)?_t.centerFromEnd(d,h):NaN}crossCheckHorizontal(n,r,s,o){const l=this.image,c=l.getWidth(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(h,r);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(h,r)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=n+1;h<c&&l.get(h,r);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(h,r)&&d[3]<s;)d[3]++,h++;if(h===c||d[3]>=s)return NaN;for(;h<c&&l.get(h,r)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-o)>=o?NaN:_t.foundPatternCross(d)?_t.centerFromEnd(d,h):NaN}handlePossibleCenter(n,r,s,o){const l=n[0]+n[1]+n[2]+n[3]+n[4];let c=_t.centerFromEnd(n,s),d=this.crossCheckVertical(r,Math.floor(c),n[2],l);if(!isNaN(d)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(d),n[2],l),!isNaN(c)&&(!o||this.crossCheckDiagonal(Math.floor(d),Math.floor(c),n[2],l)))){const h=l/7;let p=!1;const y=this.possibleCenters;for(let A=0,S=y.length;A<S;A++){const b=y[A];if(b.aboutEquals(h,d,c)){y[A]=b.combineEstimate(d,c,h),p=!0;break}}if(!p){const A=new Vl(c,d,h);y.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const s of this.possibleCenters)if(s.getCount()>=_t.CENTER_QUORUM)if(r==null)r=s;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,r=0;const s=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=_t.CENTER_QUORUM&&(n++,r+=c.getEstimatedModuleSize());if(n<3)return!1;const o=r/s;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new Y;const r=this.possibleCenters;let s;if(n>3){let o=0,l=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();o+=p,l+=p*p}s=o/n;let c=Math.sqrt(l/n-s*s);r.sort((h,p)=>{const y=Math.abs(p.getEstimatedModuleSize()-s),A=Math.abs(h.getEstimatedModuleSize()-s);return y<A?-1:y>A?1:0});const d=Math.max(.2*s,c);for(let h=0;h<r.length&&r.length>3;h++){const p=r[h];Math.abs(p.getEstimatedModuleSize()-s)>d&&(r.splice(h,1),h--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();s=o/r.length,r.sort((l,c)=>{if(c.getCount()===l.getCount()){const d=Math.abs(c.getEstimatedModuleSize()-s),h=Math.abs(l.getEstimatedModuleSize()-s);return d<h?1:d>h?-1:0}else return c.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}_t.CENTER_QUORUM=2,_t.MIN_SKIP=3,_t.MAX_MODULES=57;class Ms{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(q.NEED_RESULT_POINT_CALLBACK);const s=new _t(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(s)}processFinderPatternInfo(n){const r=n.getTopLeft(),s=n.getTopRight(),o=n.getBottomLeft(),l=this.calculateModuleSize(r,s,o);if(l<1)throw new Y("No pattern found in proccess finder.");const c=Ms.computeDimension(r,s,o,l),d=de.getProvisionalVersionForDimension(c),h=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const b=s.getX()-r.getX()+o.getX(),D=s.getY()-r.getY()+o.getY(),L=1-3/h,P=Math.floor(r.getX()+L*(b-r.getX())),G=Math.floor(r.getY()+L*(D-r.getY()));for(let te=4;te<=16;te<<=1)try{p=this.findAlignmentInRegion(l,P,G,te);break}catch(ne){if(!(ne instanceof Y))throw ne}}const y=Ms.createTransform(r,s,o,p,c),A=Ms.sampleGrid(this.image,y,c);let S;return p===null?S=[o,r,s]:S=[o,r,s,p],new Fo(A,S)}static createTransform(n,r,s,o,l){const c=l-3.5;let d,h,p,y;return o!==null?(d=o.getX(),h=o.getY(),p=c-3,y=p):(d=r.getX()-n.getX()+s.getX(),h=r.getY()-n.getY()+s.getY(),p=c,y=c),kn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,p,y,3.5,c,n.getX(),n.getY(),r.getX(),r.getY(),d,h,s.getX(),s.getY())}static sampleGrid(n,r,s){return Tr.getInstance().sampleGridWithTransform(n,s,s,r)}static computeDimension(n,r,s,o){const l=be.round(ce.distance(n,r)/o),c=be.round(ce.distance(n,s)/o);let d=Math.floor((l+c)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new Y("Dimensions could be not found.")}return d}calculateModuleSize(n,r,s){return(this.calculateModuleSizeOneWay(n,r)+this.calculateModuleSizeOneWay(n,s))/2}calculateModuleSizeOneWay(n,r){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(s)?o/7:isNaN(o)?s/7:(s+o)/14}sizeOfBlackWhiteBlackRunBothWays(n,r,s,o){let l=this.sizeOfBlackWhiteBlackRun(n,r,s,o),c=1,d=n-(s-n);d<0?(c=n/(n-d),d=0):d>=this.image.getWidth()&&(c=(this.image.getWidth()-1-n)/(d-n),d=this.image.getWidth()-1);let h=Math.floor(r-(o-r)*c);return c=1,h<0?(c=r/(r-h),h=0):h>=this.image.getHeight()&&(c=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),d=Math.floor(n+(d-n)*c),l+=this.sizeOfBlackWhiteBlackRun(n,r,d,h),l-1}sizeOfBlackWhiteBlackRun(n,r,s,o){const l=Math.abs(o-r)>Math.abs(s-n);if(l){let b=n;n=r,r=b,b=s,s=o,o=b}const c=Math.abs(s-n),d=Math.abs(o-r);let h=-c/2;const p=n<s?1:-1,y=r<o?1:-1;let A=0;const S=s+p;for(let b=n,D=r;b!==S;b+=p){const L=l?D:b,P=l?b:D;if(A===1===this.image.get(L,P)){if(A===2)return be.distance(b,D,n,r);A++}if(h+=d,h>0){if(D===o)break;D+=y,h-=c}}return A===2?be.distance(s+p,o,n,r):NaN}findAlignmentInRegion(n,r,s,o){const l=Math.floor(o*n),c=Math.max(0,r-l),d=Math.min(this.image.getWidth()-1,r+l);if(d-c<n*3)throw new Y("Alignment top exceeds estimated module size.");const h=Math.max(0,s-l),p=Math.min(this.image.getHeight()-1,s+l);if(p-h<n*3)throw new Y("Alignment bottom exceeds estimated module size.");return new Ho(this.image,c,h,d-c,p-h,n,this.resultPointCallback).find()}}class Or{constructor(){this.decoder=new Wg}getDecoder(){return this.decoder}decode(n,r){let s,o;if(r!=null&&r.get(q.PURE_BARCODE)!==void 0){const h=Or.extractPureBits(n.getBlackMatrix());s=this.decoder.decodeBitMatrix(h,r),o=Or.NO_POINTS}else{const h=new Ms(n.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(h.getBits(),r),o=h.getPoints()}s.getOther()instanceof Y1&&s.getOther().applyMirroredCorrection(o);const l=new je(s.getText(),s.getRawBytes(),void 0,o,ue.QR_CODE,void 0),c=s.getByteSegments();c!==null&&l.putMetadata(St.BYTE_SEGMENTS,c);const d=s.getECLevel();return d!==null&&l.putMetadata(St.ERROR_CORRECTION_LEVEL,d),s.hasStructuredAppend()&&(l.putMetadata(St.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(St.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(r===null||s===null)throw new Y;const o=this.moduleSize(r,n);let l=r[1],c=s[1],d=r[0],h=s[0];if(d>=h||l>=c)throw new Y;if(c-l!==h-d&&(h=d+(c-l),h>=n.getWidth()))throw new Y;const p=Math.round((h-d+1)/o),y=Math.round((c-l+1)/o);if(p<=0||y<=0)throw new Y;if(y!==p)throw new Y;const A=Math.floor(o/2);l+=A,d+=A;const S=d+Math.floor((p-1)*o)-h;if(S>0){if(S>A)throw new Y;d-=S}const b=l+Math.floor((y-1)*o)-c;if(b>0){if(b>A)throw new Y;l-=b}const D=new Se(p,y);for(let L=0;L<y;L++){const P=l+Math.floor(L*o);for(let G=0;G<p;G++)n.get(d+Math.floor(G*o),P)&&D.set(G,L)}return D}static moduleSize(n,r){const s=r.getHeight(),o=r.getWidth();let l=n[0],c=n[1],d=!0,h=0;for(;l<o&&c<s;){if(d!==r.get(l,c)){if(++h===5)break;d=!d}l++,c++}if(l===o||c===s)throw new Y;return(l-n[0])/7}}Or.NO_POINTS=new Array;class xe{PDF417Common(){}static getBitCountSum(n){return be.sum(n)}static toIntArray(n){if(n==null||!n.length)return xe.EMPTY_INT_ARRAY;const r=new Int32Array(n.length);let s=0;for(const o of n)r[s++]=o;return r}static getCodeword(n){const r=_.binarySearch(xe.SYMBOL_TABLE,n&262143);return r<0?-1:(xe.CODEWORD_TABLE[r]-1)%xe.NUMBER_OF_CODEWORDS}}xe.NUMBER_OF_CODEWORDS=929,xe.MAX_CODEWORDS_IN_BARCODE=xe.NUMBER_OF_CODEWORDS-1,xe.MIN_ROWS_IN_BARCODE=3,xe.MAX_ROWS_IN_BARCODE=90,xe.MODULES_IN_CODEWORD=17,xe.MODULES_IN_STOP_PATTERN=18,xe.BARS_IN_MODULE=8,xe.EMPTY_INT_ARRAY=new Int32Array([]),xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Vg{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ee{static detectMultiple(n,r,s){let o=n.getBlackMatrix(),l=Ee.detect(s,o);return l.length||(o=o.clone(),o.rotate180(),l=Ee.detect(s,o)),new Vg(o,l)}static detect(n,r){const s=new Array;let o=0,l=0,c=!1;for(;o<r.getHeight();){const d=Ee.findVertices(r,o,l);if(d[0]==null&&d[3]==null){if(!c)break;c=!1,l=0;for(const h of s)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=Ee.ROW_STEP;continue}if(c=!0,s.push(d),!n)break;d[2]!=null?(l=Math.trunc(d[2].getX()),o=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY()))}return s}static findVertices(n,r,s){const o=n.getHeight(),l=n.getWidth(),c=new Array(8);return Ee.copyToResult(c,Ee.findRowsWithPattern(n,o,l,r,s,Ee.START_PATTERN),Ee.INDEXES_START_PATTERN),c[4]!=null&&(s=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY())),Ee.copyToResult(c,Ee.findRowsWithPattern(n,o,l,r,s,Ee.STOP_PATTERN),Ee.INDEXES_STOP_PATTERN),c}static copyToResult(n,r,s){for(let o=0;o<s.length;o++)n[s[o]]=r[o]}static findRowsWithPattern(n,r,s,o,l,c){const d=new Array(4);let h=!1;const p=new Int32Array(c.length);for(;o<r;o+=Ee.ROW_STEP){let A=Ee.findGuardPattern(n,l,o,s,!1,c,p);if(A!=null){for(;o>0;){const S=Ee.findGuardPattern(n,l,--o,s,!1,c,p);if(S!=null)A=S;else{o++;break}}d[0]=new ce(A[0],o),d[1]=new ce(A[1],o),h=!0;break}}let y=o+1;if(h){let A=0,S=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;y<r;y++){const b=Ee.findGuardPattern(n,S[0],y,s,!1,c,p);if(b!=null&&Math.abs(S[0]-b[0])<Ee.MAX_PATTERN_DRIFT&&Math.abs(S[1]-b[1])<Ee.MAX_PATTERN_DRIFT)S=b,A=0;else{if(A>Ee.SKIPPED_ROW_COUNT_MAX)break;A++}}y-=A+1,d[2]=new ce(S[0],y),d[3]=new ce(S[1],y)}return y-o<Ee.BARCODE_MIN_HEIGHT&&_.fill(d,null),d}static findGuardPattern(n,r,s,o,l,c,d){_.fillWithin(d,0,d.length,0);let h=r,p=0;for(;n.get(h,s)&&h>0&&p++<Ee.MAX_PIXEL_DRIFT;)h--;let y=h,A=0,S=c.length;for(let b=l;y<o;y++)if(n.get(y,s)!==b)d[A]++;else{if(A===S-1){if(Ee.patternMatchVariance(d,c,Ee.MAX_INDIVIDUAL_VARIANCE)<Ee.MAX_AVG_VARIANCE)return new Int32Array([h,y]);h+=d[0]+d[1],k.arraycopy(d,2,d,0,A-1),d[A-1]=0,d[A]=0,A--}else A++;d[A]=1,b=!b}return A===S-1&&Ee.patternMatchVariance(d,c,Ee.MAX_INDIVIDUAL_VARIANCE)<Ee.MAX_AVG_VARIANCE?new Int32Array([h,y-1]):null}static patternMatchVariance(n,r,s){let o=n.length,l=0,c=0;for(let p=0;p<o;p++)l+=n[p],c+=r[p];if(l<c)return 1/0;let d=l/c;s*=d;let h=0;for(let p=0;p<o;p++){let y=n[p],A=r[p]*d,S=y>A?y-A:A-y;if(S>s)return 1/0;h+=S}return h/l}}Ee.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ee.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ee.MAX_AVG_VARIANCE=.42,Ee.MAX_INDIVIDUAL_VARIANCE=.8,Ee.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ee.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ee.MAX_PIXEL_DRIFT=3,Ee.MAX_PATTERN_DRIFT=5,Ee.SKIPPED_ROW_COUNT_MAX=25,Ee.ROW_STEP=5,Ee.BARCODE_MIN_HEIGHT=10;class Ot{constructor(n,r){if(r.length===0)throw new v;this.field=n;let s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-o),k.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],s=this.coefficients.length;for(let o=1;o<s;o++)r=this.field.add(this.field.multiply(n,r),this.coefficients[o]);return r}add(n){if(!this.field.equals(n.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,s=n.coefficients;if(r.length>s.length){let c=r;r=s,s=c}let o=new Int32Array(s.length),l=s.length-r.length;k.arraycopy(s,0,o,0,l);for(let c=l;c<s.length;c++)o[c]=this.field.add(r[c-l],s[c]);return new Ot(this.field,o)}subtract(n){if(!this.field.equals(n.field))throw new v("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof Ot?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new Ot(this.field,new Int32Array([0]));let r=this.coefficients,s=r.length,o=n.coefficients,l=o.length,c=new Int32Array(s+l-1);for(let d=0;d<s;d++){let h=r[d];for(let p=0;p<l;p++)c[d+p]=this.field.add(c[d+p],this.field.multiply(h,o[p]))}return new Ot(this.field,c)}negative(){let n=this.coefficients.length,r=new Int32Array(n);for(let s=0;s<n;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new Ot(this.field,r)}multiplyScalar(n){if(n===0)return new Ot(this.field,new Int32Array([0]));if(n===1)return this;let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],n);return new Ot(this.field,s)}multiplyByMonomial(n,r){if(n<0)throw new v;if(r===0)return new Ot(this.field,new Int32Array([0]));let s=this.coefficients.length,o=new Int32Array(s+n);for(let l=0;l<s;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new Ot(this.field,o)}toString(){let n=new ye;for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);s!==0&&(s<0?(n.append(" - "),s=-s):n.length()>0&&n.append(" + "),(r===0||s!==1)&&n.append(s),r!==0&&(r===1?n.append("x"):(n.append("x^"),n.append(r))))}return n.toString()}}class Gg{add(n,r){return(n+r)%this.modulus}subtract(n,r){return(this.modulus+n-r)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new v;return this.logTable[n]}inverse(n){if(n===0)throw new Bo;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Gl extends Gg{constructor(n,r){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let s=1;for(let o=0;o<n;o++)this.expTable[o]=s,s=s*r%n;for(let o=0;o<n-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Ot(this,new Int32Array([0])),this.one=new Ot(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new v;if(r===0)return this.zero;let s=new Int32Array(n+1);return s[0]=r,new Ot(this,s)}}Gl.PDF417_GF=new Gl(xe.NUMBER_OF_CODEWORDS,3);class X1{constructor(){this.field=Gl.PDF417_GF}decode(n,r,s){let o=new Ot(this.field,n),l=new Int32Array(r),c=!1;for(let D=r;D>0;D--){let L=o.evaluateAt(this.field.exp(D));l[r-D]=L,L!==0&&(c=!0)}if(!c)return 0;let d=this.field.getOne();if(s!=null)for(const D of s){let L=this.field.exp(n.length-1-D),P=new Ot(this.field,new Int32Array([this.field.subtract(0,L),1]));d=d.multiply(P)}let h=new Ot(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),y=p[0],A=p[1],S=this.findErrorLocations(y),b=this.findErrorMagnitudes(A,y,S);for(let D=0;D<S.length;D++){let L=n.length-1-this.field.log(S[D]);if(L<0)throw R.getChecksumInstance();n[L]=this.field.subtract(n[L],b[D])}return S.length}runEuclideanAlgorithm(n,r,s){if(n.getDegree()<r.getDegree()){let S=n;n=r,r=S}let o=n,l=r,c=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let S=o,b=c;if(o=l,c=d,o.isZero())throw R.getChecksumInstance();l=S;let D=this.field.getZero(),L=o.getCoefficient(o.getDegree()),P=this.field.inverse(L);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let G=l.getDegree()-o.getDegree(),te=this.field.multiply(l.getCoefficient(l.getDegree()),P);D=D.add(this.field.buildMonomial(G,te)),l=l.subtract(o.multiplyByMonomial(G,te))}d=D.multiply(c).subtract(b).negative()}let h=d.getCoefficient(0);if(h===0)throw R.getChecksumInstance();let p=this.field.inverse(h),y=d.multiply(p),A=l.multiply(p);return[y,A]}findErrorLocations(n){let r=n.getDegree(),s=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)n.evaluateAt(l)===0&&(s[o]=this.field.inverse(l),o++);if(o!==r)throw R.getChecksumInstance();return s}findErrorMagnitudes(n,r,s){let o=r.getDegree(),l=new Int32Array(o);for(let p=1;p<=o;p++)l[o-p]=this.field.multiply(p,r.getCoefficient(p));let c=new Ot(this.field,l),d=s.length,h=new Int32Array(d);for(let p=0;p<d;p++){let y=this.field.inverse(s[p]),A=this.field.subtract(0,n.evaluateAt(y)),S=this.field.inverse(c.evaluateAt(y));h[p]=this.field.multiply(A,S)}return h}}class fi{constructor(n,r,s,o,l){n instanceof fi?this.constructor_2(n):this.constructor_1(n,r,s,o,l)}constructor_1(n,r,s,o,l){const c=r==null||s==null,d=o==null||l==null;if(c&&d)throw new Y;c?(r=new ce(0,o.getY()),s=new ce(0,l.getY())):d&&(o=new ce(n.getWidth()-1,r.getY()),l=new ce(n.getWidth()-1,s.getY())),this.image=n,this.topLeft=r,this.bottomLeft=s,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,r){return n==null?r:r==null?n:new fi(n.image,n.topLeft,n.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(n,r,s){let o=this.topLeft,l=this.bottomLeft,c=this.topRight,d=this.bottomRight;if(n>0){let h=s?this.topLeft:this.topRight,p=Math.trunc(h.getY()-n);p<0&&(p=0);let y=new ce(h.getX(),p);s?o=y:c=y}if(r>0){let h=s?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let y=new ce(h.getX(),p);s?l=y:d=y}return new fi(this.image,o,l,c,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Yg{constructor(n,r,s,o){this.columnCount=n,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Os{constructor(){this.buffer=""}static form(n,r){let s=-1;function o(c,d,h,p,y,A){if(c==="%%")return"%";if(r[++s]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let S=y?parseInt(y.substr(1)):void 0,b;switch(A){case"s":b=r[s];break;case"c":b=r[s][0];break;case"f":b=parseFloat(r[s]).toFixed(c);break;case"p":b=parseFloat(r[s]).toPrecision(c);break;case"e":b=parseFloat(r[s]).toExponential(c);break;case"x":b=parseInt(r[s]).toString(S||16);break;case"d":b=parseFloat(parseInt(r[s],S||10).toPrecision(c)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(S);let D=parseInt(h),L=h&&h[0]+""=="0"?"0":" ";for(;b.length<D;)b=d!==void 0?b+L:L+b;return b}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,o)}format(n,...r){this.buffer+=Os.form(n,r)}toString(){return this.buffer}}class Rs{constructor(n){this.boundingBox=new fi(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let r=this.getCodeword(n);if(r!=null)return r;for(let s=1;s<Rs.MAX_NEARBY_DISTANCE;s++){let o=this.imageRowToCodewordIndex(n)-s;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(n)+s,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,r){this.codewords[this.imageRowToCodewordIndex(n)]=r}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Os;let r=0;for(const s of this.codewords){if(s==null){n.format("%3d:    |   %n",r++);continue}n.format("%3d: %3d|%3d%n",r++,s.getRowNumber(),s.getValue())}return n.toString()}}Rs.MAX_NEARBY_DISTANCE=5;class Ds{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let r=this.values.get(n);r==null&&(r=0),r++,this.values.set(n,r)}getValue(){let n=-1,r=new Array;for(const[s,o]of this.values.entries()){const l={getKey:()=>s,getValue:()=>o};l.getValue()>n?(n=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===n&&r.push(l.getKey())}return xe.toIntArray(r)}getConfidence(n){return this.values.get(n)}}class Q1 extends Rs{constructor(n,r){super(n),this._isLeft=r}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,p=1,y=0;for(let A=c;A<d;A++){if(r[A]==null)continue;let S=r[A],b=S.getRowNumber()-h;if(b===0)y++;else if(b===1)p=Math.max(p,y),y=1,h=S.getRowNumber();else if(b<0||S.getRowNumber()>=n.getRowCount()||b>A)r[A]=null;else{let D;p>2?D=(p-2)*b:D=b;let L=D>=A;for(let P=1;P<=D&&!L;P++)L=r[A-P]!=null;L?r[A]=null:(h=S.getRowNumber(),y=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let r=new Int32Array(n.getRowCount());for(let s of this.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(n){let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.getCodewords(),h=-1;for(let p=l;p<c;p++){if(d[p]==null)continue;let y=d[p];y.setRowNumberAsRowIndicatorColumn();let A=y.getRowNumber()-h;A===0||(A===1?h=y.getRowNumber():y.getRowNumber()>=n.getRowCount()?d[p]=null:h=y.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),r=new Ds,s=new Ds,o=new Ds,l=new Ds;for(let d of n){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<xe.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>xe.MAX_ROWS_IN_BARCODE)return null;let c=new Yg(r.getValue()[0],s.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(n,c),c}removeIncorrectCodewords(n,r){for(let s=0;s<n.length;s++){let o=n[s];if(n[s]==null)continue;let l=o.getValue()%30,c=o.getRowNumber();if(c>r.getRowCount()){n[s]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(n[s]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(n[s]=null);break;case 2:l+1!==r.getColumnCount()&&(n[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ls{constructor(n,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=xe.MAX_CODEWORDS_IN_BARCODE,r;do r=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let s=this.detectionResultColumns[r].getCodewords();for(let o=0;o<s.length;o++)s[o]!=null&&(s[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,s))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<n.length;s++)if(n[s]!=null&&r[s]!=null&&n[s].getRowNumber()===r[s].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[s];l!=null&&(l.setRowNumber(n[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let d=this.detectionResultColumns[c].getCodewords()[s];d!=null&&(l=Ls.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,r=this.detectionResultColumns[0].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let d=this.detectionResultColumns[c].getCodewords()[s];d!=null&&(l=Ls.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(n)?(s.setRowNumber(n),r=0):++r),r}adjustRowNumbers(n,r,s){if(!this.detectionResultColumns[n-1])return;let o=s[r],l=this.detectionResultColumns[n-1].getCodewords(),c=l;this.detectionResultColumns[n+1]!=null&&(c=this.detectionResultColumns[n+1].getCodewords());let d=new Array(14);d[2]=l[r],d[3]=c[r],r>0&&(d[0]=s[r-1],d[4]=l[r-1],d[5]=c[r-1]),r>1&&(d[8]=s[r-2],d[10]=l[r-2],d[11]=c[r-2]),r<s.length-1&&(d[1]=s[r+1],d[6]=l[r+1],d[7]=c[r+1]),r<s.length-2&&(d[9]=s[r+2],d[12]=l[r+2],d[13]=c[r+2]);for(let h of d)if(Ls.adjustRowNumber(o,h))return}static adjustRowNumber(n,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===n.getBucket()?(n.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,r){this.detectionResultColumns[n]=r}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Os;for(let s=0;s<n.getCodewords().length;s++){r.format("CW %3d:",s);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[s];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class ks{constructor(n,r,s,o){this.rowNumber=ks.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==ks.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}ks.BARCODE_ROW_UNKNOWN=-1;class tn{static initialize(){for(let n=0;n<xe.SYMBOL_TABLE.length;n++){let r=xe.SYMBOL_TABLE[n],s=r&1;for(let o=0;o<xe.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===s;)l+=1,r>>=1;s=r&1,tn.RATIOS_TABLE[n]||(tn.RATIOS_TABLE[n]=new Array(xe.BARS_IN_MODULE)),tn.RATIOS_TABLE[n][xe.BARS_IN_MODULE-o-1]=Math.fround(l/xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let r=tn.getDecodedCodewordValue(tn.sampleBitCounts(n));return r!==-1?r:tn.getClosestDecodedValue(n)}static sampleBitCounts(n){let r=be.sum(n),s=new Int32Array(xe.BARS_IN_MODULE),o=0,l=0;for(let c=0;c<xe.MODULES_IN_CODEWORD;c++){let d=r/(2*xe.MODULES_IN_CODEWORD)+c*r/xe.MODULES_IN_CODEWORD;l+n[o]<=d&&(l+=n[o],o++),s[o]++}return s}static getDecodedCodewordValue(n){let r=tn.getBitValue(n);return xe.getCodeword(r)===-1?-1:r}static getBitValue(n){let r=0;for(let s=0;s<n.length;s++)for(let o=0;o<n[s];o++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(n){let r=be.sum(n),s=new Array(xe.BARS_IN_MODULE);if(r>1)for(let c=0;c<s.length;c++)s[c]=Math.fround(n[c]/r);let o=Po.MAX_VALUE,l=-1;this.bSymbolTableReady||tn.initialize();for(let c=0;c<tn.RATIOS_TABLE.length;c++){let d=0,h=tn.RATIOS_TABLE[c];for(let p=0;p<xe.BARS_IN_MODULE;p++){let y=Math.fround(h[p]-s[p]);if(d+=Math.fround(y*y),d>=o)break}d<o&&(o=d,l=xe.SYMBOL_TABLE[c])}return l}}tn.bSymbolTableReady=!1,tn.RATIOS_TABLE=new Array(xe.SYMBOL_TABLE.length).map(E=>new Array(xe.BARS_IN_MODULE));class Z1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class K1{static parseLong(n,r=void 0){return parseInt(n,r)}}class q1 extends m{}q1.kind="NullPointerException";class Xg{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,r,s){if(n==null)throw new q1;if(r<0||r>n.length||s<0||r+s>n.length||r+s<0)throw new W;if(s===0)return;for(let o=0;o<s;o++)this.write(n[r+o])}flush(){}close(){}}class Qg extends m{}class Zg extends Xg{constructor(n=32){if(super(),this.count=0,n<0)throw new v("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let s=this.buf.length<<1;if(s-n<0&&(s=n),s<0){if(n<0)throw new Qg;s=O.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,s)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,r,s){if(r<0||r>n.length||s<0||r+s-n.length>0)throw new W;this.ensureCapacity(this.count+s),k.arraycopy(n,r,this.buf,this.count,s),this.count+=s}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Ue;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ue||(Ue={}));function $1(){if(typeof window<"u")return window.BigInt||null;if(typeof Fs<"u")return Fs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Vo;function Rr(E){if(typeof Vo>"u"&&(Vo=$1()),Vo===null)throw new Error("BigInt is not supported!");return Vo(E)}function Kg(){let E=[];E[0]=Rr(1);let n=Rr(900);E[1]=n;for(let r=2;r<16;r++)E[r]=E[r-1]*n;return E}class V{static decode(n,r){let s=new ye(""),o=X.ISO8859_1;s.enableDecoding(o);let l=1,c=n[l++],d=new Z1;for(;l<n[0];){switch(c){case V.TEXT_COMPACTION_MODE_LATCH:l=V.textCompaction(n,l,s);break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:l=V.byteCompaction(c,n,o,l,s);break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[l++]);break;case V.NUMERIC_COMPACTION_MODE_LATCH:l=V.numericCompaction(n,l,s);break;case V.ECI_CHARSET:X.getCharacterSetECIByValue(n[l++]);break;case V.ECI_GENERAL_PURPOSE:l+=2;break;case V.ECI_USER_DEFINED:l++;break;case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=V.decodeMacroBlock(n,l,d);break;case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:throw new z;default:l--,l=V.textCompaction(n,l,s);break}if(l<n.length)c=n[l++];else throw z.getFormatInstance()}if(s.length()===0)throw z.getFormatInstance();let h=new _s(null,s.toString(),null,r);return h.setOther(d),h}static decodeMacroBlock(n,r,s){if(r+V.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw z.getFormatInstance();let o=new Int32Array(V.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<V.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)o[d]=n[r];s.setSegmentIndex(O.parseInt(V.decodeBase900toBase10(o,V.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new ye;r=V.textCompaction(n,r,l),s.setFileId(l.toString());let c=-1;for(n[r]===V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<n[0];)switch(n[r]){case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,n[r]){case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new ye;r=V.textCompaction(n,r+1,d),s.setFileName(d.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new ye;r=V.textCompaction(n,r+1,h),s.setSender(h.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new ye;r=V.textCompaction(n,r+1,p),s.setAddressee(p.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new ye;r=V.numericCompaction(n,r+1,y),s.setSegmentCount(O.parseInt(y.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new ye;r=V.numericCompaction(n,r+1,A),s.setTimestamp(K1.parseLong(A.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new ye;r=V.numericCompaction(n,r+1,S),s.setChecksum(O.parseInt(S.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let b=new ye;r=V.numericCompaction(n,r+1,b),s.setFileSize(K1.parseLong(b.toString()));break;default:throw z.getFormatInstance()}break;case V.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(c!==-1){let d=r-c;s.isLastSegment()&&d--,s.setOptionalData(_.copyOfRange(n,c,c+d))}return r}static textCompaction(n,r,s){let o=new Int32Array((n[0]-r)*2),l=new Int32Array((n[0]-r)*2),c=0,d=!1;for(;r<n[0]&&!d;){let h=n[r++];if(h<V.TEXT_COMPACTION_MODE_LATCH)o[c]=h/30,o[c+1]=h%30,c+=2;else switch(h){case V.TEXT_COMPACTION_MODE_LATCH:o[c++]=V.TEXT_COMPACTION_MODE_LATCH;break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[c]=V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=n[r++],l[c]=h,c++;break}}return V.decodeTextCompaction(o,l,c,s),r}static decodeTextCompaction(n,r,s,o){let l=Ue.ALPHA,c=Ue.ALPHA,d=0;for(;d<s;){let h=n[d],p="";switch(l){case Ue.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case V.LL:l=Ue.LOWER;break;case V.ML:l=Ue.MIXED;break;case V.PS:c=l,l=Ue.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case V.AS:c=l,l=Ue.ALPHA_SHIFT;break;case V.ML:l=Ue.MIXED;break;case V.PS:c=l,l=Ue.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.MIXED:if(h<V.PL)p=V.MIXED_CHARS[h];else switch(h){case V.PL:l=Ue.PUNCT;break;case 26:p=" ";break;case V.LL:l=Ue.LOWER;break;case V.AL:l=Ue.ALPHA;break;case V.PS:c=l,l=Ue.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.PUNCT:if(h<V.PAL)p=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=Ue.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.ALPHA_SHIFT:if(l=c,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.PUNCT_SHIFT:if(l=c,h<V.PAL)p=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=Ue.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break}p!==""&&o.append(p),d++}}static byteCompaction(n,r,s,o,l){let c=new Zg,d=0,h=0,p=!1;switch(n){case V.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),A=r[o++];for(;o<r[0]&&!p;)switch(y[d++]=A,h=900*h+A,A=r[o++],A){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:o--,p=!0;break;default:if(d%5===0&&d>0){for(let S=0;S<6;++S)c.write(Number(Rr(h)>>Rr(8*(5-S))));h=0,d=0}break}o===r[0]&&A<V.TEXT_COMPACTION_MODE_LATCH&&(y[d++]=A);for(let S=0;S<d;S++)c.write(y[S]);break;case V.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!p;){let S=r[o++];if(S<V.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+S;else switch(S){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:o--,p=!0;break}if(d%5===0&&d>0){for(let b=0;b<6;++b)c.write(Number(Rr(h)>>Rr(8*(5-b))));h=0,d=0}}break}return l.append(Ie.decode(c.toByteArray(),s)),o}static numericCompaction(n,r,s){let o=0,l=!1,c=new Int32Array(V.MAX_NUMERIC_CODEWORDS);for(;r<n[0]&&!l;){let d=n[r++];if(r===n[0]&&(l=!0),d<V.TEXT_COMPACTION_MODE_LATCH)c[o]=d,o++;else switch(d){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%V.MAX_NUMERIC_CODEWORDS===0||d===V.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(s.append(V.decodeBase900toBase10(c,o)),o=0)}return r}static decodeBase900toBase10(n,r){let s=Rr(0);for(let l=0;l<r;l++)s+=V.EXP900[r-l-1]*Rr(n[l]);let o=s.toString();if(o.charAt(0)!=="1")throw new z;return o.substring(1)}}V.TEXT_COMPACTION_MODE_LATCH=900,V.BYTE_COMPACTION_MODE_LATCH=901,V.NUMERIC_COMPACTION_MODE_LATCH=902,V.BYTE_COMPACTION_MODE_LATCH_6=924,V.ECI_USER_DEFINED=925,V.ECI_GENERAL_PURPOSE=926,V.ECI_CHARSET=927,V.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,V.MACRO_PDF417_TERMINATOR=922,V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,V.MAX_NUMERIC_CODEWORDS=15,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,V.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,V.PL=25,V.LL=27,V.AS=27,V.ML=28,V.AL=28,V.PS=29,V.PAL=29,V.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,V.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",V.EXP900=$1()?Kg():[],V.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ae{constructor(){}static decode(n,r,s,o,l,c,d){let h=new fi(n,r,s,o,l),p=null,y=null,A;for(let D=!0;;D=!1){if(r!=null&&(p=Ae.getRowIndicatorColumn(n,h,r,!0,c,d)),o!=null&&(y=Ae.getRowIndicatorColumn(n,h,o,!1,c,d)),A=Ae.merge(p,y),A==null)throw Y.getNotFoundInstance();let L=A.getBoundingBox();if(D&&L!=null&&(L.getMinY()<h.getMinY()||L.getMaxY()>h.getMaxY()))h=L;else break}A.setBoundingBox(h);let S=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,p),A.setDetectionResultColumn(S,y);let b=p!=null;for(let D=1;D<=S;D++){let L=b?D:S-D;if(A.getDetectionResultColumn(L)!==void 0)continue;let P;L===0||L===S?P=new Q1(h,L===0):P=new Rs(h),A.setDetectionResultColumn(L,P);let G=-1,te=G;for(let ne=h.getMinY();ne<=h.getMaxY();ne++){if(G=Ae.getStartColumn(A,L,ne,b),G<0||G>h.getMaxX()){if(te===-1)continue;G=te}let $=Ae.detectCodeword(n,h.getMinX(),h.getMaxX(),b,G,ne,c,d);$!=null&&(P.setCodeword(ne,$),te=G,c=Math.min(c,$.getWidth()),d=Math.max(d,$.getWidth()))}}return Ae.createDecoderResult(A)}static merge(n,r){if(n==null&&r==null)return null;let s=Ae.getBarcodeMetadata(n,r);if(s==null)return null;let o=fi.merge(Ae.adjustBoundingBox(n),Ae.adjustBoundingBox(r));return new Ls(s,o)}static adjustBoundingBox(n){if(n==null)return null;let r=n.getRowHeights();if(r==null)return null;let s=Ae.getMax(r),o=0;for(let d of r)if(o+=s-d,d>0)break;let l=n.getCodewords();for(let d=0;o>0&&l[d]==null;d++)o--;let c=0;for(let d=r.length-1;d>=0&&(c+=s-r[d],!(r[d]>0));d--);for(let d=l.length-1;c>0&&l[d]==null;d--)c--;return n.getBoundingBox().addMissingRows(o,c,n.isLeft())}static getMax(n){let r=-1;for(let s of n)r=Math.max(r,s);return r}static getBarcodeMetadata(n,r){let s;if(n==null||(s=n.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==o.getColumnCount()&&s.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&s.getRowCount()!==o.getRowCount()?null:s}static getRowIndicatorColumn(n,r,s,o,l,c){let d=new Q1(r,o);for(let h=0;h<2;h++){let p=h===0?1:-1,y=Math.trunc(Math.trunc(s.getX()));for(let A=Math.trunc(Math.trunc(s.getY()));A<=r.getMaxY()&&A>=r.getMinY();A+=p){let S=Ae.detectCodeword(n,0,n.getWidth(),o,y,A,l,c);S!=null&&(d.setCodeword(A,S),o?y=S.getStartX():y=S.getEndX())}}return d}static adjustCodewordCount(n,r){let s=r[0][1],o=s.getValue(),l=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Ae.getNumberOfECCodeWords(n.getBarcodeECLevel());if(o.length===0){if(l<1||l>xe.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();s.setValue(l)}else o[0]!==l&&s.setValue(l)}static createDecoderResult(n){let r=Ae.createBarcodeMatrix(n);Ae.adjustCodewordCount(n,r);let s=new Array,o=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),l=[],c=new Array;for(let h=0;h<n.getBarcodeRowCount();h++)for(let p=0;p<n.getBarcodeColumnCount();p++){let y=r[h][p+1].getValue(),A=h*n.getBarcodeColumnCount()+p;y.length===0?s.push(A):y.length===1?o[A]=y[0]:(c.push(A),l.push(y))}let d=new Array(l.length);for(let h=0;h<d.length;h++)d[h]=l[h];return Ae.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),o,xe.toIntArray(s),xe.toIntArray(c),d)}static createDecoderResultFromAmbiguousValues(n,r,s,o,l){let c=new Int32Array(o.length),d=100;for(;d-- >0;){for(let h=0;h<c.length;h++)r[o[h]]=l[h][c[h]];try{return Ae.decodeCodewords(r,n,s)}catch(h){if(!(h instanceof R))throw h}if(c.length===0)throw R.getChecksumInstance();for(let h=0;h<c.length;h++)if(c[h]<l[h].length-1){c[h]++;break}else if(c[h]=0,h===c.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(n){let r=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new Ds;let s=0;for(let o of n.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=r.length)continue;r[c][s].setValue(l.getValue())}}}s++}return r}static isValidBarcodeColumn(n,r){return r>=0&&r<=n.getBarcodeColumnCount()+1}static getStartColumn(n,r,s,o){let l=o?1:-1,c=null;if(Ae.isValidBarcodeColumn(n,r-l)&&(c=n.getDetectionResultColumn(r-l).getCodeword(s)),c!=null)return o?c.getEndX():c.getStartX();if(c=n.getDetectionResultColumn(r).getCodewordNearby(s),c!=null)return o?c.getStartX():c.getEndX();if(Ae.isValidBarcodeColumn(n,r-l)&&(c=n.getDetectionResultColumn(r-l).getCodewordNearby(s)),c!=null)return o?c.getEndX():c.getStartX();let d=0;for(;Ae.isValidBarcodeColumn(n,r-l);){r-=l;for(let h of n.getDetectionResultColumn(r).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+l*d*(h.getEndX()-h.getStartX());d++}return o?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,r,s,o,l,c,d,h){l=Ae.adjustCodewordStartColumn(n,r,s,o,l,c);let p=Ae.getModuleBitCount(n,r,s,o,l,c);if(p==null)return null;let y,A=be.sum(p);if(o)y=l+A;else{for(let D=0;D<p.length/2;D++){let L=p[D];p[D]=p[p.length-1-D],p[p.length-1-D]=L}y=l,l=y-A}if(!Ae.checkCodewordSkew(A,d,h))return null;let S=tn.getDecodedValue(p),b=xe.getCodeword(S);return b===-1?null:new ks(l,y,Ae.getCodewordBucketNumber(S),b)}static getModuleBitCount(n,r,s,o,l,c){let d=l,h=new Int32Array(8),p=0,y=o?1:-1,A=o;for(;(o?d<s:d>=r)&&p<h.length;)n.get(d,c)===A?(h[p]++,d+=y):(p++,A=!A);return p===h.length||d===(o?s:r)&&p===h.length-1?h:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,r,s,o,l,c){let d=l,h=o?-1:1;for(let p=0;p<2;p++){for(;(o?d>=r:d<s)&&o===n.get(d,c);){if(Math.abs(l-d)>Ae.CODEWORD_SKEW_SIZE)return l;d+=h}h=-h,o=!o}return d}static checkCodewordSkew(n,r,s){return r-Ae.CODEWORD_SKEW_SIZE<=n&&n<=s+Ae.CODEWORD_SKEW_SIZE}static decodeCodewords(n,r,s){if(n.length===0)throw z.getFormatInstance();let o=1<<r+1,l=Ae.correctErrors(n,s,o);Ae.verifyCodewordCount(n,o);let c=V.decode(n,""+r);return c.setErrorsCorrected(l),c.setErasures(s.length),c}static correctErrors(n,r,s){if(r!=null&&r.length>s/2+Ae.MAX_ERRORS||s<0||s>Ae.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return Ae.errorCorrection.decode(n,s,r)}static verifyCodewordCount(n,r){if(n.length<4)throw z.getFormatInstance();let s=n[0];if(s>n.length)throw z.getFormatInstance();if(s===0)if(r<n.length)n[0]=n.length-r;else throw z.getFormatInstance()}static getBitCountForCodeword(n){let r=new Int32Array(8),s=0,o=r.length-1;for(;!((n&1)!==s&&(s=n&1,o--,o<0));)r[o]++,n>>=1;return r}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Ae.getCodewordBucketNumber(Ae.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let r=new Os;for(let s=0;s<n.length;s++){r.format("Row %2d: ",s);for(let o=0;o<n[s].length;o++){let l=n[s][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ae.CODEWORD_SKEW_SIZE=2,Ae.MAX_ERRORS=3,Ae.MAX_EC_CODEWORDS=512,Ae.errorCorrection=new X1;class Rt{decode(n,r=null){let s=Rt.decode(n,r,!1);if(s==null||s.length===0||s[0]==null)throw Y.getNotFoundInstance();return s[0]}decodeMultiple(n,r=null){try{return Rt.decode(n,r,!0)}catch(s){throw s instanceof z||s instanceof R?Y.getNotFoundInstance():s}}static decode(n,r,s){const o=new Array,l=Ee.detectMultiple(n,r,s);for(const c of l.getPoints()){const d=Ae.decode(l.getBits(),c[4],c[5],c[6],c[7],Rt.getMinCodewordWidth(c),Rt.getMaxCodewordWidth(c)),h=new je(d.getText(),d.getRawBytes(),void 0,c,ue.PDF_417);h.putMetadata(St.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&h.putMetadata(St.PDF417_EXTRA_METADATA,p),o.push(h)}return o.map(c=>c)}static getMaxWidth(n,r){return n==null||r==null?0:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMinWidth(n,r){return n==null||r==null?O.MAX_VALUE:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Rt.getMaxWidth(n[0],n[4]),Rt.getMaxWidth(n[6],n[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.max(Rt.getMaxWidth(n[1],n[5]),Rt.getMaxWidth(n[7],n[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Rt.getMinWidth(n[0],n[4]),Rt.getMinWidth(n[6],n[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.min(Rt.getMinWidth(n[1],n[5]),Rt.getMinWidth(n[7],n[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Go extends m{}Go.kind="ReaderException";class J1{constructor(n,r){this.verbose=n===!0,r&&this.setHints(r)}decode(n,r){return r&&this.setHints(r),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const r=!a(n)&&n.get(q.TRY_HARDER)===!0,s=a(n)?null:n.get(q.POSSIBLE_FORMATS),o=new Array;if(!a(s)){const l=s.some(c=>c===ue.UPC_A||c===ue.UPC_E||c===ue.EAN_13||c===ue.EAN_8||c===ue.CODABAR||c===ue.CODE_39||c===ue.CODE_93||c===ue.CODE_128||c===ue.ITF||c===ue.RSS_14||c===ue.RSS_EXPANDED);l&&!r&&o.push(new Fi(n,this.verbose)),s.includes(ue.QR_CODE)&&o.push(new Or),s.includes(ue.DATA_MATRIX)&&o.push(new Mr),s.includes(ue.AZTEC)&&o.push(new jo),s.includes(ue.PDF_417)&&o.push(new Rt),l&&r&&o.push(new Fi(n,this.verbose))}o.length===0&&(r||o.push(new Fi(n,this.verbose)),o.push(new Or),o.push(new Mr),o.push(new jo),o.push(new Rt),r&&o.push(new Fi(n,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Go("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(n,this.hints)}catch(s){if(s instanceof Go)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class qg extends vt{constructor(n=null,r=500){const s=new J1;s.setHints(n),super(s,r)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class $g extends vt{constructor(n=500){super(new Rt,n)}}class Jg extends vt{constructor(n=500){super(new Or,n)}}var Yl;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(Yl||(Yl={}));var yt=Yl;class Xl{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new $t(n,Int32Array.from([1])))}buildGenerator(n){const r=this.cachedGenerators;if(n>=r.length){let s=r[r.length-1];const o=this.field;for(let l=r.length;l<=n;l++){const c=s.multiply(new $t(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(c),s=c}}return r[n]}encode(n,r){if(r===0)throw new v("No error correction bytes");const s=n.length-r;if(s<=0)throw new v("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(s);k.arraycopy(n,0,l,0,s);let c=new $t(this.field,l);c=c.multiplyByMonomial(r,1);const h=c.divide(o)[1].getCoefficients(),p=r-h.length;for(let y=0;y<p;y++)n[s+y]=0;k.arraycopy(h,0,n,s+p,h.length)}}class ot{constructor(){}static applyMaskPenaltyRule1(n){return ot.applyMaskPenaltyRule1Internal(n,!0)+ot.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let r=0;const s=n.getArray(),o=n.getWidth(),l=n.getHeight();for(let c=0;c<l-1;c++){const d=s[c];for(let h=0;h<o-1;h++){const p=d[h];p===d[h+1]&&p===s[c+1][h]&&p===s[c+1][h+1]&&r++}}return ot.N2*r}static applyMaskPenaltyRule3(n){let r=0;const s=n.getArray(),o=n.getWidth(),l=n.getHeight();for(let c=0;c<l;c++)for(let d=0;d<o;d++){const h=s[c];d+6<o&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(ot.isWhiteHorizontal(h,d-4,d)||ot.isWhiteHorizontal(h,d+7,d+11))&&r++,c+6<l&&s[c][d]===1&&s[c+1][d]===0&&s[c+2][d]===1&&s[c+3][d]===1&&s[c+4][d]===1&&s[c+5][d]===0&&s[c+6][d]===1&&(ot.isWhiteVertical(s,d,c-4,c)||ot.isWhiteVertical(s,d,c+7,c+11))&&r++}return r*ot.N3}static isWhiteHorizontal(n,r,s){r=Math.max(r,0),s=Math.min(s,n.length);for(let o=r;o<s;o++)if(n[o]===1)return!1;return!0}static isWhiteVertical(n,r,s,o){s=Math.max(s,0),o=Math.min(o,n.length);for(let l=s;l<o;l++)if(n[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let r=0;const s=n.getArray(),o=n.getWidth(),l=n.getHeight();for(let h=0;h<l;h++){const p=s[h];for(let y=0;y<o;y++)p[y]===1&&r++}const c=n.getHeight()*n.getWidth();return Math.floor(Math.abs(r*2-c)*10/c)*ot.N4}static getDataMaskBit(n,r,s){let o,l;switch(n){case 0:o=s+r&1;break;case 1:o=s&1;break;case 2:o=r%3;break;case 3:o=(s+r)%3;break;case 4:o=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:l=s*r,o=(l&1)+l%3;break;case 6:l=s*r,o=(l&1)+l%3&1;break;case 7:l=s*r,o=l%3+(s+r&1)&1;break;default:throw new v("Invalid mask pattern: "+n)}return o===0}static applyMaskPenaltyRule1Internal(n,r){let s=0;const o=r?n.getHeight():n.getWidth(),l=r?n.getWidth():n.getHeight(),c=n.getArray();for(let d=0;d<o;d++){let h=0,p=-1;for(let y=0;y<l;y++){const A=r?c[d][y]:c[y][d];A===p?h++:(h>=5&&(s+=ot.N1+(h-5)),h=1,p=A)}h>=5&&(s+=ot.N1+(h-5))}return s}}ot.N1=3,ot.N2=3,ot.N3=40,ot.N4=10;class Yo{constructor(n,r){this.width=n,this.height=r;const s=new Array(r);for(let o=0;o!==r;o++)s[o]=new Uint8Array(n);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(n,r){return this.bytes[r][n]}getArray(){return this.bytes}setNumber(n,r,s){this.bytes[r][n]=s}setBoolean(n,r,s){this.bytes[r][n]=s?1:0}clear(n){for(const r of this.bytes)_.fill(r,n)}equals(n){if(!(n instanceof Yo))return!1;const r=n;if(this.width!==r.width||this.height!==r.height)return!1;for(let s=0,o=this.height;s<o;++s){const l=this.bytes[s],c=r.bytes[s];for(let d=0,h=this.width;d<h;++d)if(l[d]!==c[d])return!1}return!0}toString(){const n=new ye;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r];for(let l=0,c=this.width;l<c;++l)switch(o[l]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class di{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new ye;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<di.NUM_MASK_PATTERNS}}di.NUM_MASK_PATTERNS=8;class We extends m{}We.kind="WriterException";class me{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,r,s,o,l){me.clearMatrix(l),me.embedBasicPatterns(s,l),me.embedTypeInfo(r,o,l),me.maybeEmbedVersionInfo(s,l),me.embedDataBits(n,o,l)}static embedBasicPatterns(n,r){me.embedPositionDetectionPatternsAndSeparators(r),me.embedDarkDotAtLeftBottomCorner(r),me.maybeEmbedPositionAdjustmentPatterns(n,r),me.embedTimingPatterns(r)}static embedTypeInfo(n,r,s){const o=new B;me.makeTypeInfoBits(n,r,o);for(let l=0,c=o.getSize();l<c;++l){const d=o.get(o.getSize()-1-l),h=me.TYPE_INFO_COORDINATES[l],p=h[0],y=h[1];if(s.setBoolean(p,y,d),l<8){const A=s.getWidth()-l-1,S=8;s.setBoolean(A,S,d)}else{const S=s.getHeight()-7+(l-8);s.setBoolean(8,S,d)}}}static maybeEmbedVersionInfo(n,r){if(n.getVersionNumber()<7)return;const s=new B;me.makeVersionInfoBits(n,s);let o=6*3-1;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const d=s.get(o);o--,r.setBoolean(l,r.getHeight()-11+c,d),r.setBoolean(r.getHeight()-11+c,l,d)}}static embedDataBits(n,r,s){let o=0,l=-1,c=s.getWidth()-1,d=s.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);d>=0&&d<s.getHeight();){for(let h=0;h<2;++h){const p=c-h;if(!me.isEmpty(s.get(p,d)))continue;let y;o<n.getSize()?(y=n.get(o),++o):y=!1,r!==255&&ot.getDataMaskBit(r,p,d)&&(y=!y),s.setBoolean(p,d,y)}d+=l}l=-l,d+=l,c-=2}if(o!==n.getSize())throw new We("Not all bits consumed: "+o+"/"+n.getSize())}static findMSBSet(n){return 32-O.numberOfLeadingZeros(n)}static calculateBCHCode(n,r){if(r===0)throw new v("0 polynomial");const s=me.findMSBSet(r);for(n<<=s-1;me.findMSBSet(n)>=s;)n^=r<<me.findMSBSet(n)-s;return n}static makeTypeInfoBits(n,r,s){if(!di.isValidMaskPattern(r))throw new We("Invalid mask pattern");const o=n.getBits()<<3|r;s.appendBits(o,5);const l=me.calculateBCHCode(o,me.TYPE_INFO_POLY);s.appendBits(l,10);const c=new B;if(c.appendBits(me.TYPE_INFO_MASK_PATTERN,15),s.xor(c),s.getSize()!==15)throw new We("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(n,r){r.appendBits(n.getVersionNumber(),6);const s=me.calculateBCHCode(n.getVersionNumber(),me.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new We("should not happen but we got: "+r.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let r=8;r<n.getWidth()-8;++r){const s=(r+1)%2;me.isEmpty(n.get(r,6))&&n.setNumber(r,6,s),me.isEmpty(n.get(6,r))&&n.setNumber(6,r,s)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new We;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,r,s){for(let o=0;o<8;++o){if(!me.isEmpty(s.get(n+o,r)))throw new We;s.setNumber(n+o,r,0)}}static embedVerticalSeparationPattern(n,r,s){for(let o=0;o<7;++o){if(!me.isEmpty(s.get(n,r+o)))throw new We;s.setNumber(n,r+o,0)}}static embedPositionAdjustmentPattern(n,r,s){for(let o=0;o<5;++o){const l=me.POSITION_ADJUSTMENT_PATTERN[o];for(let c=0;c<5;++c)s.setNumber(n+c,r+o,l[c])}}static embedPositionDetectionPattern(n,r,s){for(let o=0;o<7;++o){const l=me.POSITION_DETECTION_PATTERN[o];for(let c=0;c<7;++c)s.setNumber(n+c,r+o,l[c])}}static embedPositionDetectionPatternsAndSeparators(n){const r=me.POSITION_DETECTION_PATTERN[0].length;me.embedPositionDetectionPattern(0,0,n),me.embedPositionDetectionPattern(n.getWidth()-r,0,n),me.embedPositionDetectionPattern(0,n.getWidth()-r,n);const s=8;me.embedHorizontalSeparationPattern(0,s-1,n),me.embedHorizontalSeparationPattern(n.getWidth()-s,s-1,n),me.embedHorizontalSeparationPattern(0,n.getWidth()-s,n);const o=7;me.embedVerticalSeparationPattern(o,0,n),me.embedVerticalSeparationPattern(n.getHeight()-o-1,0,n),me.embedVerticalSeparationPattern(o,n.getHeight()-o,n)}static maybeEmbedPositionAdjustmentPatterns(n,r){if(n.getVersionNumber()<2)return;const s=n.getVersionNumber()-1,o=me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,c=o.length;l!==c;l++){const d=o[l];if(d>=0)for(let h=0;h!==c;h++){const p=o[h];p>=0&&me.isEmpty(r.get(p,d))&&me.embedPositionAdjustmentPattern(p-2,d-2,r)}}}}me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),me.VERSION_INFO_POLY=7973,me.TYPE_INFO_POLY=1335,me.TYPE_INFO_MASK_PATTERN=21522;class ep{constructor(n,r){this.dataBytes=n,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Qe{constructor(){}static calculateMaskPenalty(n){return ot.applyMaskPenaltyRule1(n)+ot.applyMaskPenaltyRule2(n)+ot.applyMaskPenaltyRule3(n)+ot.applyMaskPenaltyRule4(n)}static encode(n,r,s=null){let o=Qe.DEFAULT_BYTE_MODE_ENCODING;const l=s!==null&&s.get(yt.CHARACTER_SET)!==void 0;l&&(o=s.get(yt.CHARACTER_SET).toString());const c=this.chooseMode(n,o),d=new B;if(c===ge.BYTE&&(l||Qe.DEFAULT_BYTE_MODE_ENCODING!==o)){const ne=X.getCharacterSetECIByName(o);ne!==void 0&&this.appendECI(ne,d)}this.appendModeInfo(c,d);const h=new B;this.appendBytes(n,c,h,o);let p;if(s!==null&&s.get(yt.QR_VERSION)!==void 0){const ne=Number.parseInt(s.get(yt.QR_VERSION).toString(),10);p=de.getVersionForNumber(ne);const $=this.calculateBitsNeeded(c,d,h,p);if(!this.willFit($,p,r))throw new We("Data too big for requested version")}else p=this.recommendVersion(r,c,d,h);const y=new B;y.appendBitArray(d);const A=c===ge.BYTE?h.getSizeInBytes():n.length;this.appendLengthInfo(A,p,c,y),y.appendBitArray(h);const S=p.getECBlocksForLevel(r),b=p.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(b,y);const D=this.interleaveWithECBytes(y,p.getTotalCodewords(),b,S.getNumBlocks()),L=new di;L.setECLevel(r),L.setMode(c),L.setVersion(p);const P=p.getDimensionForVersion(),G=new Yo(P,P),te=this.chooseMaskPattern(D,r,p,G);return L.setMaskPattern(te),me.buildMatrix(D,r,p,te,G),L.setMatrix(G),L}static recommendVersion(n,r,s,o){const l=this.calculateBitsNeeded(r,s,o,de.getVersionForNumber(1)),c=this.chooseVersion(l,n),d=this.calculateBitsNeeded(r,s,o,c);return this.chooseVersion(d,n)}static calculateBitsNeeded(n,r,s,o){return r.getSize()+n.getCharacterCountBits(o)+s.getSize()}static getAlphanumericCode(n){return n<Qe.ALPHANUMERIC_TABLE.length?Qe.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,r=null){if(X.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(n))return ge.KANJI;let s=!1,o=!1;for(let l=0,c=n.length;l<c;++l){const d=n.charAt(l);if(Qe.isDigit(d))s=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)o=!0;else return ge.BYTE}return o?ge.ALPHANUMERIC:s?ge.NUMERIC:ge.BYTE}static isOnlyDoubleByteKanji(n){let r;try{r=Ie.encode(n,X.SJIS)}catch{return!1}const s=r.length;if(s%2!==0)return!1;for(let o=0;o<s;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(n,r,s,o){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let d=0;d<di.NUM_MASK_PATTERNS;d++){me.buildMatrix(n,r,s,d,o);let h=this.calculateMaskPenalty(o);h<l&&(l=h,c=d)}return c}static chooseVersion(n,r){for(let s=1;s<=40;s++){const o=de.getVersionForNumber(s);if(Qe.willFit(n,o,r))return o}throw new We("Data too big")}static willFit(n,r,s){const o=r.getTotalCodewords(),c=r.getECBlocksForLevel(s).getTotalECCodewords(),d=o-c,h=(n+7)/8;return d>=h}static terminateBits(n,r){const s=n*8;if(r.getSize()>s)throw new We("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(let c=0;c<4&&r.getSize()<s;++c)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let c=o;c<8;c++)r.appendBit(!1);const l=n-r.getSizeInBytes();for(let c=0;c<l;++c)r.appendBits(c&1?17:236,8);if(r.getSize()!==s)throw new We("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,r,s,o,l,c){if(o>=s)throw new We("Block ID too large");const d=n%s,h=s-d,p=Math.floor(n/s),y=p+1,A=Math.floor(r/s),S=A+1,b=p-A,D=y-S;if(b!==D)throw new We("EC bytes mismatch");if(s!==h+d)throw new We("RS blocks mismatch");if(n!==(A+b)*h+(S+D)*d)throw new We("Total bytes mismatch");o<h?(l[0]=A,c[0]=b):(l[0]=S,c[0]=D)}static interleaveWithECBytes(n,r,s,o){if(n.getSizeInBytes()!==s)throw new We("Number of bits and data bytes does not match");let l=0,c=0,d=0;const h=new Array;for(let y=0;y<o;++y){const A=new Int32Array(1),S=new Int32Array(1);Qe.getNumDataBytesAndNumECBytesForBlockID(r,s,o,y,A,S);const b=A[0],D=new Uint8Array(b);n.toBytes(8*l,D,0,b);const L=Qe.generateECBytes(D,S[0]);h.push(new ep(D,L)),c=Math.max(c,b),d=Math.max(d,L.length),l+=A[0]}if(s!==l)throw new We("Data bytes does not match offset");const p=new B;for(let y=0;y<c;++y)for(const A of h){const S=A.getDataBytes();y<S.length&&p.appendBits(S[y],8)}for(let y=0;y<d;++y)for(const A of h){const S=A.getErrorCorrectionBytes();y<S.length&&p.appendBits(S[y],8)}if(r!==p.getSizeInBytes())throw new We("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(n,r){const s=n.length,o=new Int32Array(s+r);for(let c=0;c<s;c++)o[c]=n[c]&255;new Xl(Re.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let c=0;c<r;c++)l[c]=o[s+c];return l}static appendModeInfo(n,r){r.appendBits(n.getBits(),4)}static appendLengthInfo(n,r,s,o){const l=s.getCharacterCountBits(r);if(n>=1<<l)throw new We(n+" is bigger than "+((1<<l)-1));o.appendBits(n,l)}static appendBytes(n,r,s,o){switch(r){case ge.NUMERIC:Qe.appendNumericBytes(n,s);break;case ge.ALPHANUMERIC:Qe.appendAlphanumericBytes(n,s);break;case ge.BYTE:Qe.append8BitBytes(n,s,o);break;case ge.KANJI:Qe.appendKanjiBytes(n,s);break;default:throw new We("Invalid mode: "+r)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const r=Qe.getDigit(n);return r>=0&&r<=9}static appendNumericBytes(n,r){const s=n.length;let o=0;for(;o<s;){const l=Qe.getDigit(n.charAt(o));if(o+2<s){const c=Qe.getDigit(n.charAt(o+1)),d=Qe.getDigit(n.charAt(o+2));r.appendBits(l*100+c*10+d,10),o+=3}else if(o+1<s){const c=Qe.getDigit(n.charAt(o+1));r.appendBits(l*10+c,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(n,r){const s=n.length;let o=0;for(;o<s;){const l=Qe.getAlphanumericCode(n.charCodeAt(o));if(l===-1)throw new We;if(o+1<s){const c=Qe.getAlphanumericCode(n.charCodeAt(o+1));if(c===-1)throw new We;r.appendBits(l*45+c,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(n,r,s){let o;try{o=Ie.encode(n,s)}catch(l){throw new We(l)}for(let l=0,c=o.length;l!==c;l++){const d=o[l];r.appendBits(d,8)}}static appendKanjiBytes(n,r){let s;try{s=Ie.encode(n,X.SJIS)}catch(l){throw new We(l)}const o=s.length;for(let l=0;l<o;l+=2){const c=s[l]&255,d=s[l+1]&255,h=c<<8&4294967295|d;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new We("Invalid byte sequence");const y=(p>>8)*192+(p&255);r.appendBits(y,13)}}static appendECI(n,r){r.appendBits(ge.ECI.getBits(),4),r.appendBits(n.getValue(),8)}}Qe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Qe.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class hi{write(n,r,s,o=null){if(n.length===0)throw new v("Found empty contents");if(r<0||s<0)throw new v("Requested dimensions are too small: "+r+"x"+s);let l=Ye.L,c=hi.QUIET_ZONE_SIZE;o!==null&&(o.get(yt.ERROR_CORRECTION)!==void 0&&(l=Ye.fromString(o.get(yt.ERROR_CORRECTION).toString())),o.get(yt.MARGIN)!==void 0&&(c=Number.parseInt(o.get(yt.MARGIN).toString(),10)));const d=Qe.encode(n,l,o);return this.renderResult(d,r,s,c)}writeToDom(n,r,s,o,l=null){typeof n=="string"&&(n=document.querySelector(n));const c=this.write(r,s,o,l);n&&n.appendChild(c)}renderResult(n,r,s,o){const l=n.getMatrix();if(l===null)throw new Qn;const c=l.getWidth(),d=l.getHeight(),h=c+o*2,p=d+o*2,y=Math.max(r,h),A=Math.max(s,p),S=Math.min(Math.floor(y/h),Math.floor(A/p)),b=Math.floor((y-c*S)/2),D=Math.floor((A-d*S)/2),L=this.createSVGElement(y,A);for(let P=0,G=D;P<d;P++,G+=S)for(let te=0,ne=b;te<c;te++,ne+=S)if(l.get(te,P)===1){const $=this.createSvgRectElement(ne,G,S,S);L.appendChild($)}return L}createSVGElement(n,r){const s=document.createElementNS(hi.SVG_NS,"svg");return s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",r.toString()),s}createSvgRectElement(n,r,s,o){const l=document.createElementNS(hi.SVG_NS,"rect");return l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}hi.QUIET_ZONE_SIZE=4,hi.SVG_NS="http://www.w3.org/2000/svg";class Ui{encode(n,r,s,o,l){if(n.length===0)throw new v("Found empty contents");if(r!==ue.QR_CODE)throw new v("Can only encode QR_CODE, but got "+r);if(s<0||o<0)throw new v(`Requested dimensions are too small: ${s}x${o}`);let c=Ye.L,d=Ui.QUIET_ZONE_SIZE;l!==null&&(l.get(yt.ERROR_CORRECTION)!==void 0&&(c=Ye.fromString(l.get(yt.ERROR_CORRECTION).toString())),l.get(yt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(yt.MARGIN).toString(),10)));const h=Qe.encode(n,c,l);return Ui.renderResult(h,s,o,d)}static renderResult(n,r,s,o){const l=n.getMatrix();if(l===null)throw new Qn;const c=l.getWidth(),d=l.getHeight(),h=c+o*2,p=d+o*2,y=Math.max(r,h),A=Math.max(s,p),S=Math.min(Math.floor(y/h),Math.floor(A/p)),b=Math.floor((y-c*S)/2),D=Math.floor((A-d*S)/2),L=new Se(y,A);for(let P=0,G=D;P<d;P++,G+=S)for(let te=0,ne=b;te<c;te++,ne+=S)l.get(te,P)===1&&L.setRegion(ne,G,S,S);return L}}Ui.QUIET_ZONE_SIZE=4;class tp{encode(n,r,s,o,l){let c;switch(r){case ue.QR_CODE:c=new Ui;break;default:throw new v("No encoder available for format "+r)}return c.encode(n,r,s,o,l)}}class $n extends H{constructor(n,r,s,o,l,c,d,h){if(super(c,d),this.yuvData=n,this.dataWidth=r,this.dataHeight=s,this.left=o,this.top=l,o+c>r||l+d>s)throw new v("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(c,d)}getRow(n,r){if(n<0||n>=this.getHeight())throw new v("Requested row is outside the image: "+n);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(n+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,o,r,0,s),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;const s=n*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return k.arraycopy(this.yuvData,l,o,0,s),o;for(let c=0;c<r;c++){const d=c*n;k.arraycopy(this.yuvData,l,o,d,n),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(n,r,s,o){return new $n(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,s,o,!1)}renderThumbnail(){const n=this.getWidth()/$n.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/$n.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(n*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<r;c++){const d=c*n;for(let h=0;h<n;h++){const p=o[l+h*$n.THUMBNAIL_SCALE_FACTOR]&255;s[d+h]=4278190080|p*65793}l+=this.dataWidth*$n.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/$n.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/$n.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,r){const s=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const c=l+n/2;for(let d=l,h=l+n-1;d<c;d++,h--){const p=s[d];s[d]=s[h],s[h]=p}}}invert(){return new ee(this)}}$n.THUMBNAIL_SCALE_FACTOR=2;class Ql extends H{constructor(n,r,s,o,l,c,d){if(super(r,s),this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=d,n.BYTES_PER_ELEMENT===4){const h=r*s,p=new Uint8ClampedArray(h);for(let y=0;y<h;y++){const A=n[y],S=A>>16&255,b=A>>7&510,D=A&255;p[y]=(S+b+D)/4&255}this.luminances=p}else this.luminances=n;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=s),c===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+s>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(n,r){if(n<0||n>=this.getHeight())throw new v("Requested row is outside the image: "+n);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(n+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,o,r,0,s),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;const s=n*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return k.arraycopy(this.luminances,l,o,0,s),o;for(let c=0;c<r;c++){const d=c*n;k.arraycopy(this.luminances,l,o,d,n),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(n,r,s,o){return new Ql(this.luminances,s,o,this.dataWidth,this.dataHeight,this.left+n,this.top+r)}invert(){return new ee(this)}}class e0 extends X{static forName(n){return this.getCharacterSetECIByName(n)}}class Zl{}Zl.ISO_8859_1=X.ISO8859_1;class t0{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class n0{static singletonList(n){return[n]}static min(n,r){return n.sort(r)[0]}}class np{constructor(n){this.previous=n}getPrevious(){return this.previous}}class zi extends np{constructor(n,r,s){super(n),this.value=r,this.bitCount=s}appendTo(n,r){n.appendBits(this.value,this.bitCount)}add(n,r){return new zi(this,n,r)}addBinaryShift(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new zi(this,n,r)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+O.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Kl extends zi{constructor(n,r,s){super(n,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=s}appendTo(n,r){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):s===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+s],8)}addBinaryShift(n,r){return new Kl(this,n,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function rp(E,n,r){return new Kl(E,n,r)}function Bs(E,n,r){return new zi(E,n,r)}const ip=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Dr=0,Xo=1,In=2,r0=3,Jn=4,sp=new zi(null,0,0),ql=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function op(E){for(let n of E)_.fill(n,-1);return E[Dr][Jn]=0,E[Xo][Jn]=0,E[Xo][Dr]=28,E[r0][Jn]=0,E[In][Jn]=0,E[In][Dr]=15,E}const i0=op(_.createInt32Array(6,6));class er{constructor(n,r,s,o){this.token=n,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,r){let s=this.bitCount,o=this.token;if(n!==this.mode){let c=ql[this.mode][n];o=Bs(o,c&65535,c>>16),s+=c>>16}let l=n===In?4:5;return o=Bs(o,r,l),new er(o,n,0,s+l)}shiftAndAppend(n,r){let s=this.token,o=this.mode===In?4:5;return s=Bs(s,i0[this.mode][n],o),s=Bs(s,r,5),new er(s,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(n){let r=this.token,s=this.mode,o=this.bitCount;if(this.mode===Jn||this.mode===In){let d=ql[s][Dr];r=Bs(r,d&65535,d>>16),o+=d>>16,s=Dr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new er(r,s,this.binaryShiftByteCount+1,o+l);return c.binaryShiftByteCount===2047+31&&(c=c.endBinaryShift(n+1)),c}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=rp(r,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new er(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let r=this.bitCount+(ql[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?r+=er.calculateBinaryShiftCost(n)-er.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(r+=10),r<=n.bitCount}toBitArray(n){let r=[];for(let o=this.endBinaryShift(n.length).token;o!==null;o=o.getPrevious())r.unshift(o);let s=new B;for(const o of r)o.appendTo(s,n);return s}toString(){return oe.format("%s bits=%d bytes=%d",ip[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}er.INITIAL_STATE=new er(sp,Dr,0,0);function ap(E){const n=oe.getCharCode(" "),r=oe.getCharCode("."),s=oe.getCharCode(",");E[Dr][n]=1;const o=oe.getCharCode("Z"),l=oe.getCharCode("A");for(let S=l;S<=o;S++)E[Dr][S]=S-l+2;E[Xo][n]=1;const c=oe.getCharCode("z"),d=oe.getCharCode("a");for(let S=d;S<=c;S++)E[Xo][S]=S-d+2;E[In][n]=1;const h=oe.getCharCode("9"),p=oe.getCharCode("0");for(let S=p;S<=h;S++)E[In][S]=S-p+2;E[In][s]=12,E[In][r]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let S=0;S<y.length;S++)E[r0][oe.getCharCode(y[S])]=S;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<A.length;S++)oe.getCharCode(A[S])>0&&(E[Jn][oe.getCharCode(A[S])]=S);return E}const $l=ap(_.createInt32Array(5,256));class Ps{constructor(n){this.text=n}encode(){const n=oe.getCharCode(" "),r=oe.getCharCode(`
`);let s=n0.singletonList(er.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case oe.getCharCode("\r"):c=d===r?2:0;break;case oe.getCharCode("."):c=d===n?3:0;break;case oe.getCharCode(","):c=d===n?4:0;break;case oe.getCharCode(":"):c=d===n?5:0;break;default:c=0}c>0?(s=Ps.updateStateListForPair(s,l,c),l++):s=this.updateStateListForChar(s,l)}return n0.min(s,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,r){const s=[];for(let o of n)this.updateStateForChar(o,r,s);return Ps.simplifyStates(s)}updateStateForChar(n,r,s){let o=this.text[r]&255,l=$l[n.getMode()][o]>0,c=null;for(let d=0;d<=Jn;d++){let h=$l[d][o];if(h>0){if(c==null&&(c=n.endBinaryShift(r)),!l||d===n.getMode()||d===In){const p=c.latchAndAppend(d,h);s.push(p)}if(!l&&i0[n.getMode()][d]>=0){const p=c.shiftAndAppend(d,h);s.push(p)}}}if(n.getBinaryShiftByteCount()>0||$l[n.getMode()][o]===0){let d=n.addBinaryShiftChar(r);s.push(d)}}static updateStateListForPair(n,r,s){const o=[];for(let l of n)this.updateStateForPair(l,r,s,o);return this.simplifyStates(o)}static updateStateForPair(n,r,s,o){let l=n.endBinaryShift(r);if(o.push(l.latchAndAppend(Jn,s)),n.getMode()!==Jn&&o.push(l.shiftAndAppend(Jn,s)),s===3||s===4){let c=l.latchAndAppend(In,16-s).latchAndAppend(In,1);o.push(c)}if(n.getBinaryShiftByteCount()>0){let c=n.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(c)}}static simplifyStates(n){let r=[];for(const s of n){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(s)){o=!1;break}s.isBetterThanOrEqualTo(l)&&(r=r.filter(c=>c!==l))}o&&r.push(s)}return r}}class Me{constructor(){}static encodeBytes(n){return Me.encode(n,Me.DEFAULT_EC_PERCENT,Me.DEFAULT_AZTEC_LAYERS)}static encode(n,r,s){let o=new Ps(n).encode(),l=O.truncDivision(o.getSize()*r,100)+11,c=o.getSize()+l,d,h,p,y,A;if(s!==Me.DEFAULT_AZTEC_LAYERS){if(d=s<0,h=Math.abs(s),h>(d?Me.MAX_NB_BITS_COMPACT:Me.MAX_NB_BITS))throw new v(oe.format("Illegal value %s for layers",s));p=Me.totalBitsInLayer(h,d),y=Me.WORD_SIZE[h];let $=p-p%y;if(A=Me.stuffBits(o,y),A.getSize()+l>$)throw new v("Data to large for user specified layer");if(d&&A.getSize()>y*64)throw new v("Data to large for user specified layer")}else{y=0,A=null;for(let $=0;;$++){if($>Me.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(d=$<=3,h=d?$+1:$,p=Me.totalBitsInLayer(h,d),c>p)continue;(A==null||y!==Me.WORD_SIZE[h])&&(y=Me.WORD_SIZE[h],A=Me.stuffBits(o,y));let _e=p-p%y;if(!(d&&A.getSize()>y*64)&&A.getSize()+l<=_e)break}}let S=Me.generateCheckWords(A,p,y),b=A.getSize()/y,D=Me.generateModeMessage(d,h,b),L=(d?11:14)+h*4,P=new Int32Array(L),G;if(d){G=L;for(let $=0;$<P.length;$++)P[$]=$}else{G=L+1+2*O.truncDivision(O.truncDivision(L,2)-1,15);let $=O.truncDivision(L,2),_e=O.truncDivision(G,2);for(let Ce=0;Ce<$;Ce++){let nn=Ce+O.truncDivision(Ce,15);P[$-Ce-1]=_e-nn-1,P[$+Ce]=_e+nn+1}}let te=new Se(G);for(let $=0,_e=0;$<h;$++){let Ce=(h-$)*4+(d?9:12);for(let nn=0;nn<Ce;nn++){let Pn=nn*2;for(let rn=0;rn<2;rn++)S.get(_e+Pn+rn)&&te.set(P[$*2+rn],P[$*2+nn]),S.get(_e+Ce*2+Pn+rn)&&te.set(P[$*2+nn],P[L-1-$*2-rn]),S.get(_e+Ce*4+Pn+rn)&&te.set(P[L-1-$*2-rn],P[L-1-$*2-nn]),S.get(_e+Ce*6+Pn+rn)&&te.set(P[L-1-$*2-nn],P[$*2+rn])}_e+=Ce*8}if(Me.drawModeMessage(te,d,G,D),d)Me.drawBullsEye(te,O.truncDivision(G,2),5);else{Me.drawBullsEye(te,O.truncDivision(G,2),7);for(let $=0,_e=0;$<O.truncDivision(L,2)-1;$+=15,_e+=16)for(let Ce=O.truncDivision(G,2)&1;Ce<G;Ce+=2)te.set(O.truncDivision(G,2)-_e,Ce),te.set(O.truncDivision(G,2)+_e,Ce),te.set(Ce,O.truncDivision(G,2)-_e),te.set(Ce,O.truncDivision(G,2)+_e)}let ne=new t0;return ne.setCompact(d),ne.setSize(G),ne.setLayers(h),ne.setCodeWords(b),ne.setMatrix(te),ne}static drawBullsEye(n,r,s){for(let o=0;o<s;o+=2)for(let l=r-o;l<=r+o;l++)n.set(l,r-o),n.set(l,r+o),n.set(r-o,l),n.set(r+o,l);n.set(r-s,r-s),n.set(r-s+1,r-s),n.set(r-s,r-s+1),n.set(r+s,r-s),n.set(r+s,r-s+1),n.set(r+s,r+s-1)}static generateModeMessage(n,r,s){let o=new B;return n?(o.appendBits(r-1,2),o.appendBits(s-1,6),o=Me.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(s-1,11),o=Me.generateCheckWords(o,40,4)),o}static drawModeMessage(n,r,s,o){let l=O.truncDivision(s,2);if(r)for(let c=0;c<7;c++){let d=l-3+c;o.get(c)&&n.set(d,l-5),o.get(c+7)&&n.set(l+5,d),o.get(20-c)&&n.set(d,l+5),o.get(27-c)&&n.set(l-5,d)}else for(let c=0;c<10;c++){let d=l-5+c+O.truncDivision(c,5);o.get(c)&&n.set(d,l-7),o.get(c+10)&&n.set(l+7,d),o.get(29-c)&&n.set(d,l+7),o.get(39-c)&&n.set(l-7,d)}}static generateCheckWords(n,r,s){let o=n.getSize()/s,l=new Xl(Me.getGF(s)),c=O.truncDivision(r,s),d=Me.bitsToWords(n,s,c);l.encode(d,c-o);let h=r%s,p=new B;p.appendBits(0,h);for(const y of Array.from(d))p.appendBits(y,s);return p}static bitsToWords(n,r,s){let o=new Int32Array(s),l,c;for(l=0,c=n.getSize()/r;l<c;l++){let d=0;for(let h=0;h<r;h++)d|=n.get(l*r+h)?1<<r-h-1:0;o[l]=d}return o}static getGF(n){switch(n){case 4:return Re.AZTEC_PARAM;case 6:return Re.AZTEC_DATA_6;case 8:return Re.AZTEC_DATA_8;case 10:return Re.AZTEC_DATA_10;case 12:return Re.AZTEC_DATA_12;default:throw new v("Unsupported word size "+n)}}static stuffBits(n,r){let s=new B,o=n.getSize(),l=(1<<r)-2;for(let c=0;c<o;c+=r){let d=0;for(let h=0;h<r;h++)(c+h>=o||n.get(c+h))&&(d|=1<<r-1-h);(d&l)===l?(s.appendBits(d&l,r),c--):d&l?s.appendBits(d,r):(s.appendBits(d|1,r),c--)}return s}static totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}Me.DEFAULT_EC_PERCENT=33,Me.DEFAULT_AZTEC_LAYERS=0,Me.MAX_NB_BITS=32,Me.MAX_NB_BITS_COMPACT=4,Me.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Qo{encode(n,r,s,o){return this.encodeWithHints(n,r,s,o,null)}encodeWithHints(n,r,s,o,l){let c=Zl.ISO_8859_1,d=Me.DEFAULT_EC_PERCENT,h=Me.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(yt.CHARACTER_SET)&&(c=e0.forName(l.get(yt.CHARACTER_SET).toString())),l.has(yt.ERROR_CORRECTION)&&(d=O.parseInt(l.get(yt.ERROR_CORRECTION).toString())),l.has(yt.AZTEC_LAYERS)&&(h=O.parseInt(l.get(yt.AZTEC_LAYERS).toString()))),Qo.encodeLayers(n,r,s,o,c,d,h)}static encodeLayers(n,r,s,o,l,c,d){if(r!==ue.AZTEC)throw new v("Can only encode AZTEC, but got "+r);let h=Me.encode(oe.getBytes(n,l),c,d);return Qo.renderResult(h,s,o)}static renderResult(n,r,s){let o=n.getMatrix();if(o==null)throw new Qn;let l=o.getWidth(),c=o.getHeight(),d=Math.max(r,l),h=Math.max(s,c),p=Math.min(d/l,h/c),y=(d-l*p)/2,A=(h-c*p)/2,S=new Se(d,h);for(let b=0,D=A;b<c;b++,D+=p)for(let L=0,P=y;L<l;L++,P+=p)o.get(L,b)&&S.setRegion(P,D,p,p);return S}}i.AbstractExpandedDecoder=Pl,i.ArgumentException=I,i.ArithmeticException=Bo,i.AztecCode=t0,i.AztecCodeReader=jo,i.AztecCodeWriter=Qo,i.AztecDecoder=Ge,i.AztecDetector=z1,i.AztecDetectorResult=j1,i.AztecEncoder=Me,i.AztecHighLevelEncoder=Ps,i.AztecPoint=Ht,i.BarcodeFormat=ue,i.Binarizer=U,i.BinaryBitmap=M,i.BitArray=B,i.BitMatrix=Se,i.BitSource=zl,i.BrowserAztecCodeReader=Dg,i.BrowserBarcodeReader=Fg,i.BrowserCodeReader=vt,i.BrowserDatamatrixCodeReader=Ug,i.BrowserMultiFormatReader=qg,i.BrowserPDF417Reader=$g,i.BrowserQRCodeReader=Jg,i.BrowserQRCodeSvgWriter=hi,i.CharacterSetECI=X,i.ChecksumException=R,i.Code128Reader=ie,i.Code39Reader=mt,i.DataMatrixDecodedBitStreamParser=br,i.DataMatrixReader=Mr,i.DecodeHintType=q,i.DecoderResult=_s,i.DefaultGridSampler=U1,i.DetectorResult=Fo,i.EAN13Reader=li,i.EncodeHintType=yt,i.Exception=m,i.FormatException=z,i.GenericGF=Re,i.GenericGFPoly=$t,i.GlobalHistogramBinarizer=ve,i.GridSampler=Dl,i.GridSamplerInstance=Tr,i.HTMLCanvasElementLuminanceSource=re,i.HybridBinarizer=fe,i.ITFReader=ze,i.IllegalArgumentException=v,i.IllegalStateException=Qn,i.InvertedLuminanceSource=ee,i.LuminanceSource=H,i.MathUtils=be,i.MultiFormatOneDReader=Fi,i.MultiFormatReader=J1,i.MultiFormatWriter=tp,i.NotFoundException=Y,i.OneDReader=ht,i.PDF417DecodedBitStreamParser=V,i.PDF417DecoderErrorCorrection=X1,i.PDF417Reader=Rt,i.PDF417ResultMetadata=Z1,i.PerspectiveTransform=kn,i.PlanarYUVLuminanceSource=$n,i.QRCodeByteMatrix=Yo,i.QRCodeDataMask=vn,i.QRCodeDecodedBitStreamParser=et,i.QRCodeDecoderErrorCorrectionLevel=Ye,i.QRCodeDecoderFormatInformation=Ft,i.QRCodeEncoder=Qe,i.QRCodeEncoderQRCode=di,i.QRCodeMaskUtil=ot,i.QRCodeMatrixUtil=me,i.QRCodeMode=ge,i.QRCodeReader=Or,i.QRCodeVersion=de,i.QRCodeWriter=Ui,i.RGBLuminanceSource=Ql,i.RSS14Reader=st,i.RSSExpandedReader=Z,i.ReaderException=Go,i.ReedSolomonDecoder=Ns,i.ReedSolomonEncoder=Xl,i.ReedSolomonException=Li,i.Result=je,i.ResultMetadataType=St,i.ResultPoint=ce,i.StringUtils=oe,i.UnsupportedOperationException=pe,i.VideoInputDevice=he,i.WhiteRectangleDetector=cr,i.WriterException=We,i.ZXingArrays=_,i.ZXingCharset=e0,i.ZXingInteger=O,i.ZXingStandardCharsets=Zl,i.ZXingStringBuilder=ye,i.ZXingStringEncoding=Ie,i.ZXingSystem=k,i.createAbstractExpandedDecoder=G1,Object.defineProperty(i,"__esModule",{value:!0})})})(Lu,Lu.exports);var Ke=Lu.exports;const Ow=Gf(Ke),Rw=Vf({__proto__:null,default:Ow},[Ke]);var Of=function(){function e(t,i,a){if(this.formatMap=new Map([[se.QR_CODE,Ke.BarcodeFormat.QR_CODE],[se.AZTEC,Ke.BarcodeFormat.AZTEC],[se.CODABAR,Ke.BarcodeFormat.CODABAR],[se.CODE_39,Ke.BarcodeFormat.CODE_39],[se.CODE_93,Ke.BarcodeFormat.CODE_93],[se.CODE_128,Ke.BarcodeFormat.CODE_128],[se.DATA_MATRIX,Ke.BarcodeFormat.DATA_MATRIX],[se.MAXICODE,Ke.BarcodeFormat.MAXICODE],[se.ITF,Ke.BarcodeFormat.ITF],[se.EAN_13,Ke.BarcodeFormat.EAN_13],[se.EAN_8,Ke.BarcodeFormat.EAN_8],[se.PDF_417,Ke.BarcodeFormat.PDF_417],[se.RSS_14,Ke.BarcodeFormat.RSS_14],[se.RSS_EXPANDED,Ke.BarcodeFormat.RSS_EXPANDED],[se.UPC_A,Ke.BarcodeFormat.UPC_A],[se.UPC_E,Ke.BarcodeFormat.UPC_E],[se.UPC_EAN_EXTENSION,Ke.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Rw)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var u=this.createZXingFormats(t),f=new Map;f.set(Ke.DecodeHintType.POSSIBLE_FORMATS,u),f.set(Ke.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(t){var i=this;return new Promise(function(a,u){try{a(i.decode(t))}catch(f){u(f)}})},e.prototype.decode=function(t){var i=new Ke.MultiFormatReader(this.verbose,this.hints),a=new Ke.HTMLCanvasElementLuminanceSource(t),u=new Ke.BinaryBitmap(new Ke.HybridBinarizer(a)),f=i.decode(u);return{text:f.text,format:Cg.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,a,u){t.set(i,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var i=[],a=0,u=t;a<u.length;a++){var f=u[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Dw=globalThis&&globalThis.__awaiter||function(e,t,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(I){try{m(a.next(I))}catch(v){g(v)}}function w(I){try{m(a.throw(I))}catch(v){g(v)}}function m(I){I.done?f(I.value):u(I.value).then(x,w)}m((a=a.apply(e,t||[])).next())})},Lw=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(I){return w([m,I])}}function w(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,u=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(I){m=[6,I],u=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Rf=function(){function e(t,i,a){if(this.formatMap=new Map([[se.QR_CODE,"qr_code"],[se.AZTEC,"aztec"],[se.CODABAR,"codabar"],[se.CODE_39,"code_39"],[se.CODE_93,"code_93"],[se.CODE_128,"code_128"],[se.DATA_MATRIX,"data_matrix"],[se.ITF,"itf"],[se.EAN_13,"ean_13"],[se.EAN_8,"ean_8"],[se.PDF_417,"pdf417"],[se.UPC_A,"upc_a"],[se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var u=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Dw(this,void 0,void 0,function(){var i,a;return Lw(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(t)];case 1:if(i=u.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:Cg.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var i=null,a=0,u=0,f=t;u<f.length;u++){var g=f[u],x=g.boundingBox.width*g.boundingBox.height;x>a&&(a=x,i=g)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(t){for(var i=[],a=0,u=t;a<u.length;a++){var f=u[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,a,u){t.set(i,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Df=globalThis&&globalThis.__awaiter||function(e,t,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(I){try{m(a.next(I))}catch(v){g(v)}}function w(I){try{m(a.throw(I))}catch(v){g(v)}}function m(I){I.done?f(I.value):u(I.value).then(x,w)}m((a=a.apply(e,t||[])).next())})},Lf=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(I){return w([m,I])}}function w(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,u=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(I){m=[6,I],u=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},kw=function(){function e(t,i,a,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&Rf.isSupported()?(this.primaryDecoder=new Rf(t,a,u),this.secondaryDecoder=new Of(t,a,u)):this.primaryDecoder=new Of(t,a,u)}return e.prototype.decodeAsync=function(t){return Df(this,void 0,void 0,function(){var i;return Lf(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Df(this,void 0,void 0,function(){var i,a;return Lf(this,function(u){switch(u.label){case 0:i=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,u.sent()];case 3:if(a=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var i=performance.now()-t;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,i=0,a=this.executionResults;i<a.length;i++){var u=a[i];t+=u}var f=t/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),B1=globalThis&&globalThis.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),ul=globalThis&&globalThis.__awaiter||function(e,t,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(I){try{m(a.next(I))}catch(v){g(v)}}function w(I){try{m(a.throw(I))}catch(v){g(v)}}function m(I){I.done?f(I.value):u(I.value).then(x,w)}m((a=a.apply(e,t||[])).next())})},fl=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(I){return w([m,I])}}function w(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,u=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(I){m=[6,I],u=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Sg=function(){function e(t,i){this.name=t,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var i={};i[this.name]=t;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var i=t[this.name];return i}return null},e}(),Bw=function(e){B1(t,e);function t(i,a){return e.call(this,i,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(i){var a={};a[this.name]=i;var u={advanced:[a]};return this.track.applyConstraints(u)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Sg),Pw=function(e){B1(t,e);function t(i){return e.call(this,"zoom",i)||this}return t}(Bw),Fw=function(e){B1(t,e);function t(i){return e.call(this,"torch",i)||this}return t}(Sg),jw=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Pw(this.track)},e.prototype.torchFeature=function(){return new Fw(this.track)},e}(),Uw=function(){function e(t,i,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var i=document.createElement("video");return i.style.width="".concat(t,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=t.surface.clientWidth,u=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,u),t.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,i,a,u){return ul(this,void 0,void 0,function(){var f,g;return fl(this,function(x){switch(x.label){case 0:return f=new e(t,i,u),a.aspectRatio?(g={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:x.sent(),x.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var i=this,a=function(){setTimeout(t,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ul(this,void 0,void 0,function(){return fl(this,function(i){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(i,a){var u=t.mediaStream.getVideoTracks(),f=u.length,g=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++g,g>=f&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),i())})})},e.prototype.getCapabilities=function(){return new jw(this.getFirstTrackOrFail())},e}(),zw=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,i,a){return ul(this,void 0,void 0,function(){return fl(this,function(u){return[2,Uw.create(t,this.mediaStream,i,a)]})})},e.create=function(t){return ul(this,void 0,void 0,function(){var i,a;return fl(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=u.sent(),[2,new e(a)]}})})},e}(),kf=globalThis&&globalThis.__awaiter||function(e,t,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(I){try{m(a.next(I))}catch(v){g(v)}}function w(I){try{m(a.throw(I))}catch(v){g(v)}}function m(I){I.done?f(I.value):u(I.value).then(x,w)}m((a=a.apply(e,t||[])).next())})},Bf=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(I){return w([m,I])}}function w(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,u=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(I){m=[6,I],u=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Ww=function(){function e(){}return e.failIfNotSupported=function(){return kf(this,void 0,void 0,function(){return Bf(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return kf(this,void 0,void 0,function(){return Bf(this,function(i){return[2,zw.create(t)]})})},e}(),Hw=globalThis&&globalThis.__awaiter||function(e,t,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(I){try{m(a.next(I))}catch(v){g(v)}}function w(I){try{m(a.throw(I))}catch(v){g(v)}}function m(I){I.done?f(I.value):u(I.value).then(x,w)}m((a=a.apply(e,t||[])).next())})},Vw=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(I){return w([m,I])}}function w(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,u=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(I){m=[6,I],u=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Gw=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=is.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=is.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Hw(this,void 0,void 0,function(){var t,i,a,u,f,g,x;return Vw(this,function(w){switch(w.label){case 0:return t=function(m){for(var I=m.getVideoTracks(),v=0,M=I;v<M.length;v++){var R=M[v];R.enabled=!1,R.stop(),m.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=w.sent(),u=[],f=0,g=a;f<g.length;f++)x=g[f],x.kind==="videoinput"&&u.push({id:x.deviceId,label:x.label});return t(i),[2,u]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,i){var a=function(f){for(var g=[],x=0,w=f;x<w.length;x++){var m=w[x];m.kind==="video"&&g.push({id:m.id,label:m.label})}t(g)},u=MediaStreamTrack;u.getSources(a)})},e}(),at;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(at||(at={}));var Yw=function(){function e(){this.state=at.NOT_STARTED,this.onGoingTransactionNewState=at.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===at.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=at.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===at.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=at.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==at.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case at.UNKNOWN:throw"Transition from unknown is not allowed";case at.NOT_STARTED:this.failIfNewStateIs(t,[at.PAUSED]);break;case at.SCANNING:break;case at.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,i){for(var a=0,u=i;a<u.length;a++){var f=u[a];if(t===f)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Xw=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===at.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==at.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===at.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===at.PAUSED},e}(),Qw=function(){function e(){}return e.create=function(){return new Xw(new Yw)},e}(),Zw=globalThis&&globalThis.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),hn=function(e){Zw(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Wn),Kw=function(){function e(t,i){this.logger=i,this.fps=hn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=hn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?vg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ir(this.qrbox)},e.create=function(t,i){return new e(t,i)},e}(),Pf=function(){function e(t,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Ag(this.verbose),this.qrcode=new kw(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Qw.create()}return e.prototype.start=function(t,i,a,u){var f=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;u?g=u:g=this.verbose?this.logger.log:function(){};var x=Kw.create(i,this.logger);this.clearElement();var w=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=w,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:hn.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var v=this,M=this.stateManagerProxy.startTransition(at.SCANNING);return new Promise(function(R,U){var k=m?x.videoConstraints:v.createVideoConstraints(t);if(!k){M.cancel(),U("videoConstraints should be defined");return}var W={};(!m||x.aspectRatio)&&(W.aspectRatio=x.aspectRatio);var N={onRenderSurfaceReady:function(_,O){v.setupUi(_,O,x),v.isScanning=!0,v.foreverScan(x,a,g)}};Ww.failIfNotSupported().then(function(_){_.create(k).then(function(O){return O.render(f.element,W,N).then(function(B){v.renderedCamera=B,M.execute(),R(null)}).catch(function(B){M.cancel(),U(B)})}).catch(function(O){M.cancel(),U(is.errorGettingUserMedia(O))})}).catch(function(_){M.cancel(),U(is.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(at.PAUSED),this.showPausedState(),(ir(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,i=function(){t.stateManagerProxy.directTransition(at.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(at.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var f=document.getElementById(hn.SHADED_REGION_ELEMENT_ID);f&&t.element.removeChild(f)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),a(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),i.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,i){return this.scanFileV2(t,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,i){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ir(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var g=new Image;g.onload=function(){var x=g.width,w=g.height,m=document.getElementById(a.elementId),I=m.clientWidth?m.clientWidth:hn.DEFAULT_WIDTH,v=Math.max(m.clientHeight?m.clientHeight:w,hn.FILE_SCAN_MIN_HEIGHT),M=a.computeCanvasDrawConfig(x,w,I,v);if(i){var R=a.createCanvasElement(I,v,"qr-canvas-visible");R.style.display="inline-block",m.appendChild(R);var U=R.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=I,U.canvas.height=v,U.drawImage(g,0,0,x,w,M.x,M.y,M.width,M.height)}var k=hn.FILE_SCAN_HIDDEN_CANVAS_PADDING,W=Math.max(g.width,M.width),N=Math.max(g.height,M.height),_=W+2*k,O=N+2*k,B=a.createCanvasElement(_,O);m.appendChild(B);var Q=B.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=_,Q.canvas.height=O,Q.drawImage(g,0,0,x,w,k,k,W,N);try{a.qrcode.decodeRobustlyAsync(B).then(function(q){u(bf.createFromQrcodeResult(q))}).catch(f)}catch(q){f("QR code parse error, error = ".concat(q))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Gw.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!vg.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var i=[se.QR_CODE,se.AZTEC,se.CODABAR,se.CODE_39,se.CODE_93,se.CODE_128,se.DATA_MATRIX,se.MAXICODE,se.ITF,se.EAN_13,se.EAN_8,se.PDF_417,se.RSS_14,se.RSS_EXPANDED,se.UPC_A,se.UPC_E,se.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return i;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],u=0,f=t.formatsToSupport;u<f.length;u++){var g=f[u];bw(g)?a.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ir(t))return!0;if(!ir(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ir(t.experimentalFeatures))return!0;var i=t.experimentalFeatures;return ir(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,i,a){var u=this,f=a.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(t,i,f),x=function(m){if(m<hn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(hn.MIN_QR_BOX_SIZE,"px.")},w=function(m){return m>t&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};x(g.width),x(g.height),g.width=w(g.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,i)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return a},e.prototype.setupUi=function(t,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,i,a);var u=ir(a.qrbox)?{width:t,height:i}:a.qrbox;this.validateQrboxConfig(u);var f=this.toQrdimensions(t,i,u);f.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=a.isShadedBoxEnabled()&&f.height<=i,x={x:0,y:0,width:t,height:i},w=g?this.getShadedRegionBounds(t,i,f):x,m=this.createCanvasElement(w.width,w.height),I={willReadFrequently:!0},v=m.getContext("2d",I);v.canvas.width=w.width,v.canvas.height=w.height,this.element.append(m),g&&this.possiblyInsertShadingElement(this.element,t,i,f),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=v,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var i=document.createElement("div");i.innerText=is.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",t.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(t,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return t(u.text,bf.createFromQrcodeResult(u)),a.possiblyUpdateShaders(!0),!0}).catch(function(u){a.possiblyUpdateShaders(!1);var f=is.codeParseError(u);return i(f,Eg.createFrom(f)),!1})},e.prototype.foreverScan=function(t,i,a){var u=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,x=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*g,m=this.qrRegion.height*x,I=this.qrRegion.x*g,v=this.qrRegion.y*x;this.context.drawImage(f,I,v,w,m,0,0,this.qrRegion.width,this.qrRegion.height);var M=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(t,i,a)},u.getTimeoutFps(t.fps))};this.scanContext(i,a).then(function(R){!R&&t.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(i,a).finally(function(){M()})):M()}).catch(function(R){u.logger.logError("Error happend while scanning context",R),M()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var i="facingMode",a="deviceId",u={user:!0,environment:!0},f="exact",g=function(U){if(U in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(U,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var w=Object.keys(t)[0];if(w!==i&&w!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(w===i){var m=t.facingMode;if(typeof m=="string"){if(g(m))return{facingMode:m}}else if(typeof m=="object")if(f in m){if(g(m["".concat(f)]))return{facingMode:{exact:m["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var I=typeof m;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(f in v)return{deviceId:{exact:v["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var M=typeof v;throw"Invalid type of 'deviceId' = ".concat(M)}}}var R=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},e.prototype.computeCanvasDrawConfig=function(t,i,a,u){if(t<=a&&i<=u){var f=(a-t)/2,g=(u-i)/2;return{x:f,y:g,width:t,height:i}}else{var x=t,w=i;return t>a&&(i=a/t*i,t=a),i>u&&(t=u/i*t,i=u),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(w)+" to ".concat(t,"X").concat(i,".")),this.computeCanvasDrawConfig(t,i,a,u)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=t?hn.BORDER_SHADER_MATCH_COLOR:hn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,i,a){var u=t,f=i,g=document.createElement("canvas");return g.style.width="".concat(u,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=ir(a)?"qr-canvas":a,g},e.prototype.getShadedRegionBounds=function(t,i,a){if(a.width>t||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,i,a,u){if(!(i-u.width<1||a-u.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(i-u.width)/2,x=(a-u.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(hn.SHADED_REGION_ELEMENT_ID),i-u.width<11||a-u.height<11)this.hasBorderShaders=!1;else{var w=5,m=40;this.insertShaderBorders(f,m,w,-w,null,0,!0),this.insertShaderBorders(f,m,w,-w,null,0,!1),this.insertShaderBorders(f,m,w,null,-w,0,!0),this.insertShaderBorders(f,m,w,null,-w,0,!1),this.insertShaderBorders(f,w,m+w,-w,null,-w,!0),this.insertShaderBorders(f,w,m+w,null,-w,-w,!0),this.insertShaderBorders(f,w,m+w,-w,null,-w,!1),this.insertShaderBorders(f,w,m+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(f)}},e.prototype.insertShaderBorders=function(t,i,a,u,f,g,x){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=hn.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(i,"px"),w.style.height="".concat(a,"px"),u!==null&&(w.style.top="".concat(u,"px")),f!==null&&(w.style.bottom="".concat(f,"px")),x?w.style.left="".concat(g,"px"):w.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),P1="data:image/svg+xml;base64,",qw=P1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",$w=P1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Ff=P1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Jw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",jf=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),e3=function(){function e(){this.data=jf.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=jf.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),t3=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Mf.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var a=document.createElement("br"),u=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(u);var f=document.createElement("a");f.innerText=Mf.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),n3=function(){function e(t,i){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Ff,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return i.onHoverIn()},this.infoIcon.onmouseout=function(a){return i.onHoverOut()},this.infoIcon.onclick=function(a){return i.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Jw,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Ff,this.infoIcon.style.opacity="0.6")},e}(),r3=function(){function e(){var t=this;this.infoDiv=new t3,this.infoIcon=new n3(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),i3=globalThis&&globalThis.__awaiter||function(e,t,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(I){try{m(a.next(I))}catch(v){g(v)}}function w(I){try{m(a.throw(I))}catch(v){g(v)}}function m(I){I.done?f(I.value):u(I.value).then(x,w)}m((a=a.apply(e,t||[])).next())})},s3=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(I){return w([m,I])}}function w(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,u=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(I){m=[6,I],u=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Uf=function(){function e(){}return e.hasPermissions=function(){return i3(this,void 0,void 0,function(){var t,i,a,u;return s3(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=f.sent(),i=0,a=t;i<a.length;i++)if(u=a[i],u.kind==="videoinput"&&u.label)return[2,!0];return[2,!1]}})})},e}(),Br=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,i=this.supportedScanTypes;t<i.length;t++){var a=i[t];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(t){return t===vr.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===vr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Wn.DEFAULT_SUPPORTED_SCAN_TYPE;var i=Wn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var a=0,u=t;a<u.length;a++){var f=u[a];if(!Wn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return t},e}(),mn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),xr=function(){function e(){}return e.createElement=function(t,i){var a=document.createElement(t);return a.id=i,a.classList.add(mn.ALL_ELEMENT_CLASS),t==="button"&&a.setAttribute("type","button"),a},e}(),Ig=globalThis&&globalThis.__awaiter||function(e,t,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(I){try{m(a.next(I))}catch(v){g(v)}}function w(I){try{m(a.throw(I))}catch(v){g(v)}}function m(I){I.done?f(I.value):u(I.value).then(x,w)}m((a=a.apply(e,t||[])).next())})},_g=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(I){return w([m,I])}}function w(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,u&&(f=m[0]&2?u.return:m[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,m[1])).done)return f;switch(u=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,u=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(I){m=[6,I],u=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},zf=function(){function e(t,i,a){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=i,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Ig(this,void 0,void 0,function(){var t,i;return _g(this,function(a){switch(a.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return i=a.sent(),this.propagateFailure(t,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,i){t===i?(this.buttonController.setText(i?Pe.torchOffButton():Pe.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(t,i){var a=t?Pe.torchOnFailedMessage():Pe.torchOffFailedMessage();i&&(a+="; Error = "+i),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),o3=function(){function e(t,i){this.onTorchActionFailureCallback=i,this.torchButton=xr.createElement("button",mn.TORCH_BUTTON_ID),this.torchController=new zf(t,this,i)}return e.prototype.render=function(t,i){var a=this;this.torchButton.innerText=Pe.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var u=this;this.torchButton.addEventListener("click",function(f){return Ig(a,void 0,void 0,function(){return _g(this,function(g){switch(g.label){case 0:return[4,u.torchController.flipState()];case 1:return g.sent(),u.torchController.isTorchEnabled()?(u.torchButton.classList.remove(mn.TORCH_BUTTON_CLASS_TORCH_OFF),u.torchButton.classList.add(mn.TORCH_BUTTON_CLASS_TORCH_ON)):(u.torchButton.classList.remove(mn.TORCH_BUTTON_CLASS_TORCH_ON),u.torchButton.classList.add(mn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new zf(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Pe.torchOnButton(),this.torchController.reset()},e.create=function(t,i,a,u){var f=new e(i,u);return f.render(t,a),f},e}(),a3=function(){function e(t,i,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",t.appendChild(this.fileBasedScanRegion);var u=document.createElement("label");u.setAttribute("for",this.getFileScanInputId()),u.style.display="inline-block",this.fileBasedScanRegion.appendChild(u),this.fileSelectionButton=xr.createElement("button",mn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(x){u.click()}),u.append(this.fileSelectionButton),this.fileScanInput=xr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",u.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(x){if(!(x==null||x.target==null)){var w=x.target;if(!(w.files&&w.files.length===0)){var m=w.files,I=m[0],v=I.name;f.setImageNameToButton(v),a(I)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(x){x.stopPropagation(),x.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var w=x.dataTransfer;if(w){var m=w.files;if(!m||m.length===0)return;for(var I=!1,v=0;v<m.length;++v){var M=m.item(v);if(M){var R=/image.*/;if(M.type.match(R)){I=!0;var U=M.name;f.setImageNameToButton(U),a(M),g.innerText=Pe.dragAndDropMessage();break}}}I||(g.innerText=Pe.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Pe.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var i=20;if(t.length>i){var a=t.substring(0,8),u=t.length,f=t.substring(u-8,u);t="".concat(a,"....").concat(f)}var g=Pe.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=g},e.prototype.setInitialValueToButton=function(){var t=Pe.fileSelectionChooseImage()+" - "+Pe.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,i,a){var u=new e(t,i,a);return u},e}(),l3=function(){function e(t){this.selectElement=xr.createElement("select",mn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var i=document.createElement("span");i.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)i.style.display="none";else{var u=Pe.selectCamera();i.innerText="".concat(u," (").concat(this.cameras.length,")  ")}for(var f=1,g=0,x=this.cameras;g<x.length;g++){var w=x[g],m=w.id,I=w.label==null?m:w.label;(!I||I==="")&&(I=[Pe.anonymousCameraPrefix(),f++].join(" "));var v=document.createElement("option");v.value=m,v.innerText=I,this.options.push(v),this.selectElement.appendChild(v)}i.appendChild(this.selectElement),t.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var i=0,a=this.options;i<a.length;i++){var u=a[i];if(u.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,i){var a=new e(i);return a.render(t),a},e}(),c3=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=xr.createElement("input",mn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=Pe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var u=this;this.rangeInput.addEventListener("input",function(){return u.onValueChange()}),this.rangeInput.addEventListener("change",function(){return u.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Pe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,i,a,u){this.rangeInput.min=t.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=u.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,i){var a=new e;return a.render(t,i),a},e}(),gn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(gn||(gn={}));function u3(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function f3(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var d3=function(){function e(t,i,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(i),this.verbose=a===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Br(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ag(this.verbose),this.persistedDataManager=new e3,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,i){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,g){if(t)t(f,g);else{if(a.lastMatchFound===f)return;a.lastMatchFound=f,a.setHeaderMessage(Pe.lastMatch(f),gn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,g){i&&i(f,g)};var u=document.getElementById(this.elementId);if(!u)throw"HTML Element with id=".concat(this.elementId," not found");u.innerHTML="",this.createBasicLayout(u),this.html5Qrcode=new Pf(this.getScanRegionId(),f3(this.config,this.verbose))},e.prototype.pause=function(t){(ir(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,i=function(){var a=document.getElementById(t.elementId);a&&(a.innerHTML="",t.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,u){if(!t.html5Qrcode){a();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(f){if(!t.html5Qrcode){a();return}t.html5Qrcode.clear(),i(),a()}).catch(function(f){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",f),u(f)}):(t.html5Qrcode.clear(),i(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Wn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Wn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Wn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Wn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Wn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Wn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Wn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var i=document.createElement("div"),a=this.getScanRegionId();i.id=a,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",t.appendChild(i),Br.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var u=document.createElement("div"),f=this.getDashboardId();u.id=f,u.style.width="100%",t.appendChild(u),this.setupInitialDashboard(u)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",t.appendChild(i);var a=new r3;a.renderInto(i);var u=document.createElement("div");u.id=this.getHeaderMessageContainerId(),u.style.display="none",u.style.textAlign="center",u.style.fontSize="14px",u.style.padding="2px 10px",u.style.margin="4px",u.style.borderTop="1px solid #f6f6f6",i.appendChild(u)},e.prototype.createSection=function(t){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",t.appendChild(i)},e.prototype.createCameraListUi=function(t,i,a){var u=this;u.showHideScanTypeSwapLink(!1),u.setHeaderMessage(Pe.cameraPermissionRequesting());var f=function(){a||u.createPermissionButton(t,i)};Pf.getCameras().then(function(g){u.persistedDataManager.setHasPermission(!0),u.showHideScanTypeSwapLink(!0),u.resetHeaderMessage(),g&&g.length>0?(t.removeChild(i),u.renderCameraSelection(g)):(u.setHeaderMessage(Pe.noCameraFound(),gn.STATUS_WARNING),f())}).catch(function(g){u.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:f(),u.setHeaderMessage(g,gn.STATUS_WARNING),u.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,i){var a=this,u=xr.createElement("button",this.getCameraPermissionButtonId());u.innerText=Pe.cameraPermissionTitle(),u.addEventListener("click",function(){u.disabled=!0,a.createCameraListUi(t,i,u)}),i.appendChild(u)},e.prototype.createPermissionsUi=function(t,i){var a=this;if(Br.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Uf.hasPermissions().then(function(u){u?a.createCameraListUi(t,i):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,i))}).catch(function(u){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,i)});return}this.createPermissionButton(t,i)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");t.appendChild(i);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=Br.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(a);var u=document.createElement("div");u.style.textAlign="center",a.appendChild(u),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,u),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(t){var i=Br.isFileScanType(this.currentScanType),a=this,u=function(f){if(!a.html5Qrcode)throw"html5Qrcode not defined";Br.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(Pe.loadingImage()),a.html5Qrcode.scanFileV2(f,!0).then(function(g){a.resetHeaderMessage(),a.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){a.setHeaderMessage(g,gn.STATUS_WARNING),a.qrCodeErrorCallback(g,Eg.createFrom(g))}))};this.fileSelectionUi=a3.create(t,i,u)},e.prototype.renderCameraSelection=function(t){var i=this,a=this,u=document.getElementById(this.getDashboardSectionCameraScanRegionId());u.style.textAlign="center";var f=c3.create(u,!1),g=function(k){var W=k.zoomFeature();if(W.isSupported()){f.setOnCameraZoomValueChangeCallback(function(_){W.apply(_)});var N=1;i.config.defaultZoomValueIfSupported&&(N=i.config.defaultZoomValueIfSupported),N=Mw(N,W.min(),W.max()),f.setValues(W.min(),W.max(),N,W.step()),f.show()}},x=l3.create(u,t),w=document.createElement("span"),m=xr.createElement("button",mn.CAMERA_START_BUTTON_ID);m.innerText=Pe.scanButtonStartScanningText(),w.appendChild(m);var I=xr.createElement("button",mn.CAMERA_STOP_BUTTON_ID);I.innerText=Pe.scanButtonStopScanningText(),I.style.display="none",I.disabled=!0,w.appendChild(I);var v,M=function(k){if(!k.torchFeature().isSupported()){v&&v.hide();return}v?v.updateTorchCapability(k.torchFeature()):v=o3.create(w,k.torchFeature(),{display:"none",marginLeft:"5px"},function(W){a.setHeaderMessage(W,gn.STATUS_WARNING)}),v.show()};u.appendChild(w);var R=function(k){k||(m.style.display="none"),m.innerText=Pe.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,k&&(m.style.display="inline-block")};if(m.addEventListener("click",function(k){m.innerText=Pe.scanButtonScanningStarting(),x.disable(),m.disabled=!0,m.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var W=x.getValue();a.persistedDataManager.setLastUsedCameraId(W),a.html5Qrcode.start(W,u3(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(N){I.disabled=!1,I.style.display="inline-block",R(!1);var _=a.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&M(_),i.config.showZoomSliderIfSupported===!0&&g(_)}).catch(function(N){a.showHideScanTypeSwapLink(!0),x.enable(),R(!0),a.setHeaderMessage(N,gn.STATUS_WARNING)})}),x.hasSingleItem()&&m.click(),I.addEventListener("click",function(k){if(!a.html5Qrcode)throw"html5Qrcode not defined";I.disabled=!0,a.html5Qrcode.stop().then(function(W){i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),x.enable(),m.disabled=!1,I.style.display="none",m.style.display="inline-block",v&&(v.reset(),v.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(W){I.disabled=!1,a.setHeaderMessage(W,gn.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var U=a.persistedDataManager.getLastUsedCameraId();x.hasValue(U)?(x.setValue(U),m.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,i=Pe.textIfCameraScanSelected(),a=Pe.textIfFileScanSelected(),u=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var g=xr.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=Br.isCameraScanType(this.currentScanType)?i:a,g.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Br.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),g.innerText=a,t.currentScanType=vr.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),g.innerText=i,t.currentScanType=vr.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),f.appendChild(g),u.appendChild(f)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){Uf.hasPermissions().then(function(a){if(a){var u=document.getElementById(i.getCameraPermissionButtonId());if(!u)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";u.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(a){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,i){i||(i=gn.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=t,a.style.display="block",i){case gn.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case gn.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case gn.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=qw,this.cameraScanImage.alt=Pe.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=$w,this.fileScanImage.alt=Pe.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return mn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return mn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Wf=e=>{const t=g3(e);return t.charAt(0).toUpperCase()+t.slice(1)},Tg=(...e)=>e.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),p3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=F.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:u="",children:f,iconNode:g,...x},w)=>F.createElement("svg",{ref:w,...m3,width:t,height:t,stroke:e,strokeWidth:a?Number(i)*24/Number(t):i,className:Tg("lucide",u),...!f&&!p3(x)&&{"aria-hidden":"true"},...x},[...g.map(([m,I])=>F.createElement(m,I)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=(e,t)=>{const i=F.forwardRef(({className:a,...u},f)=>F.createElement(x3,{ref:f,iconNode:t,className:Tg(`lucide-${h3(Wf(e))}`,`lucide-${e}`,a),...u}));return i.displayName=Wf(e),i};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],w3=ai("chevron-left",y3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],E3=ai("chevron-right",C3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],v3=ai("chevrons-left",A3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],I3=ai("chevrons-right",S3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]],T3=ai("scan-barcode",_3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ng=ai("search",N3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],M3=ai("sliders-horizontal",b3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],F1=ai("x",O3),R3="_scanIconButton_1oseg_1",D3="_scannerModal_1oseg_31",L3="_scannerOverlay_1oseg_40",k3="_scannerContent_1oseg_46",B3="_slideUp_1oseg_1",P3="_scannerHeader_1oseg_66",F3="_closeButton_1oseg_77",j3="_reader_1oseg_91",U3="_instruction_1oseg_96",Pr={scanIconButton:R3,scannerModal:D3,scannerOverlay:L3,scannerContent:k3,slideUp:B3,scannerHeader:P3,closeButton:F3,reader:j3,instruction:U3},z3=`
  #barcode-reader__dashboard {
    background-color: #2d3748 !important;
    border-radius: 12px !important;
  }
  
  #barcode-reader__dashboard_section {
    color: #ffffff !important;
    font-size: 1rem !important;
  }
  
  #barcode-reader__dashboard_section_csr button {
    background: #639E61 !important;
    color: white !important;
    border: none !important;
    padding: 0.875rem 1rem !important;
    border-radius: 8px !important;
    font-size: 0.9rem !important;
    font-weight: 600 !important;
    cursor: pointer !important;
    margin-top: 0.75rem !important;
    margin-bottom: 1rem !important;
  }
  
  #barcode-reader__dashboard_section_csr span {
    color: #ffffff !important;
    font-size: 1rem !important;
  }
  
  #barcode-reader__camera_selection {
    background-color: #374151 !important;
    color: white !important;
    border: 1px solid #4b5563 !important;
    padding: 0.625rem !important;
    border-radius: 6px !important;
  }
`;function W3({onScan:e,isScanning:t,setIsScanning:i}){return F.useEffect(()=>{const a=document.createElement("style");return a.innerHTML=z3,document.head.appendChild(a),()=>{document.head.removeChild(a)}},[]),F.useEffect(()=>{if(t){const a=new d3("barcode-reader",{fps:20,qrbox:function(u,f){const g=Math.min(u,f);return{width:g*.8,height:g*.4}},aspectRatio:2,formatsToSupport:[se.EAN_13,se.UPC_A,se.EAN_8,se.CODE_128,se.QR_CODE],rememberLastUsedCamera:!0,showTorchButtonIfSupported:!0,supportedScanTypes:[vr.SCAN_TYPE_CAMERA],disableFlip:!0},!1);return a.render(u=>{e(u),a.clear(),i(!1)},()=>{}),()=>{a.clear().catch(console.error)}}},[t,e,i]),C.jsxs(C.Fragment,{children:[C.jsx("button",{className:Pr.scanIconButton,onClick:()=>i(!0),title:"Scan barcode to auto-fill product data",type:"button","aria-label":"Scan barcode",children:C.jsx(T3,{size:24})}),t&&C.jsxs("div",{className:Pr.scannerModal,children:[C.jsx("div",{className:Pr.scannerOverlay,onClick:()=>i(!1)}),C.jsxs("div",{className:Pr.scannerContent,children:[C.jsxs("div",{className:Pr.scannerHeader,children:[C.jsx("h3",{children:"Scan Barcode"}),C.jsx("button",{onClick:()=>i(!1),className:Pr.closeButton,"aria-label":"Close scanner",type:"button",children:C.jsx(F1,{size:24})})]}),C.jsx("div",{id:"barcode-reader",className:Pr.reader}),C.jsx("p",{className:Pr.instruction,children:"Position the barcode within the frame"})]})]})]})}const H3="_searchButton_16s29_1",V3="_modalOverlay_16s29_38",G3="_fadeIn_16s29_1",Y3="_modalContent_16s29_59",X3="_slideUp_16s29_1",Q3="_modalHeader_16s29_81",Z3="_closeButton_16s29_99",K3="_resultsList_16s29_115",q3="_resultItem_16s29_121",$3="_productImage_16s29_137",J3="_productInfo_16s29_144",eC="_macros_16s29_157",tC="_selectButton_16s29_167",nC="_noResults_16s29_187",_n={searchButton:H3,modalOverlay:V3,fadeIn:G3,modalContent:Y3,slideUp:X3,modalHeader:Q3,closeButton:Z3,resultsList:K3,resultItem:q3,productImage:$3,productInfo:J3,macros:eC,selectButton:tC,noResults:nC};async function rC(e){try{console.log(" Searching USDA for:",e);const t="naJ1CsQDI9tQmSmAxZVmSREMCd3fBayslbzrVCGa",i=await fetch(`https://api.nal.usda.gov/fdc/v1/foods/search?api_key=${t}&query=${encodeURIComponent(e)}&pageSize=10&dataType=Foundation,SR Legacy`);if(!i.ok)return console.error(" USDA API error:",i.status,i.statusText),[];const a=await i.json();if(console.log(" USDA API response:",a),a.foods&&a.foods.length>0){const u=a.foods.map(f=>{const g=m=>{var v;const I=(v=f.foodNutrients)==null?void 0:v.find(M=>M.nutrientName===m);return I!=null&&I.value?String(I.value):"0"},x=parseFloat(g("Sodium")),w=x>0?(x*2.5/1e3).toFixed(2):"0";return{name:f.description||"Unknown Food",calories:g("Energy"),carbohydrates:g("Carbohydrate, by difference"),fat:g("Total lipid (fat)"),protein:g("Protein"),saturatedFat:g("Fatty acids, total saturated"),sugar:g("Sugars, total including NLEA"),salt:w,imageUrl:""}});return console.log(" Formatted USDA results:",u),u}return console.log(" No foods found in USDA"),[]}catch(t){return console.error(" Error searching USDA:",t),[]}}const ga=window.innerWidth<=768,pa={position:"top-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!0,theme:"colored",style:{fontSize:"0.85rem",padding:"0.625rem 0.875rem",minHeight:"auto",borderRadius:"6px",maxWidth:"90vw"}},ma={position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"},Yt={success:e=>{Be.success(e,ga?pa:ma)},error:e=>{Be.error(e,ga?pa:ma)},info:e=>{Be.info(e,ga?pa:ma)},warning:e=>{Be.warning(e,ga?pa:ma)}};function iC({searchQuery:e,onSelect:t,onModalStateChange:i}){const[a,u]=F.useState(!1),[f,g]=F.useState(!1),[x,w]=F.useState([]);F.useEffect(()=>{i==null||i(f)},[f,i]);const m=async()=>{if(!e.trim()){Yt.error("Please enter a product name first");return}u(!0),Yt.info("Searching database...");const M=await rC(e);u(!1),M.length>0?(w(M),g(!0),Yt.success(`Found ${M.length} results`)):Yt.error("No products found. Try a different name or use barcode scan.")},I=M=>{t(M),g(!1),Yt.success(`Selected: ${M.name}`)},v=()=>{g(!1)};return C.jsxs(C.Fragment,{children:[C.jsx("button",{className:_n.searchButton,onClick:m,disabled:a,title:"Search product by name",type:"button","aria-label":"Search product database",children:C.jsx(Ng,{size:24})}),f&&C.jsx("div",{className:_n.modalOverlay,onClick:v,children:C.jsxs("div",{className:_n.modalContent,onClick:M=>M.stopPropagation(),children:[C.jsxs("div",{className:_n.modalHeader,children:[C.jsxs("h3",{children:['Search Results for "',e,'"']}),C.jsx("button",{onClick:v,className:_n.closeButton,"aria-label":"Close",children:C.jsx(F1,{size:24})})]}),C.jsx("div",{className:_n.resultsList,children:x.map((M,R)=>C.jsxs("div",{className:_n.resultItem,children:[M.imageUrl&&C.jsx("img",{src:M.imageUrl,alt:M.name,className:_n.productImage}),C.jsxs("div",{className:_n.productInfo,children:[C.jsx("h4",{children:M.name}),C.jsxs("div",{className:_n.macros,children:[C.jsxs("span",{children:["Cal: ",M.calories]}),C.jsxs("span",{children:["C: ",M.carbohydrates,"g"]}),C.jsxs("span",{children:["F: ",M.fat,"g"]}),C.jsxs("span",{children:["P: ",M.protein,"g"]})]})]}),C.jsx("button",{className:_n.selectButton,onClick:()=>I(M),children:"Select"})]},R))}),x.length===0&&C.jsx("div",{className:_n.noResults,children:C.jsx("p",{children:"No products found"})})]})})]})}async function sC(e){try{const i=await(await fetch(`https://world.openfoodfacts.org/api/v0/product/${e}.json`)).json();if(console.log("API Response:",i),i.status===1&&i.product){const a=i.product,u=a.nutriments||{},f=x=>{const w=u[x];return w==null||w===""?"0":String(w)};return{name:a.product_name||a.product_name_de||a.product_name_en||"Unknown Product",calories:f("energy-kcal_100g"),carbohydrates:f("carbohydrates_100g"),fat:f("fat_100g"),protein:f("proteins_100g"),saturatedFat:f("saturated-fat_100g"),sugar:f("sugars_100g"),salt:f("salt_100g"),imageUrl:a.image_url||a.image_front_url||""}}return console.warn("Product not found in database"),null}catch(t){return console.error("Error looking up barcode:",t),null}}async function oC(e){try{console.log(" Downloading image from:",e);const t=await fetch(e,{mode:"cors",credentials:"omit"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const i=await t.blob();return console.log(" Image downloaded:",i.size,"bytes, type:",i.type),new Promise((a,u)=>{const f=new FileReader;f.onloadend=()=>{const g=f.result;console.log(" Converted to base64"),a(g)},f.onerror=u,f.readAsDataURL(i)})}catch(t){return console.error(" Error downloading image:",t),null}}function aC({handleCreateMenu:e,onModalStateChange:t}){const{setFoodData:i,inputValue:a,setInputValue:u}=F.useContext(Is),[f,g]=F.useState(!1),[x,w]=F.useState(!1);F.useEffect(()=>{t==null||t(f||x)},[f,x,t]);function m(k){const W=k.target.name,N=k.target.value;console.log({name:W,value:N}),u&&u(_=>({..._,[W]:N}))}function I(k){const W=["name","calories","carbohydrates","fat","protein","saturatedFat","sugar","salt"],N={};for(const _ of W){const O=k[_];if(_==="name"){const B=typeof O=="string"?O.trim():"";if(!B)return console.error("Validation failed: Name is empty"),null;N.name=B}else if(typeof O=="string"){const B=O.trim();if(B===""){N[_]="0";continue}const Q=B.replace(",","."),q=parseFloat(Q);if(isNaN(q))return console.error(`Validation failed: ${_} is not a number (${B})`),null;N[_]=Q}else N[_]="0"}return N}async function v(){var k;if(a&&u){if(!a.name)return M("Name is required!");if(a.calories===""||a.carbohydrates===""||a.fat===""||a.protein===""||a.saturatedFat===""||a.sugar===""||a.salt==="")return M("All fields must have a value!");const W=I(a);if(!W)return M("Invalid data format!");console.log("Creating food with data:",W);try{const N=await ny(W);if(!N)return M("Failed to save food. Check console for details.");if(N.errors)return M(N.errors[0].msg);const _=((k=N.data)==null?void 0:k._id)||N._id||N.id;if(_||Yt.error("Food saved but no ID returned"),console.log("Image URL from scan:",a.imageUrl),a.imageUrl&&_){Yt.info("Uploading product image...");try{const B=await oC(a.imageUrl);B?(await pg(_,"",B),Yt.success("Image uploaded!")):Yt.error("Failed to download product image")}catch{Yt.error("Image upload failed")}}u({name:"",calories:"",carbohydrates:"",fat:"",protein:"",saturatedFat:"",sugar:"",salt:"",imageUrl:""});const O=await Da();i&&i(O),Yt.success("Food item created successfully!")}catch{M("An error occurred while saving")}}}function M(k){Yt.error(k)}async function R(k){Yt.info("Looking up product...");const W=await sC(k);W&&u?(u(W),Yt.success(`Found: ${W.name}`)):Yt.error("Product not found in Open Food Facts database")}function U(k){u&&u(k)}return C.jsxs("div",{className:fr.panelWrapper,children:[C.jsx(ll,{position:"top-center",transition:yg,autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),C.jsx("h1",{children:"New Food Item"}),C.jsx("div",{className:fr.scannerWrapper}),C.jsxs("div",{className:fr.panel,children:[C.jsxs("div",{className:fr.nameWrapper,children:[C.jsx("h4",{children:"Name"}),C.jsxs("div",{className:fr.nameInputGroup,children:[C.jsx("input",{type:"text",name:"name",value:(a==null?void 0:a.name)||"",onChange:m}),C.jsxs("div",{className:fr.iconButtons,children:[C.jsx(iC,{searchQuery:(a==null?void 0:a.name)||"",onSelect:U,onModalStateChange:w}),C.jsx(W3,{onScan:R,isScanning:f,setIsScanning:g})]})]})]}),C.jsxs("div",{className:fr.macrosWrapper,children:[C.jsx(pi,{label:"Kcal",name:Qt.Calories,value:(a==null?void 0:a.calories)||"",onChangeHandler:m}),C.jsxs("div",{className:fr.innerMacrosWrapper,children:[C.jsx(pi,{label:"Carbs",name:Qt.Carbohydrates,value:(a==null?void 0:a.carbohydrates)||"",onChangeHandler:m}),C.jsx(pi,{label:"Fat",name:Qt.Fat,value:(a==null?void 0:a.fat)||"",onChangeHandler:m}),C.jsx(pi,{label:"Protein",name:Qt.Protein,value:(a==null?void 0:a.protein)||"",onChangeHandler:m}),C.jsx(pi,{label:"Sat.fat",name:Qt.SaturatedFat,value:(a==null?void 0:a.saturatedFat)||"",onChangeHandler:m}),C.jsx(pi,{label:"Sugar",name:Qt.Sugar,value:(a==null?void 0:a.sugar)||"",onChangeHandler:m}),C.jsx(pi,{label:"Salt",name:Qt.Salt,value:(a==null?void 0:a.salt)||"",onChangeHandler:m})]})]})]}),C.jsxs("div",{className:fr.buttonWrapper,children:[C.jsx(lr,{label:"Add to list",appearance:"typeA",onClick:v}),C.jsx(lr,{label:"Create menu",appearance:"typeB",onClick:e})]})]})}const lC="/assets/banane_1-baa07fd8.png";var cC={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function uC(e){if(typeof e=="number")return{value:e,unit:"px"};var t,i=(e.match(/^[0-9.]*/)||"").toString();i.includes(".")?t=parseFloat(i):t=parseInt(i,10);var a=(e.match(/[^0-9]*$/)||"").toString();return cC[a]?{value:t,unit:a}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function Hf(e){var t=uC(e);return"".concat(t.value).concat(t.unit)}var fC=function(e,t,i){var a="react-spinners-".concat(e,"-").concat(i);if(typeof window>"u"||!window.document)return a;var u=document.createElement("style");document.head.appendChild(u);var f=u.sheet,g=`
    @keyframes `.concat(a,` {
      `).concat(t,`
    }
  `);return f&&f.insertRule(g,0),a},dl=globalThis&&globalThis.__assign||function(){return dl=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},dl.apply(this,arguments)},dC=globalThis&&globalThis.__rest||function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(e);u<a.length;u++)t.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(e,a[u])&&(i[a[u]]=e[a[u]]);return i},hC=fC("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function gC(e){var t=e.loading,i=t===void 0?!0:t,a=e.color,u=a===void 0?"#000000":a,f=e.speedMultiplier,g=f===void 0?1:f,x=e.cssOverride,w=x===void 0?{}:x,m=e.size,I=m===void 0?35:m,v=dC(e,["loading","color","speedMultiplier","cssOverride","size"]),M=dl({background:"transparent !important",width:Hf(I),height:Hf(I),borderRadius:"100%",border:"2px solid",borderTopColor:u,borderBottomColor:"transparent",borderLeftColor:u,borderRightColor:u,display:"inline-block",animation:"".concat(hC," ").concat(.75/g,"s 0s infinite linear"),animationFillMode:"both"},w);return i?F.createElement("span",dl({style:M},v)):null}const pC="_searchFilterWrapper_bxyry_1",mC="_searchBar_bxyry_6",xC="_searchIcon_bxyry_19",yC="_searchInput_bxyry_23",wC="_clearButton_bxyry_34",CC="_filterToggle_bxyry_50",EC="_active_bxyry_67",AC="_hasFilters_bxyry_73",vC="_filterDot_bxyry_76",SC="_resultsCount_bxyry_87",IC="_filtersPanel_bxyry_94",_C="_slideDown_bxyry_1",TC="_filtersHeader_bxyry_111",NC="_clearFiltersBtn_bxyry_123",bC="_filtersGrid_bxyry_137",MC="_filterItem_bxyry_153",OC="_quickFilters_bxyry_178",wt={searchFilterWrapper:pC,searchBar:mC,searchIcon:xC,searchInput:yC,clearButton:wC,filterToggle:CC,active:EC,hasFilters:AC,filterDot:vC,resultsCount:SC,filtersPanel:IC,slideDown:_C,filtersHeader:TC,clearFiltersBtn:NC,filtersGrid:bC,filterItem:MC,quickFilters:OC};function RC({onSearch:e,onFilter:t,onSort:i,totalProducts:a,filteredCount:u}){const[f,g]=F.useState(""),[x,w]=F.useState(!1),[m,I]=F.useState({}),v=N=>{g(N),e(N)},M=()=>{g(""),e("")},R=(N,_)=>{const O=_===""?void 0:Number(_),B={...m,[N]:O};I(B),t(B)},U=()=>{I({}),t({}),i("none")},k=(N,_)=>{I(N),t(N),i(_)},W=Object.values(m).some(N=>N!==void 0);return C.jsxs("div",{title:"Configure filter options",className:wt.searchFilterWrapper,children:[C.jsxs("div",{className:wt.searchBar,children:[C.jsx(Ng,{className:wt.searchIcon,size:20}),C.jsx("input",{type:"text",placeholder:"Search products...",value:f,onChange:N=>v(N.target.value),className:wt.searchInput}),f&&C.jsx("button",{onClick:M,className:wt.clearButton,"aria-label":"Clear search",children:C.jsx(F1,{size:18})}),C.jsxs("button",{onClick:()=>w(!x),className:`${wt.filterToggle} ${x?wt.active:""} ${W?wt.hasFilters:""}`,"aria-label":"Toggle filters",children:[C.jsx(M3,{size:20}),W&&C.jsx("span",{className:wt.filterDot})]})]}),C.jsxs("div",{className:wt.resultsCount,children:["Showing ",u," of ",a," products"]}),x&&C.jsxs("div",{className:wt.filtersPanel,children:[C.jsxs("div",{className:wt.filtersHeader,children:[C.jsx("h3",{children:"Filter by Macros (per 100g)"}),W&&C.jsx("button",{onClick:U,className:wt.clearFiltersBtn,children:"Clear all"})]}),C.jsxs("div",{className:wt.filtersGrid,children:[C.jsxs("div",{className:wt.filterItem,children:[C.jsx("label",{children:"Max Calories"}),C.jsx("input",{type:"number",placeholder:"e.g. 200",value:m.maxCalories||"",onChange:N=>R("maxCalories",N.target.value)})]}),C.jsxs("div",{className:wt.filterItem,children:[C.jsx("label",{children:"Min Protein (g)"}),C.jsx("input",{type:"number",placeholder:"e.g. 10",value:m.minProtein||"",onChange:N=>R("minProtein",N.target.value)})]}),C.jsxs("div",{className:wt.filterItem,children:[C.jsx("label",{children:"Max Carbs (g)"}),C.jsx("input",{type:"number",placeholder:"e.g. 30",value:m.maxCarbs||"",onChange:N=>R("maxCarbs",N.target.value)})]}),C.jsxs("div",{className:wt.filterItem,children:[C.jsx("label",{children:"Max Fat (g)"}),C.jsx("input",{type:"number",placeholder:"e.g. 15",value:m.maxFat||"",onChange:N=>R("maxFat",N.target.value)})]})]}),C.jsxs("div",{className:wt.quickFilters,children:[C.jsx("span",{children:"Quick filters:"}),C.jsx("button",{onClick:()=>k({maxCalories:100},"calories-asc"),children:"Low Cal"}),C.jsx("button",{onClick:()=>k({minProtein:15},"protein-desc"),children:"High Protein"}),C.jsx("button",{onClick:()=>k({maxCarbs:10},"carbs-asc"),children:"Low Carb"}),C.jsx("button",{onClick:()=>k({maxFat:5},"fat-asc"),children:"Low Fat"})]})]})]})}const DC="_paginationWrapper_msfeg_1",LC="_itemsInfo_msfeg_17",kC="_pageControls_msfeg_30",BC="_navButton_msfeg_41",PC="_pageNumbers_msfeg_69",FC="_pageButton_msfeg_79",jC="_active_msfeg_92",UC="_dots_msfeg_102",zC="_perPageSelector_msfeg_118",Tn={paginationWrapper:DC,itemsInfo:LC,pageControls:kC,navButton:BC,pageNumbers:PC,pageButton:FC,active:jC,dots:UC,perPageSelector:zC};function WC({currentPage:e,totalPages:t,onPageChange:i,itemsPerPage:a,onItemsPerPageChange:u,totalItems:f}){const g=(e-1)*a+1,x=Math.min(e*a,f),w=()=>{const m=[];if(t<=5)for(let v=1;v<=t;v++)m.push(v);else{m.push(1),e>3&&m.push("...");for(let v=Math.max(2,e-1);v<=Math.min(t-1,e+1);v++)m.push(v);e<t-2&&m.push("..."),t>1&&m.push(t)}return m};return t<=1?null:C.jsxs("div",{className:Tn.paginationWrapper,children:[C.jsxs("div",{className:Tn.itemsInfo,children:["Showing ",g,"-",x," of ",f]}),C.jsxs("div",{className:Tn.pageControls,children:[C.jsx("button",{onClick:()=>i(1),disabled:e===1,className:Tn.navButton,"aria-label":"First page",children:C.jsx(v3,{size:18})}),C.jsx("button",{onClick:()=>i(e-1),disabled:e===1,className:Tn.navButton,"aria-label":"Previous page",children:C.jsx(w3,{size:18})}),C.jsx("div",{className:Tn.pageNumbers,children:w().map((m,I)=>C.jsx("button",{onClick:()=>typeof m=="number"&&i(m),disabled:m==="...",className:`${Tn.pageButton} ${m===e?Tn.active:""} ${m==="..."?Tn.dots:""}`,children:m},I))}),C.jsx("button",{onClick:()=>i(e+1),disabled:e===t,className:Tn.navButton,"aria-label":"Next page",children:C.jsx(E3,{size:18})}),C.jsx("button",{onClick:()=>i(t),disabled:e===t,className:Tn.navButton,"aria-label":"Last page",children:C.jsx(I3,{size:18})})]}),C.jsxs("div",{className:Tn.perPageSelector,children:[C.jsx("label",{htmlFor:"items-per-page",children:"Per page:"}),C.jsxs("select",{id:"items-per-page",value:a,onChange:m=>u(Number(m.target.value)),children:[C.jsx("option",{value:10,children:"10"}),C.jsx("option",{value:20,children:"20"}),C.jsx("option",{value:50,children:"50"}),C.jsx("option",{value:100,children:"100"})]})]})]})}function HC(){const{setOptionsData:e,food:t,setFoodData:i,setConsumptionData:a,setInputValue:u}=F.useContext(Is)||{},[f,g]=F.useState({}),[x,w]=F.useState(!1),[m,I]=F.useState(""),[v,M]=F.useState({}),[R,U]=F.useState("none"),[k,W]=F.useState(!1),[N,_]=F.useState(!1),[O,B]=F.useState(1),[Q,q]=F.useState(20);F.useEffect(()=>{const H=async()=>{const he=await gg();if(e)if(he.length>0)e(()=>he[0]);else{const we=await hg({calories:2e3});e(()=>we.data)}},ee=async()=>{const he=await Da();console.log({data:he}),he?i==null||i(he):console.warn("Failed to fetch food data")},re=()=>{window.scrollY>0?W(!0):W(!1)};return window.addEventListener("scroll",re),H(),ee(),()=>{window.removeEventListener("scroll",re)}},[]),F.useEffect(()=>{console.log({selectedFood:f})},[f]);const z=F.useMemo(()=>{if(!t)return[];let H=t.filter(ee=>{var Xn;if(!((Xn=ee.name)==null?void 0:Xn.toLowerCase().includes(m.toLowerCase())))return!1;const{maxCalories:he,minProtein:we,maxCarbs:vt,maxFat:je}=v;return!(he&&ee.calories>he||we&&ee.protein<we||vt&&ee.carbohydrates>vt||je&&ee.fat>je)});return R!=="none"&&(H=[...H].sort((ee,re)=>{switch(R){case"calories-asc":return(ee.calories||0)-(re.calories||0);case"calories-desc":return(re.calories||0)-(ee.calories||0);case"protein-asc":return(ee.protein||0)-(re.protein||0);case"protein-desc":return(re.protein||0)-(ee.protein||0);case"carbs-asc":return(ee.carbohydrates||0)-(re.carbohydrates||0);case"carbs-desc":return(re.carbohydrates||0)-(ee.carbohydrates||0);case"fat-asc":return(ee.fat||0)-(re.fat||0);case"fat-desc":return(re.fat||0)-(ee.fat||0);case"name-asc":return(ee.name||"").localeCompare(re.name||"");case"name-desc":return(re.name||"").localeCompare(ee.name||"");default:return 0}})),H},[t,m,v,R]);F.useEffect(()=>{B(1)},[m,v]);const K=F.useMemo(()=>{const H=(O-1)*Q,ee=H+Q;return z.slice(H,ee)},[z,O,Q]),X=Math.ceil(z.length/Q),pe=H=>{q(H),B(1)},Ie=H=>{B(H),window.scrollTo({top:0,behavior:"smooth"})};function oe(H,ee){if(ee===""&&H!=null){const re={...f};delete re[H],g(re)}else H&&g(re=>({...re,[H]:ee}))}function ye(){const H=[];for(const ee in f)t==null||t.find(re=>{const he=+f[ee]/100;if(re.name===ee){const we={name:ee,grams:+(he*100).toFixed(1),calories:+(he*re.calories).toFixed(1),carbohydrates:+(he*re.carbohydrates).toFixed(1),fat:+(he*re.fat).toFixed(1),protein:+(he*re.protein).toFixed(1),saturatedFat:+(he*re.saturatedFat).toFixed(1),sugar:+(he*re.sugar).toFixed(1),salt:+(he*re.salt).toFixed(1)};H.push(we)}});return H}async function Se(){if(a){const H=ye();console.log({data:H}),await iy(H);const ee=await La();a(ee),Be.success("Food saved into daily consumption!",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}}function Y(){const H={calories:0,carbohydrates:0,fat:0,protein:0,saturatedFat:0,sugar:0,salt:0};ye().forEach(he=>{H.calories+=+he.calories,H.carbohydrates+=+he.carbohydrates,H.fat+=+he.fat,H.protein+=+he.protein,H.saturatedFat+=+he.saturatedFat,H.sugar+=+he.sugar,H.salt+=+he.salt}),console.log({summerizedValues:H});const re={calories:H.calories.toFixed(1).toString(),carbohydrates:H.carbohydrates.toFixed(1).toString(),fat:H.fat.toFixed(1).toString(),protein:H.protein.toFixed(1).toString(),saturatedFat:H.saturatedFat.toFixed(1).toString(),sugar:H.sugar.toFixed(1).toString(),salt:H.salt.toFixed(1).toString()};u&&u(re)}async function ve(H){if(H){await ry({name:H});const ee=await Da();i&&i(ee)}}async function fe(H,ee,re){const he=re.target,we=new FileReader;we.readAsDataURL(he.files[0]),we.onload=async function(){const vt=we.result;if(vt){w(H),await pg(H,ee,vt);const je=await Da();w(!1),i&&i(je)}}}return C.jsxs("div",{className:gt.products,children:[C.jsxs("div",{className:gt.inputWrapper,children:[C.jsx("div",{className:gt.navWrapper,children:C.jsx(Ml,{})}),C.jsx(aC,{handleCreateMenu:Y,onModalStateChange:_}),C.jsx("img",{className:gt.banana,src:lC,alt:"A half peeled banana"}),C.jsx("div",{title:"Save products with gram values into balance",className:gt.addButtonWrapper,children:t&&(t==null?void 0:t.length)>0&&C.jsx("button",{onClick:Se,children:"+"})})]}),C.jsxs("div",{className:`${gt.outerPanelWrapper} ${k||N?gt.scrolled:""}`,children:[t&&t.length>0&&C.jsx(RC,{onSearch:I,onFilter:M,onSort:U,totalProducts:t.length,filteredCount:z.length}),K.length>0?K.map((H,ee)=>C.jsxs("div",{className:gt.productPanelWrapper,children:[C.jsx("div",{className:gt.titleWrapper,children:C.jsxs("div",{className:gt.imageWrapper,children:[C.jsxs("p",{className:gt.image,children:[x===H._id?C.jsx(gC,{loading:x==H._id,size:20,"aria-label":"Loading Spinner","data-testid":"loader"}):H.image&&C.jsx("img",{className:gt.image_small,src:"https://res.cloudinary.com/dzgj2ovq2/image/upload/"+H.image,alt:""}),C.jsx("input",{type:"file",onChange:re=>fe(H._id||"",H.image||"",re)})]}),C.jsxs("p",{className:gt.title,children:[H.name,H.image&&C.jsx("img",{className:gt.image_large,src:"https://res.cloudinary.com/dzgj2ovq2/image/upload/"+H.image,alt:""})]})]})}),C.jsxs("div",{className:gt.nutrientWrapper,children:[C.jsxs("div",{className:gt.topNutrientWrapper,children:[C.jsx(ut,{label:"Kcal",value:H.calories}),C.jsx(ut,{label:"Carbs",value:H.carbohydrates}),C.jsx(ut,{label:"Fat",value:H.fat}),C.jsx(ut,{label:"Protein",value:H.protein})]}),C.jsxs("div",{className:gt.bottomNutrientWrapper,children:[C.jsx(ut,{label:"Sat.Fat",value:H.saturatedFat}),C.jsx(ut,{label:"Sugar",value:H.sugar}),C.jsx(ut,{label:"Salt",value:H.salt}),C.jsxs("div",{className:gt.gramsWrapper,children:[C.jsx("p",{children:"g"}),C.jsx("input",{type:"text",value:f[H.name||"empty"],onChange:re=>oe(H.name,re.target.value)})]})]})]}),C.jsx("span",{className:gt.close,onClick:()=>ve(H.name),children:"x"})]},ee)):C.jsxs("div",{className:gt.noResults,children:[C.jsx("p",{children:"No products found matching your criteria"}),C.jsx("button",{onClick:()=>{I(""),M({})},children:"Clear filters"})]}),z.length>0&&C.jsx(WC,{currentPage:O,totalPages:X,onPageChange:Ie,itemsPerPage:Q,onItemsPerPageChange:pe,totalItems:z.length})]})]})}const VC="_archive_13rfs_1",GC="_archiveHeader_13rfs_7",YC="_archiveImage_13rfs_28",XC="_buttonWrapper_13rfs_58",QC="_outerPanelWrapper_13rfs_62",ZC="_panelWrapper_13rfs_70",KC="_macrosWrapper_13rfs_91",qC="_dateWrapper_13rfs_95",$C="_grams_13rfs_101",JC="_close_13rfs_108",jn={archive:VC,archiveHeader:GC,archiveImage:YC,buttonWrapper:XC,outerPanelWrapper:QC,panelWrapper:ZC,macrosWrapper:KC,dateWrapper:qC,grams:$C,close:JC},eE="/assets/nudeln_1-9adb8377.png";function tE(){const{archive:e,setArchive:t}=F.useContext(Is)||[];F.useEffect(()=>{const f=async()=>{const g=await Tc();t&&(t(g),console.log({data:g}))};return()=>{f()}},[]);function i(f){return new Date(f).toLocaleDateString("de-DE")}async function a(f){await ly(f);const g=await Tc();t&&t(g)}async function u(){await cy();const f=await Tc();t&&t(f)}return C.jsxs("div",{className:jn.archive,children:[C.jsxs("div",{className:jn.archiveHeader,children:[C.jsx("img",{className:jn.archiveImage,src:eE,alt:"A plate with uncooked pasta"}),C.jsx(Ml,{}),C.jsx("h1",{children:"Archive"}),C.jsx("div",{className:jn.buttonWrapper,children:C.jsx(lr,{label:"Reset",appearance:"typeA",onClick:u})})]}),C.jsx("div",{className:jn.outerPanelWrapper,children:e==null?void 0:e.map((f,g)=>C.jsxs("div",{className:jn.panelWrapper,children:[C.jsxs("div",{className:jn.dateWrapper,children:[C.jsx("p",{className:jn.date,children:i(f.date||"")}),C.jsx("p",{className:jn.grams,children:f.grams})]}),C.jsxs("div",{className:jn.macrosWrapper,children:[C.jsx(ut,{label:"Kcal",value:f.calories}),C.jsx(ut,{label:"Carbs",value:f.carbohydrates}),C.jsx(ut,{label:"Fat",value:f.fat}),C.jsx(ut,{label:"Protein",value:f.protein}),C.jsx(ut,{label:"Sat.fat",value:f.saturatedFat}),C.jsx(ut,{label:"Sugar",value:f.sugar}),C.jsx(ut,{label:"Salt",value:f.salt})]}),C.jsx("span",{className:jn.close,onClick:()=>a(f._id||""),children:"x"})]},g))})]})}const nE="_options_n57yt_1",rE="_navWrapper_n57yt_9",iE="_buttonWrapper_n57yt_23",sE="_errorMessage_n57yt_27",xa={options:nE,navWrapper:rE,buttonWrapper:iE,errorMessage:sE};function oE(){const{options:e,setOptionsData:t}=F.useContext(Is),[i,a]=F.useState({calories:"",carbohydrates:"",fat:"",protein:"",saturatedFat:"",sugar:"",salt:""}),[u,f]=F.useState("");async function g(){f("");const m=x();if((m==null?void 0:m.valid)===!0){const I=await ty({...i,id:e==null?void 0:e._id});t&&(t(I==null?void 0:I.data),a({calories:"",carbohydrates:"",fat:"",protein:"",saturatedFat:"",sugar:"",salt:""})),console.log({data:I})}}function x(){return+i.calories==0||+i.carbohydrates==0||+i.fat==0||+i.protein==0||+i.saturatedFat==0||+i.sugar==0||+i.salt==0?{valid:!1,msg:f("All fields must have a value greater than 0!")}:+i.calories<=100?{valid:!1,msg:f("Calories must have a value greater than 100!")}:(+i.carbohydrates>0||+i.fat>0||+i.protein>0)&&+i.carbohydrates+ +i.fat+ +i.protein!=1?{valid:!1,msg:f("Carbs, fat and protein must equal to the amount of 1!")}:+i.saturatedFat>+i.fat?{valid:!1,msg:f("Saturated fat cannot be higher then fat!")}:+i.sugar>+i.carbohydrates?{valid:!1,msg:f("Sugar cannot be higher than carbohydrates!")}:{valid:!0}}function w(m){const I=m.target.name,v=m.target.value;a({...i,[I]:v})}return C.jsxs("div",{className:xa.options,children:[C.jsx("div",{className:xa.navWrapper,children:C.jsx(Ml,{})}),C.jsx("h1",{children:"Options"}),C.jsx("h2",{children:"Limit values"}),u&&C.jsx("p",{className:xa.errorMessage,children:u}),C.jsx(mi,{label:"Calories",placeholder:"g",name:Qt.Calories,gramValue:e==null?void 0:e.calories,value:i==null?void 0:i.calories,onChangeHandler:w}),C.jsx(mi,{label:"Carbohydrates",placeholder:"%",name:Qt.Carbohydrates,gramValue:e==null?void 0:e.carbohydrates,value:i==null?void 0:i.carbohydrates,calculated:(e==null?void 0:e.calories)&&((e==null?void 0:e.carbohydrates)*4/(e==null?void 0:e.calories)).toFixed(2),onChangeHandler:w}),C.jsx(mi,{label:"Fat",placeholder:"%",name:Qt.Fat,gramValue:e==null?void 0:e.fat,value:i==null?void 0:i.fat,calculated:(e==null?void 0:e.calories)&&((e==null?void 0:e.fat)*9/(e==null?void 0:e.calories)).toFixed(2),onChangeHandler:w}),C.jsx(mi,{label:"Protein",placeholder:"%",name:Qt.Protein,gramValue:e==null?void 0:e.protein,value:i==null?void 0:i.protein,calculated:(e==null?void 0:e.calories)&&((e==null?void 0:e.protein)*4/(e==null?void 0:e.calories)).toFixed(2),onChangeHandler:w}),C.jsx(mi,{label:"Saturated fat",placeholder:"%",name:Qt.SaturatedFat,gramValue:e==null?void 0:e.saturatedFat,value:i==null?void 0:i.saturatedFat,calculated:(e==null?void 0:e.calories)&&((e==null?void 0:e.saturatedFat)*9/(e==null?void 0:e.calories)).toFixed(2),onChangeHandler:w}),C.jsx(mi,{label:"Sugar",placeholder:"%",name:Qt.Sugar,gramValue:e==null?void 0:e.sugar,value:i==null?void 0:i.sugar,calculated:(e==null?void 0:e.calories)&&((e==null?void 0:e.sugar)*4/(e==null?void 0:e.calories)).toFixed(2),onChangeHandler:w}),C.jsx(mi,{label:"Salt",placeholder:"g",name:Qt.Salt,gramValue:e==null?void 0:e.salt,value:i==null?void 0:i.salt,onChangeHandler:w}),C.jsx("div",{className:xa.buttonWrapper,children:C.jsx(lr,{label:"Save",type:"submit",appearance:"typeB",onClick:g})})]})}const aE="_logo_t6mir_1",lE="_text_t6mir_11",cE="_small_t6mir_14",uE="_large_t6mir_20",Oc={logo:aE,text:lE,small:cE,large:uE},fE="/assets/logo-v3-db7635ea.png";function bg({size:e="medium"}){return C.jsxs("div",{className:`${Oc.logo} ${Oc[e]}`,children:[C.jsx("img",{src:fE,alt:"app logo"}),C.jsx("span",{className:Oc.text,children:"MacroMonitor"})]})}const dE="_navbar_fhg3e_1",hE="_container_fhg3e_9",gE="_navLinks_fhg3e_17",pE="_authButtons_fhg3e_38",mE="_mobileMenuBtn_fhg3e_48",xE="_mobileMenu_fhg3e_48",Gi={navbar:dE,container:hE,navLinks:gE,authButtons:pE,mobileMenuBtn:mE,mobileMenu:xE};function yE({onAuthClick:e}){const[t,i]=F.useState(!1),a=u=>{const f=document.getElementById(u);f==null||f.scrollIntoView({behavior:"smooth"}),i(!1)};return C.jsxs("nav",{className:Gi.navbar,children:[C.jsxs("div",{className:Gi.container,children:[C.jsx(bg,{}),C.jsxs("ul",{className:Gi.navLinks,children:[C.jsx("li",{onClick:()=>a("features"),children:"Features"}),C.jsx("li",{onClick:()=>a("how-it-works"),children:"How It Works"}),C.jsx("li",{onClick:()=>a("about"),children:"About"})]}),C.jsxs("div",{className:Gi.authButtons,children:[C.jsx(lr,{label:"Login",appearance:"typeB",onClick:()=>e("login")}),C.jsx(lr,{label:"Sign Up",appearance:"typeA",onClick:()=>e("register")})]}),C.jsx("button",{className:Gi.mobileMenuBtn,onClick:()=>i(!t),children:t?"":""})]}),t&&C.jsx("div",{className:Gi.mobileMenu,children:C.jsxs("ul",{children:[C.jsx("li",{onClick:()=>a("features"),children:"Features"}),C.jsx("li",{onClick:()=>a("how-it-works"),children:"How It Works"}),C.jsx("li",{onClick:()=>a("about"),children:"About"}),C.jsx("li",{onClick:()=>{e("login"),i(!1)},children:"Login"}),C.jsx("li",{onClick:()=>{e("register"),i(!1)},children:"Sign Up"})]})})]})}const wE="_hero_sqi5t_1",CE="_container_sqi5t_7",EE="_content_sqi5t_23",AE="_headline_sqi5t_28",vE="_highlight_sqi5t_41",SE="_subheadline_sqi5t_48",IE="_cta_sqi5t_60",_E="_subtext_sqi5t_70",TE="_heroImage_sqi5t_75",NE="_mockup_sqi5t_81",bE="_float_sqi5t_1",ME="_phone_sqi5t_86",OE="_screen_sqi5t_108",RE="_screenContent_sqi5t_119",DE="_stat_sqi5t_131",LE="_label_sqi5t_140",kE="_value_sqi5t_147",dn={hero:wE,container:CE,content:EE,headline:AE,highlight:vE,subheadline:SE,cta:IE,subtext:_E,heroImage:TE,mockup:NE,float:bE,phone:ME,screen:OE,screenContent:RE,stat:DE,label:LE,value:kE},BE="/assets/hero-ddd132e6.png";function PE({onGetStarted:e}){return C.jsx("section",{className:dn.hero,children:C.jsxs("div",{className:dn.container,children:[C.jsxs("div",{className:dn.content,children:[C.jsxs("h1",{className:dn.headline,children:["Track Your Nutrition with a"," ",C.jsx("span",{className:dn.highlight,children:"Simple Snap"})]}),C.jsx("p",{className:dn.subheadline,children:"Upload product images, monitor your macros, and keep your health goals on track. Your personal nutrition assistant in your pocket."}),C.jsx("div",{className:dn.cta,children:C.jsx(lr,{label:"Get Started Free",appearance:"typeA",onClick:e})}),C.jsx("p",{className:dn.subtext,children:"No credit card required  Free forever"})]}),C.jsx("div",{className:dn.heroImage,children:C.jsx("div",{className:dn.mockup,children:C.jsx("div",{className:dn.phone,children:C.jsx("div",{className:dn.screen,children:C.jsx("div",{className:dn.screenContent,children:C.jsx("img",{src:BE,alt:"Hero image of the app in mobile view"})})})})})})]})})}const FE="_titleWrapper_m50ss_1",jE="_centered_m50ss_4",UE="_title_m50ss_1",zE="_subtitle_m50ss_20",ya={titleWrapper:FE,centered:jE,title:UE,subtitle:zE};function Mg({title:e,subtitle:t,centered:i=!0}){return C.jsxs("div",{className:`${ya.titleWrapper} ${i?ya.centered:""}`,children:[C.jsx("h2",{className:ya.title,children:e}),t&&C.jsx("p",{className:ya.subtitle,children:t})]})}const WE="_card_893vg_1",HE="_imageWrapper_893vg_12",VE="_overlay_893vg_23",GE="_title_893vg_39",YE="_description_893vg_44",Qs={card:WE,imageWrapper:HE,overlay:VE,title:GE,description:YE};function XE({image:e,alt:t,title:i,description:a}){return C.jsx("div",{className:Qs.card,children:C.jsxs("div",{className:Qs.imageWrapper,children:[C.jsx("img",{src:e,alt:t}),C.jsxs("div",{className:Qs.overlay,children:[C.jsx("h3",{className:Qs.title,children:i}),C.jsx("p",{className:Qs.description,children:a})]})]})})}const QE="_features_19yif_1",ZE="_container_19yif_6",KE="_grid_19yif_11",Rc={features:QE,container:ZE,grid:KE},qE="/assets/pumpkins-f1da1c1a.jpg",$E="/assets/macros-412446ea.jpg",JE="/assets/salt-cbb5b6cb.jpg",e4="/assets/archiv-df789041.jpg";function t4(){const e=[{image:qE,alt:"Pumpkins",title:"Image Upload",description:"Simply snap a photo of any product and let our app do the rest. Quick and effortless tracking."},{image:$E,alt:"Food labeled with proteins, carbs and fats",title:"Macro Tracking",description:"Monitor your proteins, carbs, and fats with precision. Stay on top of your nutritional goals."},{image:JE,alt:"",title:"Essential Nutrients",description:"Track salt, sugar, saturated fats, and other vital nutrients to maintain a balanced diet."},{image:e4,alt:"",title:"Daily Archive",description:"Review your nutrition history anytime. See patterns and make informed decisions about your diet."}];return C.jsx("section",{id:"features",className:Rc.features,children:C.jsxs("div",{className:Rc.container,children:[C.jsx(Mg,{title:"Everything You Need to Track Your Nutrition",subtitle:"Powerful features designed to make nutrition tracking simple and effective"}),C.jsx("div",{className:Rc.grid,children:e.map((t,i)=>C.jsx(XE,{image:t.image,alt:t.alt,title:t.title,description:t.description},i))})]})})}const n4="_stepCard_1ynjs_1",r4="_number_1ynjs_6",i4="_title_1ynjs_21",s4="_description_1ynjs_28",wa={stepCard:n4,number:r4,title:i4,description:s4};function o4({number:e,title:t,description:i}){return C.jsxs("div",{className:wa.stepCard,children:[C.jsx("div",{className:wa.number,children:e}),C.jsx("h3",{className:wa.title,children:t}),C.jsx("p",{className:wa.description,children:i})]})}const a4="_howItWorks_15w9h_1",l4="_container_15w9h_6",c4="_steps_15w9h_11",Dc={howItWorks:a4,container:l4,steps:c4};function u4(){const e=[{number:1,title:"Upload",description:"Take a photo of your food product or meal"},{number:2,title:"Track",description:"Automatically log macros and essential nutrients"},{number:3,title:"Analyze",description:"Review your daily intake and nutrition history"}];return C.jsx("section",{id:"how-it-works",className:Dc.howItWorks,children:C.jsxs("div",{className:Dc.container,children:[C.jsx(Mg,{title:"How It Works",subtitle:"Start tracking your nutrition in three simple steps"}),C.jsx("div",{className:Dc.steps,children:e.map(t=>C.jsx(o4,{number:t.number,title:t.title,description:t.description},t.number))})]})})}const f4="_footer_1q1j6_1",d4="_container_1q1j6_7",h4="_grid_1q1j6_12",g4="_brand_1q1j6_30",p4="_tagline_1q1j6_30",m4="_links_1q1j6_36",x4="_bottom_1q1j6_54",y4="_social_1q1j6_73",nr={footer:f4,container:d4,grid:h4,brand:g4,tagline:p4,links:m4,bottom:x4,social:y4};function w4(){function e(){return new Date().getFullYear()}return C.jsx("footer",{className:nr.footer,children:C.jsxs("div",{className:nr.container,children:[C.jsxs("div",{className:nr.grid,children:[C.jsxs("div",{className:nr.brand,children:[C.jsx(bg,{}),C.jsx("p",{className:nr.tagline,children:"Your personal nutrition tracking companion"})]}),C.jsxs("div",{className:nr.links,children:[C.jsx("h4",{children:"Product"}),C.jsxs("ul",{children:[C.jsx("li",{children:"Features"}),C.jsx("li",{children:"How It Works"}),C.jsx("li",{children:"Pricing"}),C.jsx("li",{children:"FAQ"})]})]}),C.jsxs("div",{className:nr.links,children:[C.jsx("h4",{children:"Company"}),C.jsxs("ul",{children:[C.jsx("li",{children:"About Us"}),C.jsx("li",{children:"Blog"}),C.jsx("li",{children:"Careers"}),C.jsx("li",{children:"Contact"})]})]}),C.jsxs("div",{className:nr.links,children:[C.jsx("h4",{children:"Legal"}),C.jsxs("ul",{children:[C.jsx("li",{children:"Privacy Policy"}),C.jsx("li",{children:"Terms of Service"}),C.jsx("li",{children:"Cookie Policy"})]})]})]}),C.jsxs("div",{className:nr.bottom,children:[C.jsxs("p",{children:[" ",e()," MacroMonitor. All rights reserved."]}),C.jsx("div",{className:nr.social})]})]})})}const Og=F.createContext(void 0),C4=({children:e})=>{const[t,i]=F.useState(null),[a,u]=F.useState(!0);F.useEffect(()=>{$x().then(w=>{w!=null&&w.user&&i(w.user),u(!1)}).catch(w=>{console.log(w),u(!1)})},[]);const f=async(w,m)=>{const I=await ey(w,m);I!=null&&I.user&&i(I.user)},g=async(w,m,I)=>{const v=await Jx(w,m,I);v!=null&&v.user&&i(v.user)},x=()=>{i(null),k1()};return C.jsx(Og.Provider,{value:{user:t,loading:a,setUser:i,login:f,register:g,logout:x},children:e})},Rg=()=>{const e=F.useContext(Og);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},E4="_input_vcno0_1",A4={input:E4};function v4({type:e,placeholder:t,value:i,onChange:a,name:u,required:f=!1,disabled:g}){return C.jsx("input",{className:A4.input,type:e,placeholder:t,value:i,onChange:a,name:u,required:f,disabled:g})}const S4="_fieldWrapper_17dxj_1",I4="_label_17dxj_8",_4="_required_17dxj_16",T4="_error_17dxj_21",Ca={fieldWrapper:S4,label:I4,required:_4,error:T4};function Lc({label:e,type:t,name:i,value:a,onChange:u,error:f,disabled:g,required:x=!1}){return C.jsxs("div",{className:Ca.fieldWrapper,children:[C.jsxs("label",{className:Ca.label,htmlFor:i,children:[e,x&&C.jsx("span",{className:Ca.required,children:"*"})]}),C.jsx(v4,{type:t,name:i,value:a,onChange:u,disabled:g,required:x}),f&&C.jsx("span",{className:Ca.error,children:f})]})}const N4="_overlay_1bp70_1",b4="_fadeIn_1bp70_1",M4="_modal_1bp70_13",O4="_slideUp_1bp70_1",R4="_error_1bp70_24",D4="_closeBtn_1bp70_34",L4="_header_1bp70_49",k4="_title_1bp70_54",B4="_subtitle_1bp70_61",P4="_submitBtn_1bp70_66",F4="_toggle_1bp70_72",dr={overlay:N4,fadeIn:b4,modal:M4,slideUp:O4,error:R4,closeBtn:D4,header:L4,title:k4,subtitle:B4,submitBtn:P4,toggle:F4};function j4({isOpen:e,onClose:t,initialMode:i="login"}){const a=L1(),{login:u,register:f}=Rg(),[g,x]=F.useState(i),[w,m]=F.useState({name:"",email:"",password:""}),[I,v]=F.useState(null),[M,R]=F.useState(!1);if(!e)return null;const U=async N=>{N.preventDefault(),v(null),R(!0);try{g==="login"?await u(w.email,w.password):await f(w.email,w.password,w.name),console.log("Authentication successful"),t(),a("/products")}catch(_){console.error("Auth error:",_),v("Authentication failed. Please try again.")}finally{R(!1)}},k=N=>{m({...w,[N.target.name]:N.target.value}),I&&v(null)},W=()=>{x(g==="login"?"register":"login"),v(null),m({name:"",email:"",password:""})};return C.jsx("div",{className:dr.overlay,onClick:t,children:C.jsxs("div",{className:dr.modal,onClick:N=>N.stopPropagation(),children:[C.jsx("button",{className:dr.closeBtn,onClick:t,children:""}),C.jsxs("div",{className:dr.header,children:[C.jsx("h2",{className:dr.title,children:g==="login"?"Welcome Back!":"Create Account"}),C.jsx("p",{className:dr.subtitle,children:g==="login"?"Login to continue tracking your nutrition":"Start your nutrition tracking journey today"})]}),C.jsxs("form",{onSubmit:U,children:[I&&C.jsx("div",{className:dr.error,children:I}),g==="register"&&C.jsx(Lc,{label:"Full Name",type:"text",name:"name",value:w.name,onChange:k,required:!0,disabled:M}),C.jsx(Lc,{label:"Email",type:"email",name:"email",value:w.email,onChange:k,required:!0,disabled:M}),C.jsx(Lc,{label:"Password",type:"password",name:"password",value:w.password,onChange:k,required:!0,disabled:M,minLength:6}),C.jsx("div",{className:dr.submitBtn,children:C.jsx(lr,{label:M?"Loading...":g==="login"?"Login":"Sign Up",type:"submit",appearance:"typeA",disabled:M})})]}),C.jsx("div",{className:dr.toggle,children:C.jsxs("p",{children:[g==="login"?"Don't have an account? ":"Already have an account? ",C.jsx("span",{onClick:W,children:g==="login"?"Sign Up":"Login"})]})})]})})}const U4="_landingPage_nx4i7_1",z4="_about_nx4i7_5",W4="_aboutContainer_nx4i7_10",kc={landingPage:U4,about:z4,aboutContainer:W4};function H4(){const[e,t]=F.useState(!1),[i,a]=F.useState("login"),u=g=>{a(g),t(!0)},f=()=>{a("register"),t(!0)};return F.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),C.jsxs("div",{className:kc.landingPage,children:[C.jsx(yE,{onAuthClick:u}),C.jsx(PE,{onGetStarted:f}),C.jsx(t4,{}),C.jsx(u4,{}),C.jsx("section",{id:"about",className:kc.about,children:C.jsxs("div",{className:kc.aboutContainer,children:[C.jsx("h2",{children:"About MacroMonitor"}),C.jsx("p",{children:"We believe that tracking your nutrition shouldn't be complicated. That's why we built MacroMonitor - a simple, intuitive app that helps you understand what you're eating and make better choices for your health."})]})}),C.jsx(w4,{}),C.jsx(j4,{isOpen:e,onClose:()=>t(!1),initialMode:i})]})}function V4({children:e}){const{user:t,loading:i}=Rg();return i?C.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading..."}):t?C.jsx(C.Fragment,{children:e}):C.jsx(dg,{to:"/",replace:!0})}const G4="_mobileWrapper_8uxhq_1",Y4="_hamburger_8uxhq_9",X4="_active_8uxhq_48",Q4="_backdrop_8uxhq_60",Z4="_visible_8uxhq_70",K4="_mobileMenu_8uxhq_74",q4="_open_8uxhq_89",$4="_menuItem_8uxhq_92",J4="_menuHeader_8uxhq_96",eA="_menuList_8uxhq_109",tA="_icon_8uxhq_153",nA="_cog_8uxhq_172",rA="_settings_8uxhq_181",iA="_menuFooter_8uxhq_186",Gt={mobileWrapper:G4,hamburger:Y4,active:X4,backdrop:Q4,visible:Z4,mobileMenu:K4,open:q4,menuItem:$4,menuHeader:J4,menuList:eA,icon:tA,cog:nA,settings:rA,menuFooter:iA};function sA(){const[e,t]=F.useState(!1),i=F.useRef(null),a=Ss();F.useEffect(()=>{t(!1)},[a.pathname]),F.useEffect(()=>{const g=x=>{x.key==="Escape"&&t(!1)};return e&&(document.addEventListener("keydown",g),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",g),document.body.style.overflow="unset"}},[e]),F.useEffect(()=>{var g;e&&i.current&&((g=i.current.querySelectorAll("a[href], button:not([disabled])")[0])==null||g.focus())},[e]);const u=()=>{k1()},f=[{to:"/balance",label:"Balance"},{to:"/products",label:"Products"},{to:"/archive",label:"Archive"},{to:"/options",label:"Options"}];return C.jsxs("div",{className:Gt.mobileWrapper,children:[C.jsxs("button",{className:`${Gt.hamburger} ${e?Gt.active:""}`,onClick:()=>t(!e),"aria-label":e?"Close menu":"Open menu","aria-expanded":e,"aria-controls":"mobile-navigation",children:[C.jsx("span",{}),C.jsx("span",{}),C.jsx("span",{})]}),C.jsx("div",{className:`${Gt.backdrop} ${e?Gt.visible:""}`,onClick:()=>t(!1),"aria-hidden":"true"}),C.jsxs("nav",{id:"mobile-navigation",ref:i,className:`${Gt.mobileMenu} ${e?Gt.open:""}`,"aria-label":"Mobile navigation",children:[C.jsxs("div",{className:Gt.menuHeader,children:[C.jsx("h2",{children:"Menu"}),C.jsx("button",{className:Gt.closeBtn,onClick:()=>t(!1),"aria-label":"Close menu"})]}),C.jsxs("ul",{className:Gt.menuList,children:[f.map((g,x)=>C.jsx("li",{style:{"--item-index":x},className:Gt.menuItem,children:C.jsx(Ci,{to:g.to,className:a.pathname===g.to?Gt.active:"",children:C.jsx("span",{children:g.label})})},g.to)),C.jsx("li",{style:{"--item-index":f.length},className:`${Gt.menuItem} ${Gt.settings}`,onClick:u,children:C.jsx(Ci,{to:"#",children:C.jsx("span",{children:"Logout"})})})]}),C.jsx("div",{className:Gt.menuFooter,children:C.jsx("p",{children:"v1.0.0"})})]})]})}function oA(){return C.jsxs(V4,{children:[C.jsx(sA,{}),C.jsx(Sx,{})]})}function aA(){return C.jsx(Rx,{children:C.jsx(C4,{children:C.jsx(zy,{children:C.jsxs(_x,{children:[C.jsx(Fr,{path:"/",element:C.jsx(H4,{})}),C.jsxs(Fr,{element:C.jsx(oA,{}),children:[C.jsx(Fr,{path:"/balance",element:C.jsx(Ky,{})}),C.jsx(Fr,{path:"/products",element:C.jsx(HC,{})}),C.jsx(Fr,{path:"/archive",element:C.jsx(tE,{})}),C.jsx(Fr,{path:"/options",element:C.jsx(oE,{})})]}),C.jsx(Fr,{path:"*",element:C.jsx(dg,{to:"/",replace:!0})})]})})})})}Bc.createRoot(document.getElementById("root")).render(C.jsx(Ve.StrictMode,{children:C.jsx(aA,{})}));
